(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-66656016"],{"1a4a":function(t,e,a){"use strict";var n=a("8870"),r=a.n(n);r.a},"1af6":function(t,e,a){var n=a("63b6");n(n.S,"Array",{isArray:a("9003")})},"20fd":function(t,e,a){"use strict";var n=a("d9f6"),r=a("aebd");t.exports=function(t,e,a){e in t?n.f(t,e,r(0,a)):t[e]=a}},"28a5":function(t,e,a){"use strict";var n=a("aae3"),r=a("cb7c"),i=a("ebd6"),s=a("0390"),o=a("9def"),l=a("5f1b"),c=a("520a"),u=a("79e5"),d=Math.min,p=[].push,f="split",m="length",h="lastIndex",b=4294967295,y=!u(function(){RegExp(b,"y")});a("214f")("split",2,function(t,e,a,u){var v;return v="c"=="abbc"[f](/(b)*/)[1]||4!="test"[f](/(?:)/,-1)[m]||2!="ab"[f](/(?:ab)*/)[m]||4!="."[f](/(.?)(.?)/)[m]||"."[f](/()()/)[m]>1||""[f](/.?/)[m]?function(t,e){var r=String(this);if(void 0===t&&0===e)return[];if(!n(t))return a.call(r,t,e);var i,s,o,l=[],u=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),d=0,f=void 0===e?b:e>>>0,y=new RegExp(t.source,u+"g");while(i=c.call(y,r)){if(s=y[h],s>d&&(l.push(r.slice(d,i.index)),i[m]>1&&i.index<r[m]&&p.apply(l,i.slice(1)),o=i[0][m],d=s,l[m]>=f))break;y[h]===i.index&&y[h]++}return d===r[m]?!o&&y.test("")||l.push(""):l.push(r.slice(d)),l[m]>f?l.slice(0,f):l}:"0"[f](void 0,0)[m]?function(t,e){return void 0===t&&0===e?[]:a.call(this,t,e)}:a,[function(a,n){var r=t(this),i=void 0==a?void 0:a[e];return void 0!==i?i.call(a,r,n):v.call(String(r),a,n)},function(t,e){var n=u(v,t,this,e,v!==a);if(n.done)return n.value;var c=r(t),p=String(this),f=i(c,RegExp),m=c.unicode,h=(c.ignoreCase?"i":"")+(c.multiline?"m":"")+(c.unicode?"u":"")+(y?"y":"g"),g=new f(y?c:"^(?:"+c.source+")",h),I=void 0===e?b:e>>>0;if(0===I)return[];if(0===p.length)return null===l(g,p)?[p]:[];var A=0,S=0,w=[];while(S<p.length){g.lastIndex=y?S:0;var C,x=l(g,y?p:p.slice(S));if(null===x||(C=d(o(g.lastIndex+(y?0:S)),p.length))===A)S=s(p,S,m);else{if(w.push(p.slice(A,S)),w.length===I)return w;for(var _=1;_<=x.length-1;_++)if(w.push(x[_]),w.length===I)return w;S=A=C}}return w.push(p.slice(A)),w}]})},"3b2b":function(t,e,a){var n=a("7726"),r=a("5dbc"),i=a("86cc").f,s=a("9093").f,o=a("aae3"),l=a("0bfb"),c=n.RegExp,u=c,d=c.prototype,p=/a/g,f=/a/g,m=new c(p)!==p;if(a("9e1e")&&(!m||a("79e5")(function(){return f[a("2b4c")("match")]=!1,c(p)!=p||c(f)==f||"/a/i"!=c(p,"i")}))){c=function(t,e){var a=this instanceof c,n=o(t),i=void 0===e;return!a&&n&&t.constructor===c&&i?t:r(m?new u(n&&!i?t.source:t,e):u((n=t instanceof c)?t.source:t,n&&i?l.call(t):e),a?this:d,c)};for(var h=function(t){t in c||i(c,t,{configurable:!0,get:function(){return u[t]},set:function(e){u[t]=e}})},b=s(u),y=0;b.length>y;)h(b[y++]);d.constructor=c,c.prototype=d,a("2aba")(n,"RegExp",c)}a("7a56")("RegExp")},"3be0":function(t,e,a){"use strict";var n=a("64c8"),r=a.n(n);r.a},"4a2d":function(t,e,a){},5118:function(t,e,a){t.exports=a("0b93")(103)},"549b":function(t,e,a){"use strict";var n=a("d864"),r=a("63b6"),i=a("241e"),s=a("b0dc"),o=a("3702"),l=a("b447"),c=a("20fd"),u=a("7cd6");r(r.S+r.F*!a("4ee1")(function(t){Array.from(t)}),"Array",{from:function(t){var e,a,r,d,p=i(t),f="function"==typeof this?this:Array,m=arguments.length,h=m>1?arguments[1]:void 0,b=void 0!==h,y=0,v=u(p);if(b&&(h=n(h,m>2?arguments[2]:void 0,2)),void 0==v||f==Array&&o(v))for(e=l(p.length),a=new f(e);e>y;y++)c(a,y,b?h(p[y],y):p[y]);else for(d=v.call(p),a=new f;!(r=d.next()).done;y++)c(a,y,b?s(d,h,[r.value,y],!0):r.value);return a.length=y,a}})},"54a1":function(t,e,a){a("6c1c"),a("1654"),t.exports=a("95d5")},"64c8":function(t,e,a){},6582:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAASCAYAAABWzo5XAAAABHNCSVQICAgIfAhkiAAAAVRJREFUOE+VlEFSwkAQRf/H7PUmcgOTnbCxXFsCnsDyJHoEgsVeN4Yd8QbhBhxB95BvzZAZhxBCmGVn5qX79+8mGs7tu+KeMIbQB9G3V4QCRFES6eKRef0Zw8Bwrr62eCUQN/3AxQTkvMDL1wMLF/MgA8EGSxBXbRD/TfhBhMTBLOhsyH9qHmZBg5lyAjedMqldMmVmIyashF12hUj4BTAl8ezelETCQSoTHHcBGQgjxEaX4UwfAO5sQ4WUw5mM8tcB6FNCTOIyhO9B6o0RCgOS105IszEn1gYb5A7WCqke10FrRri3qVcwc8+X02KRw9ICf1hbAHDgFp+tmsWume2Uz6zYR9tfwawEJxxv299qSAOzIh0fGwHf2YixH5GwS108VfnH+2pvaM+BhZbYJR2cao28nZo7U462mCyeuD5YIyHQNIAlJtwtNef6lYRCPUybFtsfcIXRwbaurX4AAAAASUVORK5CYII="},"66a8":function(t,e,a){"use strict";var n=a("4a2d"),r=a.n(n);r.a},"68dd":function(t,e,a){},"75fc":function(t,e,a){"use strict";var n=a("a745"),r=a.n(n);function i(t){if(r()(t)){for(var e=0,a=new Array(t.length);e<t.length;e++)a[e]=t[e];return a}}var s=a("774e"),o=a.n(s),l=a("c8bb"),c=a.n(l);function u(t){if(c()(Object(t))||"[object Arguments]"===Object.prototype.toString.call(t))return o()(t)}function d(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function p(t){return i(t)||u(t)||d()}a.d(e,"a",function(){return p})},"774e":function(t,e,a){t.exports=a("d2d5")},8870:function(t,e,a){},9003:function(t,e,a){t.exports=a("0b93")(176)},9275:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAAAWCAYAAADEtGw7AAAABHNCSVQICAgIfAhkiAAAAXJJREFUOE+1letRAkEQhLsjACJQItAMhAgkAyUCMQLNQEMwAzECIQNDIASMYKzP2qX2Du5BFTdV/GFne2Z7evqsgcJtuBGxkHQv6VrSbcr9kcTvy/Ym348Izsf5v5PAETGT9FaANdXfSVpK2kv6TsUeST4CjohVAuV8K+lD0to2lxURdE9hAO5SRc7Gkna2p0fABeivpJVtQBsjIt4lPdUSprZ3h47T83kOoDPb8NgGCqfk02kZSxoqgeHrCs66Ok2U8BqGO6oBM9TFP3Ca/iec2oa/3pHUQAHuwfne9iQDU/2hb7c9JLrJwOiRapM8/d4tNyRmYOQyst26MOcUGxx4MCouNrxMV11uG9vzc7hsyi0XhE27uYTkKl5RrDQKmXetdO4UU8Ib6p1X5FWYEODPXaud8l+S+2Gfh+iyTdTCYNn/0jZZJmwzrz9N4HTNwMk7uEAinLcFfv1afkkqqmi6mcwJgzn1aUJB605VXEJiJcYfL8SiJNUdJA8AAAAASUVORK5CYII="},"95d5":function(t,e,a){var n=a("40c3"),r=a("5168")("iterator"),i=a("481b");t.exports=a("584a").isIterable=function(t){var e=Object(t);return void 0!==e[r]||"@@iterator"in e||i.hasOwnProperty(n(e))}},"98a8":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAASCAYAAABWzo5XAAAABHNCSVQICAgIfAhkiAAAAWZJREFUOE+tlD1PAkEQhp+BykYs7TQxRguLszaRo9VCbK28KNbGP6D+AX+AYIDGVhptARNrKSw0xEQ7y8PGiluzt/cJF4OBLefj2dmZfUfIOKqKTY4iChvB8kMUPYQOHl2p0BlNk6RB1VlgSB2hnHVBZFO0yOOIgxvaIpCqY+FxByz/CYmdH+TYF4eeNvkgvxKP539AQpyGberKDKhGC2EvumzjDN5v4ecrXdzcIqwcwMtV0t6QIxwJGtuOPGsV2LqGwSs8lGKYhuy0obAOTyfwVo1hHiVRN1wA55E1mRDCtDOEjF5gEi81SI+ymHpDEvbdN6751fEq46SuqBouQmFsUhq2+2gA+mjg/fZ434zXnQ1IMZjh02bWbKOr6cc/9YdUNOWYw1giQ1/dSxPqzIQpPsljRRIJ9GYx9KUyGcxAyinRhlUEa6SR0l1WiYomeU4z10gyPtCfDdioYLGJvy70YutkLbZft5yuzUJZN7cAAAAASUVORK5CYII="},a745:function(t,e,a){t.exports=a("f410")},aa8f:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAASCAYAAABWzo5XAAAABHNCSVQICAgIfAhkiAAAAUZJREFUOE+tlEFSg0AQRX8zi2RnbqBHgDKuw2zUrIw3MDfwBpqTJJ5AdokuMmSdWHCEeAPc6QLaagoopIhDVcKO/jNvunvmN6HlW5qt78AZMdgH4BZLYgKFGbLNWF+FzW1UDxgTDX6QzgFM2g6oxYIe1FRrLyljFejdRG6G9BXARR1y41/mv2/hR5O9d6Dur7UXi5CDikyiJkS0f0Ai73tQnmSWg1ZmFwC4ayvHApIti1s9nJI0lkDmUE86gMBgLaBnAj0dCZrRcr0NiWh0FIh5Q6v1LgHhzAZq6o1bTE4DYnxZS7M8zFxmKc3W7E4g8Mx6/R1B2vogbSAGXsZ6+FBZ5JvTmAjnto11nRmffVJuZRERxbQpp0FXmEAUqckf05anFOZdHPJduU7K6UM9to6ResriPwA+GOLDfLAxOAZBBlrYNth+AScqnPtOp1CYAAAAAElFTkSuQmCC"},aae3:function(t,e,a){var n=a("d3f4"),r=a("2d95"),i=a("2b4c")("match");t.exports=function(t){var e;return n(t)&&(void 0!==(e=t[i])?!!e:"RegExp"==r(t))}},aebd:function(t,e,a){t.exports=a("0b93")(26)},c471:function(t,e,a){"use strict";var n=a("c7be"),r=a.n(n);r.a},c7be:function(t,e,a){},c8bb:function(t,e,a){t.exports=a("54a1")},d2d5:function(t,e,a){a("1654"),a("549b"),t.exports=a("584a").Array.from},de61:function(t,e,a){"use strict";a.d(e,"c",function(){return i}),a.d(e,"g",function(){return s}),a.d(e,"d",function(){return o}),a.d(e,"b",function(){return l}),a.d(e,"e",function(){return c}),a.d(e,"j",function(){return u}),a.d(e,"f",function(){return d}),a.d(e,"a",function(){return p}),a.d(e,"l",function(){return f}),a.d(e,"k",function(){return m}),a.d(e,"h",function(){return h}),a.d(e,"i",function(){return b});var n=a("b775"),r="fate-manager";function i(t){return Object(n["a"])({url:"/".concat(r,"/api/deploy/prepare"),method:"get",params:t})}function s(t){return Object(n["a"])({url:"/".concat(r,"/api/deploy/pull"),method:"post",data:t})}function o(t){return Object(n["a"])({url:"/".concat(r,"/api/deploy/pulllist"),method:"post",data:t})}function l(t){return Object(n["a"])({url:"/".concat(r,"/api/deploy/installlist"),method:"post",data:t})}function c(t){return Object(n["a"])({url:"/".concat(r,"/api/deploy/testlist"),method:"post",data:t})}function u(t){return Object(n["a"])({url:"/".concat(r,"/api/deploy/commit"),method:"post",data:t})}function d(t){return Object(n["a"])({url:"/".concat(r,"/api/deploy/install"),method:"post",data:t})}function p(t){return Object(n["a"])({url:"/".concat(r,"/api/deploy/autotest"),method:"post",data:t})}function f(t){return Object(n["a"])({url:"/".concat(r,"/api/deploy/update"),method:"post",data:t})}function m(t){return Object(n["a"])({url:"/".concat(r,"/api/deploy/upgrade"),method:"post",data:t})}function h(t){return Object(n["a"])({url:"/".concat(r,"/api/deploy/click"),method:"post",data:t})}function b(t){return Object(n["a"])({url:"/".concat(r,"/api/deploy/fateboard"),method:"post",data:t})}},e0da:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"deploying"},[a("div",{staticClass:"deploying-box"},[a("div",{staticClass:"serve-title"},[a("div",{staticClass:"deploying-inline"},[t._v("FATE Deployment")]),a("div",{staticClass:"inline"},[a("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,model:t.formInline,size:"mini"}},[a("el-form-item",{attrs:{label:"PartyID:"}},[a("el-select",{class:{"option-select":t.showwarn},attrs:{placeholder:""},on:{change:t.tochangepartyId},model:{value:t.formInline.partyId,callback:function(e){t.$set(t.formInline,"partyId",e)},expression:"formInline.partyId"}},t._l(t.partyId,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}),1),t.showwarn?a("div",{staticClass:"option-partyId"},[t._v("The PartyID is required.")]):t._e()],1),a("el-form-item",{staticClass:"form-item",attrs:{label:"Site name:"}},[a("span",{staticStyle:{color:"#217AD9"}},[t._v(t._s(t.formInline.siteName))])])],1)],1)]),a("div",{staticClass:"steps-content"},[a("div",{class:{"state-one":!0,"state-two":t.currentSteps.pullPrepare,"state-three":t.currentSteps.pullFinish},on:{click:function(e){return t.toSteps("1")}}},[t._m(0),a("div",{staticClass:"arrow-left"})]),a("div",{class:{"state-one":!0,"state-two":t.currentSteps.instllPrepare,"state-three":t.currentSteps.instllFinish},on:{click:function(e){return t.toSteps("2")}}},[a("div",{staticClass:"arrow-right"}),t._m(1),a("div",{staticClass:"arrow-left"})]),a("div",{class:{"state-one":!0,"state-two":t.currentSteps.autoPrepare,"state-three":t.currentSteps.autoFinish},on:{click:function(e){return t.toSteps("3")}}},[a("div",{staticClass:"arrow-right"}),t._m(2)])]),a("tablepull",{directives:[{name:"show",rawName:"v-show",value:2===t.page,expression:"page === 2"}],ref:"tablepull",attrs:{currentSteps:t.currentSteps,formInline:t.formInline}}),a("tableinstall",{directives:[{name:"show",rawName:"v-show",value:3===t.page,expression:"page === 3"}],ref:"tableinstall",attrs:{currentSteps:t.currentSteps,formInline:t.formInline}}),a("tableauto",{directives:[{name:"show",rawName:"v-show",value:4===t.page,expression:"page === 4"}],ref:"tableauto",attrs:{currentSteps:t.currentSteps,formInline:t.formInline}})],1)])},r=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"steps"},[a("span",{staticClass:"text circul"},[t._v("1")]),a("span",{staticClass:"text"},[t._v("Pull image")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"steps-two steps"},[a("span",{staticClass:"circul"},[t._v("2")]),a("span",[t._v("Install image")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"steps-three steps"},[a("span",{staticClass:" circul"},[t._v("3")]),a("span",[t._v("Auto-test")])])}],i=(a("ac6a"),a("cebc")),s=a("2f62"),o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"row-content"},[n("div",{staticClass:"row-type"},[n("div",{staticClass:"version"},[n("el-select",{attrs:{disabled:t.disVersion,placeholder:"Version"},on:{change:t.toVersion},model:{value:t.formInline.fateVersion,callback:function(e){t.$set(t.formInline,"fateVersion",e)},expression:"formInline.fateVersion"}},t._l(t.version,function(t){return n("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}),1)],1),n("div",{staticClass:"row-activa"},[n("el-button",{attrs:{disabled:t.distopull,type:"primary"},on:{click:t.toPull}},[t._v("\n                    Pull\n                ")])],1)])]),n("div",{staticClass:"deploying-body"},[t._m(0),n("div",{staticClass:"table",staticStyle:{height:"calc(100% - 201px)"}},[n("el-table",{attrs:{data:t.tableData,"header-row-class-name":"tableHead","header-cell-class-name":"tableHeadCell","cell-class-name":"tableCell",height:"100%","tooltip-effect":"light"}},[n("el-table-column",{attrs:{type:"index",label:"Index",width:"70"}}),n("el-table-column",{attrs:{prop:"imageName",label:"Image","show-overflow-tooltip":""}}),n("el-table-column",{attrs:{prop:"imageId",label:"Image ID","show-overflow-tooltip":""}}),n("el-table-column",{attrs:{prop:"iamgeTag",label:"Tag"}}),n("el-table-column",{attrs:{prop:"iamgeDescription",label:"Description"}}),n("el-table-column",{attrs:{prop:"imageVersion",label:"Version"}}),n("el-table-column",{attrs:{prop:"iamgeSize",label:"Size"}}),n("el-table-column",{attrs:{prop:"imageCreateTime",label:"Created","show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(e){return[n("span",[t._v(t._s(t._f("dateFormat")(e.row.imageCreateTime)))])]}}])}),n("el-table-column",{attrs:{prop:"pullStatus.desc",align:"center",label:"Status"},scopedSlots:t._u([{key:"default",fn:function(e){return[0===e.row.pullStatus.code?n("span",[n("img",{attrs:{src:a("aa8f"),alt:""}})]):t._e(),1===e.row.pullStatus.code?n("span",[n("img",{attrs:{src:a("6582"),alt:""}})]):t._e(),2===e.row.pullStatus.code?n("span",[n("img",{attrs:{src:a("98a8"),alt:""}})]):t._e(),3===e.row.pullStatus.code?n("span",[n("i",{staticClass:"el-icon-loading",staticStyle:{color:"#217AD9","font-size":"18px"}})]):t._e()]}}])}),n("el-table-column",{attrs:{prop:"log",align:"center",label:"Action"},scopedSlots:t._u([{key:"default",fn:function(e){return[1===e.row.pullStatus.code||0===e.row.pullStatus.code?n("el-button",{attrs:{disabled:"",type:"text"}},[t._v("\n                            Retry\n                        ")]):t._e(),2===e.row.pullStatus.code?n("el-button",{attrs:{type:"text"},on:{click:function(a){return t.toRetry(e.row)}}},[t._v("\n                            Retry\n                        ")]):t._e()]}}])})],1)],1),n("div",{staticClass:"btn"},["primary"===t.btntype?n("el-button",{attrs:{type:"primary"},on:{click:t.toNext}},[t._v("Next")]):n("el-button",{attrs:{type:"info",disabled:""}},[t._v("Next")])],1)])])},l=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"warn-box"},[a("i",{staticClass:"el-icon-warning"}),t._v("\n            The current images are stored on Master, please ensure that the docker images of Node are consistent with the Master’s, otherwise the installation will fail.\n        ")])}],c=(a("96cf"),a("3b8d")),u=a("de61"),d=a("c1df"),p=a.n(d),f=a("5118"),m=a("2b0e"),h=new m["default"],b={name:"pulltable",filters:{dateFormat:function(t){return t>0?p()(t).format("YYYY-MM-DD HH:mm:ss"):"- -"}},props:{formInline:{type:Object,default:function(){return{}}},currentSteps:{type:Object,default:function(){return{}}}},data:function(){return{tableData:[],pullComponentList:[],distopull:!0,disVersion:!1,btntype:"info"}},computed:Object(i["a"])({},Object(s["mapGetters"])(["version"])),mounted:function(){var t=this;h.$on("myFun",function(e){t.disVersion=e})},methods:{initiPullList:function(){var t=Object(c["a"])(regeneratorRuntime.mark(function t(){var e,a,n=this;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return this.tableData=[],e={fateVersion:this.formInline.fateVersion,productType:1},t.next=4,Object(u["d"])(e);case 4:return a=t.sent,this.tableData=a.data||[],this.tableData.forEach(function(t){n.pullComponentList.push(t.imageName)}),t.abrupt("return",this.tableData);case 8:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),toRetry:function(t){var e=this,a={fateVersion:this.formInline.fateVersion,productType:1,pullComponentList:[t.imageName]};Object(u["g"])(a).then(function(t){e.toPull()})},toVersion:function(){this.currentSteps.pullPrepare=!0,this.currentSteps.instllPrepare=!1,this.btntype="info",this.lessTime(),this.distopull=!1},toPull:function(){var t=this,e={fateVersion:this.formInline.fateVersion,productType:1,pullComponentList:this.pullComponentList};Object(u["g"])(e).then(function(e){t.lessTime(),t.distopull=!0})},toNext:function(){var t=this;if(this.formInline.partyId){var e={fateVersion:this.formInline.fateVersion,federatedId:this.formInline.federatedId,partyId:this.formInline.partyId,productType:1};Object(u["j"])(e).then(function(e){t.$parent.togetpages()})}else this.$parent.showwarn=!0},lessTime:function(){var t=this;this.initiPullList().then(function(e){e.length>0&&e.every(function(t){return 0===t.pullStatus.code})?(t.distopull=!1,t.btntype="info"):e.length>0&&e.every(function(t){return 1===t.pullStatus.code})?(t.currentSteps.pullPrepare=!0,t.currentSteps.pullFinish=!0,t.distopull&&(t.btntype="primary")):e.length>0&&e.every(function(t){return 2===t.pullStatus.code})?t.distopull=!1:e.length>0&&e.every(function(t){return 1===t.pullStatus.code||2===t.pullStatus.code})?(t.distopull=!1,t.btntype="info"):0===e.length?t.btntype="info":(t.distopull=!0,t.btntype="info",Object(f["setTimeout"])(function(){t.lessTime()},2e3))})}}},y=b,v=(a("66a8"),a("2877")),g=Object(v["a"])(y,o,l,!1,null,null,null),I=g.exports,A=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"row-content"},[n("div",{staticClass:"row-type"},[n("el-tabs",{on:{"tab-click":t.handleClick},model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},[n("el-tab-pane",{attrs:{label:"Install image",name:"installimage"}}),n("el-tab-pane",{attrs:{label:"Log",name:"log"}})],1),n("div",{staticClass:"empty"}),n("div",{staticClass:"row-activa"},[1===t.startStatus?n("el-button",{attrs:{disabled:t.disabledStart,type:"primary"},on:{click:t.toStart}},[n("img",{attrs:{src:a("fd98"),alt:""}}),n("span",[t._v("Start")])]):t._e(),2===t.startStatus?n("el-button",{attrs:{disabled:t.disabledStart,type:"primary"},on:{click:t.toStart}},[n("img",{attrs:{src:a("9275"),alt:""}}),n("span",[t._v("Retry")])]):t._e(),3===t.startStatus?n("el-button",{attrs:{disabled:t.disabledStart,type:"primary"},on:{click:t.toStart}},[n("img",{attrs:{src:a("9275"),alt:""}}),n("span",[t._v("Restart")])]):t._e()],1)],1)]),n("div",{directives:[{name:"show",rawName:"v-show",value:"installimage"===t.activeName,expression:"activeName==='installimage'"}],staticClass:"deploying-body"},[n("div",{staticClass:"table"},[n("el-table",{attrs:{data:t.tableData,"header-row-class-name":"tableHead","header-cell-class-name":"tableHeadCell","cell-class-name":"tableCell",height:"100%","tooltip-effect":"light"}},[n("el-table-column",{attrs:{type:"index",label:"Index",width:"70"}}),n("el-table-column",{attrs:{prop:"componentName",label:"Installation item"},scopedSlots:t._u([{key:"default",fn:function(e){return["fateboard"===e.row.componentName?n("span",{staticStyle:{color:"#217AD9",cursor:"pointer"},on:{click:t.tofateboard}},[t._v("\n                            "+t._s(e.row.componentName)+"\n                            "),n("el-tooltip",{attrs:{effect:"dark",placement:"bottom"}},[n("div",{staticStyle:{"font-size":"14px"},attrs:{slot:"content"},slot:"content"},[n("div",[t._v("Before accessing FATEBoard, please configure the host that corresponding to ")]),n("div",[t._v("FATEBoard deployment machine IP, for example: 172.16.0.1 10000.fateboard.kubefate.net")])]),n("i",{staticClass:"el-icon-info icon-info"})])],1):n("span",[t._v(" "+t._s(e.row.componentName))])]}}])}),n("el-table-column",{attrs:{prop:"address",label:"IP",width:"350"},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.edit?t._e():n("span",{attrs:{type:"text"}},[n("span",{staticClass:"ip-text"},[t._v(t._s(e.row.address))]),0===e.row.deployStatus.code||2===e.row.deployStatus.code||6===e.row.deployStatus.code||7===e.row.deployStatus.code||8===e.row.deployStatus.code||9===e.row.deployStatus.code||10===e.row.deployStatus.code?n("i",{staticClass:"el-icon-edit edit",on:{click:function(a){return t.toEdit(e)}}}):t._e()]),e.row.edit?n("span",[n("el-input",{attrs:{id:"close",placeholder:"请输入内容"},model:{value:t.input,callback:function(e){t.input=e},expression:"input"}}),n("i",{staticClass:"el-icon-check close",on:{click:function(a){return t.toEdited(e.row)}}}),n("i",{staticClass:"el-icon-close close-a",on:{click:function(a){return t.toClose(e)}}})],1):t._e()]}}])}),n("el-table-column",{attrs:{prop:"duration",label:"Installation duration"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("span",[t._v(t._s(t._f("durationFormat")(e.row.duration)))])]}}])}),n("el-table-column",{attrs:{prop:"deployStatus.desc",align:"center",label:"Status"},scopedSlots:t._u([{key:"default",fn:function(e){return[0===e.row.deployStatus.code||6===e.row.deployStatus.code||8===e.row.deployStatus.code||9===e.row.deployStatus.code||10===e.row.deployStatus.code?n("span",{attrs:{type:"text"}},[n("img",{attrs:{src:a("6582"),alt:""}})]):t._e(),7===e.row.deployStatus.code||3===e.row.deployStatus.code?n("span",{attrs:{type:"text"}},[n("img",{attrs:{src:a("98a8"),alt:""}})]):t._e(),4===e.row.deployStatus.code||5===e.row.deployStatus.code?n("span",{attrs:{type:"text"}},[n("i",{staticClass:"el-icon-loading",staticStyle:{color:"#217AD9","font-size":"18px"}})]):t._e(),2===e.row.deployStatus.code?n("span",{attrs:{type:"text"}},[n("img",{attrs:{src:a("aa8f"),alt:""}})]):t._e()]}}])})],1)],1),n("div",{staticClass:"btn"},["primary"===t.btntype?n("el-button",{attrs:{type:"primary"},on:{click:t.toNext}},[t._v("Next")]):n("el-button",{attrs:{type:"info",disabled:""}},[t._v("Next")])],1)]),"log"===t.activeName?n("div",{staticClass:"deploying-body"},[n("log",{ref:"log"})],1):t._e()])},S=[],w=(a("3b2b"),a("28a5"),function(t){var e=new RegExp(/^(\d|[1-9]\d|1\d{2}|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d{2}|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d{2}|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d{2}|2[0-4]\d|25[0-5])$/),a=new RegExp(/^([0-9]|[1-9]\d{1,3}|[1-5]\d{4}|6[0-4]\d{4}|65[0-4]\d{2}|655[0-2]\d|6553[0-5])$/),n=new RegExp(/[a-zA-Z0-9][-a-zA-Z0-9]{0,62}(\.[a-zA-Z0-9][-a-zA-Z0-9]{0,62})+\.?/);return!!(n.test(t)&&a.test(t.split(":")[2])||e.test(t.split(":")[0])||a.test(t.split(":")[1]))}),C=w,x=a("41db"),_=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"log"},[a("div",{staticClass:"log-box"},[a("div",{staticClass:"log-title"},[a("span",{staticClass:"text"},[t._v("\n                all\n                "),a("span",{staticStyle:{color:"#FC6A16",cursor:"pointer"},on:{click:function(e){return t.toScreen("all")}}},[t._v("\n                    "+t._s(t.data.all&&t.data.all.length)+"\n                ")])]),t.data.error?a("span",{staticClass:"text"},[t._v("\n                error\n                "),a("span",{staticStyle:{color:"#FC6A16",cursor:"pointer"},on:{click:function(e){return t.toScreen("error")}}},[t._v(t._s(t.data.error&&t.data.error.length))])]):t._e(),t.data.warn?a("span",{staticClass:"text"},[t._v("\n                warning\n                "),a("span",{staticStyle:{color:"#FF9D00",cursor:"pointer"},on:{click:function(e){return t.toScreen("warn")}}},[t._v(t._s(t.data.warn&&t.data.warn.length))])]):t._e(),t.data.info?a("span",{staticClass:"text"},[t._v("\n                info\n                "),a("span",{staticStyle:{color:"#00D269",cursor:"pointer"},on:{click:function(e){return t.toScreen("info")}}},[t._v(t._s(t.data.info&&t.data.info.length))])]):t._e(),t.data.debug?a("span",{staticClass:"text"},[t._v("\n                debug\n                "),a("span",{staticStyle:{color:"#217AD9",cursor:"pointer"},on:{click:function(e){return t.toScreen("debug")}}},[t._v(t._s(t.data.debug&&t.data.debug.length))])]):t._e(),t.data.other?a("span",{staticClass:"text"},[t._v("\n                other\n                "),a("span",{staticStyle:{color:"#217AD9",cursor:"pointer"},on:{click:function(e){return t.toScreen("other")}}},[t._v(t._s(t.data.other&&t.data.other.length))])]):t._e()]),a("div",{staticClass:"log-content"},[t.dataList.length>0?a("div",{staticClass:"log-li"},t._l(t.dataList,function(e,n){return a("span",{key:n},[a("span",{staticClass:"content-text"},[t._v(t._s(n+1))]),a("span",{staticClass:"content-text"},[t._v(t._s(e))])])}),0):a("div",{staticClass:"log-li"},[a("div",{staticStyle:{"text-align":"center"}},[t._v("No DATA")])])])])])},O=[],E={name:"log",data:function(){return{data:{},dataList:[]}},watch:{},computed:{},created:function(){},mounted:function(){},methods:{toScreen:function(t){var e=this;for(var a in this.dataList=[],this.data)t===a&&this.data[a].forEach(function(t,a){e.dataList.push("".concat(t))})}}},T=E,k=(a("e711"),Object(v["a"])(T,_,O,!1,null,null,null)),N=k.exports,F={name:"pulltable",props:{formInline:{type:Object,default:function(){return{}}},currentSteps:{type:Object,default:function(){return{}}}},filters:{durationFormat:function(t){function e(t){return new RegExp(/^\d$/g).test(t)?"0".concat(t):t}var a;if(t&&t>1e3){var n=parseInt(t%864e5/36e5),r=parseInt(t%36e5/6e4),i=parseInt(t%6e4/1e3);a=e(n)+":"+e(r)+":"+e(i)}else a=-1===t?"--:--:--":"00:00:00";return a}},data:function(){return{tableData:[],input:"",activeName:"installimage",paramsData:{},btntype:"info",startStatus:1,disabledStart:!0,time:null,updataipstart:!1}},components:{log:N},beforeDestroy:function(){window.clearTimeout(this.time)},methods:{initiInstallList:function(){var t=Object(c["a"])(regeneratorRuntime.mark(function t(){var e,a;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return e={federatedId:this.formInline.federatedId,partyId:this.formInline.partyId,productType:1},this.paramsData=e,t.next=4,Object(u["b"])(e);case 4:return a=t.sent,this.tableData=a.data||[],this.tableData.forEach(function(t){t.edit=!1}),t.abrupt("return",this.tableData);case 8:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),toEdit:function(t){var e=this,a=[];this.tableData.forEach(function(n,r){r===t.$index?(e.input=n.address,n.edit=!0):n.edit=!1,a.push(n)}),this.tableData=[].concat(a),this.$nextTick(function(){var t=document.querySelector("#close");t.focus()})},toEdited:function(t){var e=this;if(C(this.input))if(t.address!==this.input){var a={address:this.input,componentName:t.componentName,federatedId:this.paramsData.federatedId,partyId:this.paramsData.partyId,productType:1};Object(u["l"])(a).then(function(t){e.updataipstart=!0,e.disabledStart=!1,e.btntype="info",e.tableData.every(function(t){return 6===t.deployStatus.code})&&(e.startStatus=3),e.$message.success("success!"),e.tableData=e.tableData.map(function(t,e){return t.edit=!1,t}),e.initiInstallList(),e.$parent.currentpage=3,e.currentSteps.autoPrepare=!1,e.currentSteps.autoFinish=!1})}else this.tableData=this.tableData.map(function(t,e){return t.edit=!1,t});else this.$message.error("The address is invalid. Please enter again!")},toClose:function(t){var e=this,a=[];this.tableData.forEach(function(n,r){r===t.$index&&(n.edit=!1,e.input=""),a.push(n)}),this.tableData=[].concat(a)},toStart:function(){var t=this;this.updataipstart=!1,window.clearTimeout(this.time);var e={federatedId:this.formInline.federatedId,partyId:this.formInline.partyId,productType:1};Object(u["f"])(e).then(function(e){t.disabledStart=!0,t.lessTime()})},toNext:function(){var t=this;if(this.formInline.partyId){var e={federatedId:this.formInline.federatedId,partyId:this.formInline.partyId,productType:1,clickType:4};Object(u["h"])(e).then(function(e){t.$parent.togetpages()})}else this.$parent.showwarn=!0},handleClick:function(){var t=this,e={federatedId:this.formInline.federatedId,partyId:this.formInline.partyId,productType:1};"log"===this.activeName?(this.disabledStart=!0,window.clearTimeout(this.time),Object(x["l"])(e).then(function(e){for(var a in t.$refs["log"].data=e.data,e.data)e.data[a]&&e.data[a].forEach(function(e){t.$refs["log"].dataList.push(e)})})):(this.$parent.page!==this.$parent.currentpage&&(this.btntype="info"),this.updataipstart?this.disabledStart=!1:this.disabledStart=!0)},lessTime:function(){var t=this;this.initiInstallList().then(function(e){e.length>0&&e.every(function(t){return 2===t.deployStatus.code})?(h.$emit("myFun",!1),t.btntype="info",t.updataipstart=!0,t.disabledStart=!1,t.startStatus=1):e.length>0&&e.every(function(t){return 6===t.deployStatus.code||8===t.deployStatus.code})?(t.updataipstart=!1,t.btntype="primary",t.disabledStart=!0,t.currentSteps.instllFinish=!0):e.length>0&&e.every(function(t){return 7===t.deployStatus.code})?(t.btntype="info",t.updataipstart=!0,t.startStatus=2,t.disabledStart=!1):e.length>0&&e.every(function(t){return 6===t.deployStatus.code||7===t.deployStatus.code})?(t.btntype="info",t.updataipstart=!0,t.startStatus=2,t.disabledStart=!1):0===e.length?t.btntype="info":(h.$emit("myFun",!0),t.btntype="info",t.disabledStart=!0,t.time=setTimeout(function(){t.lessTime()},1500))})},tofateboard:function(){var t={federatedId:this.formInline.federatedId,partyId:this.formInline.partyId};Object(u["i"])(t).then(function(t){window.open("http://".concat(t.data))})}}},D=F,R=(a("1a4a"),Object(v["a"])(D,A,S,!1,null,null,null)),V=R.exports,j=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"row-content"},[n("div",{staticClass:"row-type"},[n("el-tabs",{on:{"tab-click":t.handleClick},model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},[n("el-tab-pane",{attrs:{label:"Auto test",name:"autotest"}}),n("el-tab-pane",{attrs:{label:"Log",name:"log"}})],1),n("div",{staticClass:"empty"}),n("div",{staticClass:"row-activa"},[1===t.startStatus?n("el-button",{attrs:{disabled:t.disabledStart,type:"primary"},on:{click:t.toStart}},[n("img",{attrs:{src:a("fd98"),alt:""}}),n("span",[t._v("Start")])]):t._e(),2===t.startStatus?n("el-button",{attrs:{disabled:t.disabledStart,type:"primary"},on:{click:t.toStart}},[n("img",{attrs:{src:a("9275"),alt:""}}),n("span",[t._v("Retry")])]):t._e(),3===t.startStatus?n("el-button",{attrs:{disabled:t.disabledStart,type:"primary"},on:{click:t.toStart}},[n("img",{attrs:{src:a("9275"),alt:""}}),n("span",[t._v("Restart")])]):t._e()],1)],1)]),"autotest"===t.activeName?n("div",{staticClass:"deploying-body"},[n("div",{staticClass:"table"},[n("el-table",{attrs:{data:t.tableData,"span-method":t.objectSpanMethod,"header-row-class-name":"tableHead","header-cell-class-name":"tableHeadCell","cell-class-name":"tableCell",height:"100%","tooltip-effect":"light"}},[n("el-table-column",{attrs:{prop:"index","class-name":"index",label:"Index",width:"100"}}),n("el-table-column",{attrs:{prop:"testItem",label:"Test item"}}),n("el-table-column",{attrs:{prop:"duration",label:"Test duration"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("span",[t._v(t._s(t._f("durationFormat")(e.row.duration)))])]}}],null,!1,1669077820)}),n("el-table-column",{attrs:{prop:"status.desc",align:"center",label:"Status"},scopedSlots:t._u([{key:"default",fn:function(e){return["Pod/SVC Status Of Each Component"!==e.row.testItem?n("span",[e.row.status&&0===e.row.status.code?n("span",{attrs:{type:"text"}},[n("img",{attrs:{src:a("aa8f"),alt:""}})]):t._e(),e.row.status&&1===e.row.status.code?n("span",{attrs:{disabled:"",type:"text"}},[n("i",{staticClass:"el-icon-loading",staticStyle:{color:"#217AD9","font-size":"18px"}})]):t._e(),e.row.status&&2===e.row.status.code?n("span",{attrs:{disabled:"",type:"text"}},[n("img",{attrs:{src:a("6582"),alt:""}})]):t._e(),e.row.status&&3===e.row.status.code?n("span",{attrs:{disabled:"",type:"text"}},[n("img",{attrs:{src:a("98a8"),alt:""}})]):t._e()]):t._e()]}}],null,!1,536748094)})],1)],1),n("div",{staticClass:"btn"},["primary"===t.btntype?n("el-button",{attrs:{type:"primary"},on:{click:t.toFinish}},[t._v("Finish")]):n("el-button",{attrs:{type:"info",disabled:""}},[t._v("Finish")])],1)]):t._e(),"log"===t.activeName?n("div",{staticClass:"deploying-body"},[n("log",{ref:"log"})],1):t._e()])},P=[],B=a("75fc"),U={name:"pulltable",props:{formInline:{type:Object,default:function(){return{}}},currentSteps:{type:Object,default:function(){return{}}}},filters:{durationFormat:function(t){function e(t){return new RegExp(/^\d$/g).test(t)?"0".concat(t):t}var a;if(t&&t>1e3){var n=parseInt(t%864e5/36e5),r=parseInt(t%36e5/6e4),i=parseInt(t%6e4/1e3);a=e(n)+":"+e(r)+":"+e(i)}else a=-1===t?"--:--:--":"00:00:00";return a}},data:function(){return{startStatus:1,activeName:"autotest",disabledStart:!1,length:"",tableData:[],testItemList:{},podList:[],time:null,btntype:"info",itemkey:["Pod/SVC Status Of Each Component"]}},components:{log:N},watch:{},computed:{},beforeDestroy:function(){window.clearTimeout(this.time)},methods:{initiTextList:function(){var t=Object(c["a"])(regeneratorRuntime.mark(function t(){var e,a,n,r,i,s,o=this;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return e={federatedId:this.formInline.federatedId,partyId:this.formInline.partyId,productType:1},t.next=3,Object(u["e"])(e);case 3:if(a=t.sent,"{}"!==JSON.stringify(a.data.AutoTest)){t.next=7;break}return this.tableData=[],t.abrupt("return",!1);case 7:for(n in this.length=a.data.AutoTest["Pod/SVC Status Of Each Component"].length+1,Object(B["a"])(a.data.AutoTest["Pod/SVC Status Of Each Component"]).every(function(t){return 2===t.status.code})?this.tableData=[{testItem:"Pod/SVC Status Of Each Component",status:{code:2,desc:"成功"},index:1}]:Object(B["a"])(a.data.AutoTest["Pod/SVC Status Of Each Component"]).some(function(t){return 3===t.status.code})?this.tableData=[{testItem:"Pod/SVC Status Of Each Component",status:{code:3,desc:"失败"},index:1}]:this.tableData=[{testItem:"Pod/SVC Status Of Each Component",status:{code:0,desc:"等待"},index:1}],a.data.AutoTest)"Pod/SVC Status Of Each Component"===n?function(){var t;(t=o.tableData).push.apply(t,Object(B["a"])(a.data.AutoTest[n]));var e=[];a.data.AutoTest[n].map(function(t){e.push(t.testItem)}),o.podList[n]=[].concat(e),o.testItemList[n]=[].concat(e)}():function(){var t=[];a.data.AutoTest[n].map(function(e){t.push(e.testItem)}),o.testItemList[n]=[].concat(t)}();return r=2,i=[],s=["Single Test","Toy Test","Mininmize Fast Test","Minimize Normal Test"],s.forEach(function(t){for(var e in a.data.AutoTest)if(e===t)return Object(B["a"])(a.data.AutoTest[e]).forEach(function(t){t.index=r}),i.push.apply(i,Object(B["a"])(a.data.AutoTest[e])),o.itemkey.push(e),void r++}),i.forEach(function(t){o.tableData.push(t)}),t.abrupt("return",this.tableData);case 16:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),toRery:function(t){var e,a=this;e="Pod/SVC Status Of Each Component"===t.testItem?{"Pod/SVC Status Of Each Component":Object(B["a"])(this.podList["Pod/SVC Status Of Each Component"])}:JSON.parse('{"'.concat(t.testItem,'":["').concat(t.testItem,'"]}'));var n={testItemList:e,federatedId:this.$parent.formInline.federatedId,partyId:this.$parent.formInline.partyId,productType:1};Object(x["n"])(n).then(function(e){a.initiTextList().then(function(e){if(e.some(function(e){return e.testItem===t.testItem&&2===e.status.code}))return e;a.lessTime()})})},objectSpanMethod:function(t){t.row,t.column;var e=t.rowIndex,a=t.columnIndex;if(0===a){if(0===e)return{rowspan:this.length,colspan:1};if(e<this.length)return{rowspan:0,colspan:0}}},handleClick:function(){var t=this,e={federatedId:this.formInline.federatedId,partyId:this.formInline.partyId,productType:1};"log"===this.activeName?(this.disabledStart=!0,window.clearTimeout(this.time),Object(x["e"])(e).then(function(e){for(var a in t.$refs["log"].data=e.data,e.data)e.data[a].forEach(function(e){t.$refs["log"].dataList.push(e)})})):this.lessTime()},toStart:function(){var t=this;window.clearTimeout(this.time);var e={testItemList:this.testItemList,federatedId:this.formInline.federatedId,partyId:this.formInline.partyId,productType:1};Object(u["a"])(e).then(function(e){t.lessTime()})},lessTime:function(){var t=this;this.initiTextList().then(function(e){e.length>0&&e.every(function(t){return 0===t.status.code})?(t.btntype="info",t.disabledStart=!1,t.startStatus=1):e.length>0&&e.every(function(t){return 2===t.status.code})?(t.startStatus=1,t.btntype="primary",t.disabledStart=!0,t.currentSteps.autoFinish=!0):e.length>0&&e.some(function(t){return 3===t.status.code})?(t.btntype="info",t.startStatus=2,t.disabledStart=!1):0===e.length?t.btntype="info":(t.btntype="info",t.disabledStart=!0,t.time=setTimeout(function(){t.lessTime()},1500))})},toFinish:function(){var t=this;if(this.formInline.partyId){var e={federatedId:this.formInline.federatedId,partyId:this.formInline.partyId,productType:1,clickType:5};Object(u["h"])(e).then(function(e){t.$router.push({name:"service",query:{federatedId:t.formInline.federatedId,partyId:t.formInline.partyId,siteName:t.formInline.siteName,fateVersion:t.formInline.fateVersion}})})}else this.$parent.showwarn=!0}}},L=U,$=(a("c471"),Object(v["a"])(L,j,P,!1,null,null,null)),Q=$.exports,z={name:"deploying",components:{tablepull:I,tableinstall:V,tableauto:Q},data:function(){return{showwarn:!1,page:2,currentpage:2,currentSteps:{pullPrepare:!1,pullFinish:!1,instllPrepare:!1,instllFinish:!1,autoPrepare:!1,autoFinish:!1},formInline:{federatedId:parseInt(this.$route.query.federatedId),partyId:parseInt(this.$route.query.partyId),siteName:this.$route.query.siteName,fateVersion:""}}},computed:Object(i["a"])({},Object(s["mapGetters"])(["organization","partyId","version"])),created:function(){this.$store.dispatch("selectEnum",this.formInline.federatedId)},mounted:function(){var t=this,e={federatedId:this.formInline.federatedId,partyId:this.formInline.partyId};Object(x["a"])(e).then(function(e){e.data&&(t.formInline.fateVersion=e.data,t.$refs.tablepull.disVersion=!0),t.togetpages()})},methods:{tochangepartyId:function(){var t=this;this.showwarn=!1,this.formInline.fateVersion="",this.$refs.tablepull.disVersion=!1,this.partyId.forEach(function(e){e.value===t.formInline.partyId&&(t.formInline.siteName=e.text)});var e={federatedId:this.formInline.federatedId,partyId:this.formInline.partyId};Object(x["a"])(e).then(function(e){e.data&&(t.formInline.fateVersion=e.data,t.$refs.tablepull.disVersion=!0),t.togetpages()})},togetpages:function(){var t=this,e={federatedId:this.formInline.federatedId,partyId:this.formInline.partyId,productType:1};Object(x["h"])(e).then(function(e){t.currentpage=t.page=e.data.pageStatus.code,0===e.data.pageStatus.code?t.$router.push({name:"auto",query:{siteName:t.formInline.siteName,federatedId:t.formInline.federatedId,partyId:t.formInline.partyId,fateVersion:t.formInline.fateVersion}}):1===e.data.pageStatus.code?t.$router.push({name:"prepare",query:{siteName:t.formInline.siteName,federatedId:t.formInline.federatedId,partyId:t.formInline.partyId,fateVersion:t.formInline.fateVersion}}):2===e.data.pageStatus.code?(t.currentSteps={pullPrepare:!1,pullFinish:!1,instllPrepare:!1,instllFinish:!1,autoPrepare:!1,autoFinish:!1},t.$refs["tablepull"].lessTime()):3===e.data.pageStatus.code?(t.$nextTick(function(){t.$refs["tableinstall"].lessTime(),t.$refs["tablepull"].initiPullList()}),t.currentSteps={pullPrepare:!0,pullFinish:!0,instllPrepare:!0,instllFinish:!1,autoPrepare:!1,autoFinish:!1}):4===e.data.pageStatus.code?(t.$nextTick(function(){t.$refs["tableauto"].lessTime(),t.$refs["tablepull"].initiPullList(),t.$refs["tableinstall"].initiInstallList()}),t.currentSteps={pullPrepare:!0,pullFinish:!0,instllPrepare:!0,instllFinish:!0,autoPrepare:!0,autoFinish:!1}):5===e.data.pageStatus.code&&t.$router.push({name:"service",query:{siteName:t.formInline.siteName,federatedId:t.formInline.federatedId,partyId:t.formInline.partyId,fateVersion:t.formInline.fateVersion}})})},toSteps:function(t){"1"===t&&this.currentSteps.pullPrepare?(this.page=2,this.currentpage!==this.page&&(this.$refs["tablepull"].btntype="info",this.$refs["tablepull"].distopull=!0)):"2"===t&&this.currentSteps.instllPrepare?(this.page=3,this.currentpage!==this.page&&(this.$refs["tableinstall"].btntype="info")):"3"===t&&this.currentSteps.autoPrepare&&(this.page=4)}}},Y=z,G=(a("3be0"),Object(v["a"])(Y,n,r,!1,null,null,null));e["default"]=G.exports},e711:function(t,e,a){"use strict";var n=a("68dd"),r=a.n(n);r.a},f410:function(t,e,a){a("1af6"),t.exports=a("584a").Array.isArray},fd98:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAAAWCAYAAADEtGw7AAAABHNCSVQICAgIfAhkiAAAAWNJREFUOE+tlQFRw0AQRf9TACigVQAogDooCqAOQAGgAFAAKAAUAA6KAioBFCzzO0knpLlkKexMJjOXvXf/du9fUDIi4l5SALPMFDJJEXEm6brKPQduhuYNgiNiW9KHJL8dn5IOgEUfPAO+lHTRgtwC3kUxMmAr3GoRPDYG/O6MXnBETCU9SvqSdFoR3EQvdAw8bQo25ETSqmGNRj4A9WJr/CHFr5IOJc0AL6IG+A042lRxXV+fgEkFeZE08ukAdjYFR2/nobjj4oeIcP3uBoywKlE7rxPcOA1DBvP3TngJ7JruZqiSFsA4q7i3tmuQjlqXFM8l7SUVvwP7WcW1MZxv17Ut3Rx7BuzQH1FSXF88BtgEPre1y3xl+nzbPF7wCnB+CmyQVfsGcyNHgMtj53nby7EqZ9p1hWZuNyu226zSj4ETwIqL8RtwE/IvYCt0c1xHK3Z55n/+g9QyI2IJzvzvPOcbDh6NF7rlCtIAAAAASUVORK5CYII="}}]);