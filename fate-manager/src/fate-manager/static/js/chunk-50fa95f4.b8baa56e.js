(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-50fa95f4"],{"0855":function(t,e,a){},"1af6":function(t,e,a){var n=a("63b6");n(n.S,"Array",{isArray:a("9003")})},"20fd":function(t,e,a){"use strict";var n=a("d9f6"),i=a("aebd");t.exports=function(t,e,a){e in t?n.f(t,e,i(0,a)):t[e]=a}},"28a5":function(t,e,a){"use strict";var n=a("aae3"),i=a("cb7c"),s=a("ebd6"),r=a("0390"),o=a("9def"),c=a("5f1b"),l=a("520a"),u=a("79e5"),d=Math.min,p=[].push,f="split",h="length",m="lastIndex",b=4294967295,A=!u(function(){RegExp(b,"y")});a("214f")("split",2,function(t,e,a,u){var v;return v="c"=="abbc"[f](/(b)*/)[1]||4!="test"[f](/(?:)/,-1)[h]||2!="ab"[f](/(?:ab)*/)[h]||4!="."[f](/(.?)(.?)/)[h]||"."[f](/()()/)[h]>1||""[f](/.?/)[h]?function(t,e){var i=String(this);if(void 0===t&&0===e)return[];if(!n(t))return a.call(i,t,e);var s,r,o,c=[],u=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),d=0,f=void 0===e?b:e>>>0,A=new RegExp(t.source,u+"g");while(s=l.call(A,i)){if(r=A[m],r>d&&(c.push(i.slice(d,s.index)),s[h]>1&&s.index<i[h]&&p.apply(c,s.slice(1)),o=s[0][h],d=r,c[h]>=f))break;A[m]===s.index&&A[m]++}return d===i[h]?!o&&A.test("")||c.push(""):c.push(i.slice(d)),c[h]>f?c.slice(0,f):c}:"0"[f](void 0,0)[h]?function(t,e){return void 0===t&&0===e?[]:a.call(this,t,e)}:a,[function(a,n){var i=t(this),s=void 0==a?void 0:a[e];return void 0!==s?s.call(a,i,n):v.call(String(i),a,n)},function(t,e){var n=u(v,t,this,e,v!==a);if(n.done)return n.value;var l=i(t),p=String(this),f=s(l,RegExp),h=l.unicode,m=(l.ignoreCase?"i":"")+(l.multiline?"m":"")+(l.unicode?"u":"")+(A?"y":"g"),g=new f(A?l:"^(?:"+l.source+")",m),y=void 0===e?b:e>>>0;if(0===y)return[];if(0===p.length)return null===c(g,p)?[p]:[];var S=0,I=0,w=[];while(I<p.length){g.lastIndex=A?I:0;var C,x=c(g,A?p:p.slice(I));if(null===x||(C=d(o(g.lastIndex+(A?0:I)),p.length))===S)I=r(p,I,h);else{if(w.push(p.slice(S,I)),w.length===y)return w;for(var k=1;k<=x.length-1;k++)if(w.push(x[k]),w.length===y)return w;I=S=C}}return w.push(p.slice(S)),w}]})},"3b2b":function(t,e,a){var n=a("7726"),i=a("5dbc"),s=a("86cc").f,r=a("9093").f,o=a("aae3"),c=a("0bfb"),l=n.RegExp,u=l,d=l.prototype,p=/a/g,f=/a/g,h=new l(p)!==p;if(a("9e1e")&&(!h||a("79e5")(function(){return f[a("2b4c")("match")]=!1,l(p)!=p||l(f)==f||"/a/i"!=l(p,"i")}))){l=function(t,e){var a=this instanceof l,n=o(t),s=void 0===e;return!a&&n&&t.constructor===l&&s?t:i(h?new u(n&&!s?t.source:t,e):u((n=t instanceof l)?t.source:t,n&&s?c.call(t):e),a?this:d,l)};for(var m=function(t){t in l||s(l,t,{configurable:!0,get:function(){return u[t]},set:function(e){u[t]=e}})},b=r(u),A=0;b.length>A;)m(b[A++]);d.constructor=l,l.prototype=d,a("2aba")(n,"RegExp",l)}a("7a56")("RegExp")},"42a5":function(t,e,a){"use strict";var n=a("2b0e");e["a"]=new n["default"]},"460d":function(t,e,a){"use strict";var n=a("dafd"),i=a.n(n);i.a},"549b":function(t,e,a){"use strict";var n=a("d864"),i=a("63b6"),s=a("241e"),r=a("b0dc"),o=a("3702"),c=a("b447"),l=a("20fd"),u=a("7cd6");i(i.S+i.F*!a("4ee1")(function(t){Array.from(t)}),"Array",{from:function(t){var e,a,i,d,p=s(t),f="function"==typeof this?this:Array,h=arguments.length,m=h>1?arguments[1]:void 0,b=void 0!==m,A=0,v=u(p);if(b&&(m=n(m,h>2?arguments[2]:void 0,2)),void 0==v||f==Array&&o(v))for(e=c(p.length),a=new f(e);e>A;A++)l(a,A,b?m(p[A],A):p[A]);else for(d=v.call(p),a=new f;!(i=d.next()).done;A++)l(a,A,b?r(d,m,[i.value,A],!0):i.value);return a.length=A,a}})},"54a1":function(t,e,a){a("6c1c"),a("1654"),t.exports=a("95d5")},"5b35":function(t,e,a){"use strict";var n=a("d415"),i=a.n(n);i.a},"62f6":function(t,e,a){"use strict";var n=a("f424"),i=a.n(n);i.a},6582:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAASCAYAAABWzo5XAAAABHNCSVQICAgIfAhkiAAAAVRJREFUOE+VlEFSwkAQRf/H7PUmcgOTnbCxXFsCnsDyJHoEgsVeN4Yd8QbhBhxB95BvzZAZhxBCmGVn5qX79+8mGs7tu+KeMIbQB9G3V4QCRFES6eKRef0Zw8Bwrr62eCUQN/3AxQTkvMDL1wMLF/MgA8EGSxBXbRD/TfhBhMTBLOhsyH9qHmZBg5lyAjedMqldMmVmIyashF12hUj4BTAl8ezelETCQSoTHHcBGQgjxEaX4UwfAO5sQ4WUw5mM8tcB6FNCTOIyhO9B6o0RCgOS105IszEn1gYb5A7WCqke10FrRri3qVcwc8+X02KRw9ICf1hbAHDgFp+tmsWume2Uz6zYR9tfwawEJxxv299qSAOzIh0fGwHf2YixH5GwS108VfnH+2pvaM+BhZbYJR2cao28nZo7U462mCyeuD5YIyHQNIAlJtwtNef6lYRCPUybFtsfcIXRwbaurX4AAAAASUVORK5CYII="},7441:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAAXNSR0IArs4c6QAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAGKADAAQAAAABAAAAGAAAAADB/VeXAAABEklEQVRIDe2RfRGCQBDFxQREMIINJAIRaGAEbKARbAANPBNoBBuoCfC3uDtwDnin/ik789y9fW8/WGezyaYLNE2TghKcgNmBYA3Sny5EgwJcwZgJl8sQvCzSxlFDEUtzs5ogs0LiHDgj8Vsgw5xp3nqEso1tXoyJ0exB39yY1stTsdGq2iP0AbcAlWr6zr3q568Jfdstd0N8kiQX8kdwH+KDOVspJEQnp9yZHu9CNS1vBVFiROiX0vyTAWcdksUOEZ0MitIj3OiAKlSAzv6vkLTjKZLb3nRI2TF+BG+LOJ+JeFFc6ABxB7CyMuJcc7jWPv8KaUapDLEvebbyf4X7rnlv25Qmcopzr7fTXGq6yf/xBR5oj4tPwLxqHAAAAABJRU5ErkJggg=="},"75fc":function(t,e,a){"use strict";var n=a("a745"),i=a.n(n);function s(t){if(i()(t)){for(var e=0,a=new Array(t.length);e<t.length;e++)a[e]=t[e];return a}}var r=a("774e"),o=a.n(r),c=a("c8bb"),l=a.n(c);function u(t){if(l()(Object(t))||"[object Arguments]"===Object.prototype.toString.call(t))return o()(t)}function d(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function p(t){return s(t)||u(t)||d()}a.d(e,"a",function(){return p})},"774e":function(t,e,a){t.exports=a("d2d5")},9003:function(t,e,a){t.exports=a("0b93")(176)},9275:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAAXNSR0IArs4c6QAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAGKADAAQAAAABAAAAGAAAAADB/VeXAAABTElEQVRIDe2S4VGDQBSE0fG/lEAJ2AEdSAfSgVhB0kHSgddBUsJ1ICVgBcYKzm/Pu5kbhBnO8DM7s7zNwtv3uFAUN2x5As65Eu7gF6y3zC4UGIIpHh+bDSBuGh5muHaTIaQNMXFSz1cPILBLQvfoFo7Bu/6YCDqHMBu35beGeERvqd4v3Uj856Bd4pVBfyZevmTFPiwaywlxgPpMBZufGjpornzE/MVi65jim+TPodnMZzujNO5pgRe4g5W8LNA0QiH+ydJWIdQOXqAJlH6F76uH8LDQhcBKGtZQWoF1DENrkEf0Yl38iu5+YcKDDfURa6C20ASN9LBc//dFsZa29lAUoodH6RR4Jdyn3iqtJhjRICo4PSItcZgLfJgzF7xv/IGjUXiPttQT9QI7+Ab/IGfAUeFKoBrCLbKBFXzCG6n5IEivb/M7bx0rT+AHD6KsHrC44CgAAAAASUVORK5CYII="},"95d5":function(t,e,a){var n=a("40c3"),i=a("5168")("iterator"),s=a("481b");t.exports=a("584a").isIterable=function(t){var e=Object(t);return void 0!==e[i]||"@@iterator"in e||s.hasOwnProperty(n(e))}},"98a8":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAASCAYAAABWzo5XAAAABHNCSVQICAgIfAhkiAAAAWZJREFUOE+tlD1PAkEQhp+BykYs7TQxRguLszaRo9VCbK28KNbGP6D+AX+AYIDGVhptARNrKSw0xEQ7y8PGiluzt/cJF4OBLefj2dmZfUfIOKqKTY4iChvB8kMUPYQOHl2p0BlNk6RB1VlgSB2hnHVBZFO0yOOIgxvaIpCqY+FxByz/CYmdH+TYF4eeNvkgvxKP539AQpyGberKDKhGC2EvumzjDN5v4ecrXdzcIqwcwMtV0t6QIxwJGtuOPGsV2LqGwSs8lGKYhuy0obAOTyfwVo1hHiVRN1wA55E1mRDCtDOEjF5gEi81SI+ymHpDEvbdN6751fEq46SuqBouQmFsUhq2+2gA+mjg/fZ434zXnQ1IMZjh02bWbKOr6cc/9YdUNOWYw1giQ1/dSxPqzIQpPsljRRIJ9GYx9KUyGcxAyinRhlUEa6SR0l1WiYomeU4z10gyPtCfDdioYLGJvy70YutkLbZft5yuzUJZN7cAAAAASUVORK5CYII="},a5b0:function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"tooltip",style:t.elmwidth},[t.tooltip?a("el-tooltip",{attrs:{effect:"light",content:t.content,placement:t.placement}},[a("span",{ref:"name"},[t._v("\n              "+t._s(t.content)+"\n          ")])]):a("span",{ref:"name"},[t._v("\n          "+t._s(t.content)+"\n      ")])],1)},i=[],s=(a("7f7f"),{name:"OverflowTooltip",props:{width:{type:String,default:""},content:{type:String,default:""},placement:{type:String,default:"top"}},data:function(){return{tooltip:!1,elmwidth:""}},created:function(){},updated:function(){this.updatawidth()},mounted:function(){this.elmwidth="width:".concat(this.width),this.updatawidth()},methods:{updatawidth:function(){var t=this.$refs.name.offsetWidth;t>parseInt(this.width)?this.tooltip=!0:this.tooltip=!1}}}),r=s,o=(a("5b35"),a("2877")),c=Object(o["a"])(r,n,i,!1,null,null,null);e["a"]=c.exports},a745:function(t,e,a){t.exports=a("f410")},a8ab:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"deployansible"},[a("div",{staticClass:"deploying-box"},[a("div",{staticClass:"serve-title"},[a("div",{staticClass:"deploying-inline"},[t._v("FATE Deployment")]),a("div",{staticClass:"inline"},[a("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,model:t.formInline,size:"mini"}},[a("el-form-item",{attrs:{label:"PartyID:"}},[a("el-select",{class:{"option-select":t.showwarn},attrs:{placeholder:""},on:{change:t.tochangepartyId},model:{value:t.formInline.partyId,callback:function(e){t.$set(t.formInline,"partyId",e)},expression:"formInline.partyId"}},t._l(t.partyId,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}),1),t.showwarn?a("div",{staticClass:"option-partyId"},[t._v("The PartyID is required.")]):t._e()],1),a("el-form-item",{staticClass:"form-item",attrs:{label:"Site name:"}},[a("span",{staticStyle:{color:"#217AD9"}},[t._v(t._s(t.formInline.siteName))])])],1)],1)]),a("div",{staticClass:"steps-content"},[a("div",{class:{define:!0,hover:t.currentSteps.acquisiPrepare,activa:t.currentSteps.acquisiFinish},on:{click:function(e){return t.toSteps(4)}}},[t._m(0),a("i",{staticClass:"el-icon-caret-right"})]),a("div",{class:{define:!0,hover:t.currentSteps.instllPrepare,activa:t.currentSteps.instllFinish},on:{click:function(e){return t.toSteps(5)}}},[t._m(1),a("i",{staticClass:"el-icon-caret-right"})]),a("div",{class:{define:!0,hover:t.currentSteps.autoPrepare,activa:t.currentSteps.autoFinish},on:{click:function(e){return t.toSteps(6)}}},[t._m(2)])]),a("fatepackage",{directives:[{name:"show",rawName:"v-show",value:4===t.page,expression:"page === 4"}],ref:"fatepackage",attrs:{page:t.page,currentpage:t.currentpage,currentSteps:t.currentSteps,formInline:t.formInline}}),a("tableinstall",{directives:[{name:"show",rawName:"v-show",value:5===t.page,expression:"page === 5"}],ref:"tableinstall",attrs:{page:t.page,currentpage:t.currentpage,currentSteps:t.currentSteps,formInline:t.formInline}}),a("tableauto",{directives:[{name:"show",rawName:"v-show",value:6===t.page,expression:"page === 6"}],ref:"tableauto",attrs:{page:t.page,currentpage:t.currentpage,currentSteps:t.currentSteps,formInline:t.formInline}})],1)])},i=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"steps"},[a("span",{staticClass:"text circul"},[t._v("1")]),a("span",{staticClass:"text"},[t._v("FATE package acquisition")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"steps-two steps"},[a("span",{staticClass:"circul"},[t._v("2")]),a("span",{staticClass:"text"},[t._v("FATE installation")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"steps-three steps"},[a("span",{staticClass:" circul"},[t._v("3")]),a("span",{staticClass:"text"},[t._v("Auto-test")])])}],s=(a("ac6a"),a("cebc")),r=a("2f62"),o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"row-content"},[n("el-radio-group",{staticClass:"radio",on:{change:t.handleClick},model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},[n("el-radio-button",{attrs:{label:"Install image"}}),n("el-radio-button",{attrs:{label:"Log"}})],1)],1),n("div",{directives:[{name:"show",rawName:"v-show",value:"Install image"===t.activeName,expression:"activeName==='Install image'"}],staticClass:"deploying-body"},[t.tableData.length>0&&t.reacquireShow?n("span",[n("div",{staticClass:"row-activa"},[n("div",{staticClass:"modify"},[n("span",{staticClass:"action-control"},[t._v("From Local upload")]),t.disReacquire?n("span",{staticClass:"action-modify",on:{click:t.reacquire}},[t._v("Reacquire")]):n("span",{staticClass:"action-modify",staticStyle:{opacity:"0.75",cursor:"not-allowed"}},[t._v("Reacquire")])])]),n("div",{staticClass:"table"},[n("el-table",{attrs:{data:t.tableData,"header-row-class-name":"tableHead","header-cell-class-name":"tableHeadCell","cell-class-name":"tableCell",height:"100%"}},[n("el-table-column",{attrs:{type:"index",label:"Index",width:"70"}}),n("el-table-column",{attrs:{prop:"module",label:"Item"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("span",[t._v(" "+t._s(e.row.module))])]}}],null,!1,3569798775)}),n("el-table-column",{attrs:{prop:"description",label:"Description"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("span",[t._v(t._s(e.row.description))])]}}],null,!1,1516911488)}),n("el-table-column",{attrs:{prop:"version",label:"Version"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("span",[t._v(t._s(e.row.version))])]}}],null,!1,2779242876)}),n("el-table-column",{attrs:{prop:"size",label:"Size"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("span",[t._v(t._s(e.row.size))])]}}],null,!1,601952707)}),n("el-table-column",{attrs:{prop:"time",label:"Time"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("span",[t._v(t._s(t._f("dateFormat")(e.row.time)))])]}}],null,!1,961544829)}),n("el-table-column",{attrs:{prop:"deployStatus.desc",align:"center",label:"Status"},scopedSlots:t._u([{key:"default",fn:function(e){return[0===e.row.status.code?n("span",{attrs:{type:"text"}},[n("img",{attrs:{src:a("aa8f"),alt:""}})]):t._e(),1===e.row.status.code?n("span",{attrs:{type:"text"}},[n("img",{attrs:{src:a("6582"),alt:""}})]):t._e(),2===e.row.status.code?n("span",{attrs:{type:"text"}},[n("img",{attrs:{src:a("98a8"),alt:""}})]):t._e(),3===e.row.status.code?n("span",{attrs:{type:"text"}},[n("i",{staticClass:"el-icon-loading",staticStyle:{color:"#217AD9","font-size":"18px"}})]):t._e()]}}],null,!1,4184501777)})],1)],1),n("div",{staticClass:"btn"},["primary"===t.btntype?n("el-button",{attrs:{type:"primary"},on:{click:t.toNext}},[t._v("Next")]):n("el-button",{attrs:{type:"info",disabled:""}},[t._v("Next")])],1)]):n("span",[n("div",{staticClass:"row-activa"}),n("div",{staticClass:"table"},[n("div",{staticClass:"acquire-fate"},[n("el-button",{attrs:{type:"text"},on:{click:t.toShowacquire}},[t._v("Acquire FATE installation package")])],1)])])]),"Log"===t.activeName?n("div",{staticClass:"deploying-body"},[n("log",{ref:"log"})],1):t._e(),n("el-dialog",{staticClass:"package-dialog",attrs:{visible:t.acquireVisible,width:"700px"},on:{"update:visible":function(e){t.acquireVisible=e}}},[n("div",{staticClass:"dialog-body"},[n("div",{staticClass:"body-title"},[t._v("Acquire FATE installation package")]),n("div",{staticClass:"body-radio"},[n("el-radio-group",{model:{value:t.radio,callback:function(e){t.radio=e},expression:"radio"}},[n("el-radio",{attrs:{label:1}},[t._v("Local upload")]),n("el-radio",{attrs:{label:2}},[t._v("Auto-acquire")])],1)],1),1===t.radio?n("div",{staticClass:"body-select"},[n("el-form",{ref:"uploadForm",attrs:{model:t.uploadForm,rules:t.rules}},[n("div",{staticClass:"text"},[t._v("Please select a machine")]),n("el-form-item",{attrs:{label:"",prop:"ip"}},[n("el-select",{attrs:{placeholder:""},model:{value:t.uploadForm.ip,callback:function(e){t.$set(t.uploadForm,"ip",e)},expression:"uploadForm.ip"}},t._l(t.nodeData,function(t){return n("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}),1)],1),n("div",{staticClass:"text"},[t._v("Please enter the installation package path")]),n("el-form-item",{attrs:{label:"",prop:"path"}},[n("el-input",{model:{value:t.uploadForm.path,callback:function(e){t.$set(t.uploadForm,"path",e)},expression:"uploadForm.path"}})],1)],1)],1):n("div",{staticClass:"body-select"},[n("div",{staticClass:"text"},[n("span",[t._v("Please select FATE version")])]),n("el-form",{ref:"versionForm",attrs:{model:t.versionForm,rules:t.rules}},[n("el-form-item",{attrs:{label:"",prop:"fateVersion"}},[n("el-select",{attrs:{placeholder:""},model:{value:t.versionForm.fateVersion,callback:function(e){t.$set(t.versionForm,"fateVersion",e)},expression:"versionForm.fateVersion"}},t._l(t.version,function(t){return n("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}),1)],1)],1),n("div",{staticClass:"info"},[t._v("\n                    Make sure the network is available.\n                ")])],1)]),1===t.radio?n("div",{staticClass:"dialog-footer"},[n("el-button",{attrs:{type:"primary"},on:{click:t.toUpload}},[t._v("Start")]),n("el-button",{attrs:{type:"info"},on:{click:t.tocancel}},[t._v("Cancel")])],1):n("div",{staticClass:"dialog-footer"},[n("el-button",{attrs:{type:"primary"},on:{click:t.toAcquire}},[t._v("Start")]),n("el-button",{attrs:{type:"info"},on:{click:t.tocancel}},[t._v("Cancel")])],1)]),n("el-dialog",{staticClass:"failed-dialog",attrs:{visible:t.failedVisible,width:"700px"},on:{"update:visible":function(e){t.failedVisible=e}}},[n("div",{staticClass:"body-title"},[t._v("Failed to acquire, please try again.")]),n("div",{staticClass:"dialog-footer"},[n("el-button",{attrs:{type:"primary"},on:{click:function(e){t.failedVisible=!1}}},[t._v("OK")])],1)])],1)},c=[],l=(a("96cf"),a("3b8d")),u=(a("c5f6"),a("c1df")),d=a.n(u),p=a("42a5"),f=a("d846"),h=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"log"},[a("div",{staticClass:"log-box"},[a("div",{staticClass:"log-title"},[a("span",{staticClass:"text",staticStyle:{"margin-left":"48px"}},[t._v("\n                all\n                "),a("span",{staticStyle:{color:"#FC6A16",cursor:"pointer"},on:{click:function(e){return t.toScreen("all")}}},[t._v("\n                    "+t._s(t.data.all&&t.data.all.length||0)+"\n                ")])]),a("span",{staticClass:"text"},[t._v("\n                error\n                "),a("span",{staticStyle:{color:"#FC6A16",cursor:"pointer"},on:{click:function(e){return t.toScreen("error")}}},[t._v(t._s(t.data.error&&t.data.error.length||0))])]),a("span",{staticClass:"text"},[t._v("\n                warning\n                "),a("span",{staticStyle:{color:"#FF9D00",cursor:"pointer"},on:{click:function(e){return t.toScreen("waring")}}},[t._v(t._s(t.data.waring&&t.data.waring.length||0))])]),a("span",{staticClass:"text"},[t._v("\n                info\n                "),a("span",{staticStyle:{color:"#00D269",cursor:"pointer"},on:{click:function(e){return t.toScreen("info")}}},[t._v(t._s(t.data.info&&t.data.info.length||0))])]),a("span",{staticClass:"text"},[t._v("\n                debug\n                "),a("span",{staticStyle:{color:"#217AD9",cursor:"pointer"},on:{click:function(e){return t.toScreen("debug")}}},[t._v(t._s(t.data.debug&&t.data.debug.length||0))])])]),a("div",{staticClass:"log-content"},[t.dataList.length>0?a("div",{staticClass:"log-li"},t._l(t.dataList,function(e,n){return a("span",{key:n},[a("span",{staticClass:"content-text"},[t._v(t._s(n+1))]),a("span",{staticClass:"content-text"},[t._v(t._s(e))])])}),0):a("div",{staticClass:"log-li"},[a("div",{staticStyle:{"text-align":"center"}},[t._v("No DATA")])])])])])},m=[],b={name:"log",data:function(){return{data:{},dataList:[]}},watch:{},computed:{},created:function(){},mounted:function(){this.toScreen("error")},methods:{toScreen:function(t){var e=this;for(var a in this.dataList=[],this.data)t===a&&this.data[a].forEach(function(t,a){e.dataList.push("".concat(t))})}}},A=b,v=(a("460d"),a("2877")),g=Object(v["a"])(A,h,m,!1,null,null,null),y=g.exports,S={name:"pulltable",props:{formInline:{type:Object,default:function(){return{}}},currentSteps:{type:Object,default:function(){return{}}},page:{type:Number,default:function(){return 4}},currentpage:{type:Number,default:function(){return 0}}},filters:{dateFormat:function(t){return t>0?d()(t).format("YYYY-MM-DD HH:mm:ss"):"- -"}},data:function(){return{reacquireShow:!0,uploadForm:{},versionForm:{},tableData:[],disReacquire:!0,radio:1,acquireVisible:!1,failedVisible:!1,activeName:"Install image",btntype:"info",startStatus:1,disabledStart:!0,time:null,fateVersion:"",commitVersion:"",nodeData:[],rules:{ip:[{required:!0,message:"The field is required !",trigger:"change"}],path:[{required:!0,message:"The field is required !",trigger:"change"}],fateVersion:[{required:!0,message:"The field is required !",trigger:"change"}]}}},watch:{page:{handler:function(t){4===t?this.lessTime():window.clearTimeout(this.time)},immediate:!0}},components:{log:y},computed:Object(s["a"])({},Object(r["mapGetters"])(["organization","partyId","version"])),beforeDestroy:function(){window.clearTimeout(this.time)},mounted:function(){var t=this;p["a"].$on("myFunAnsible",function(e){t.disReacquire=e})},methods:{initiInstallList:function(){var t=Object(l["a"])(regeneratorRuntime.mark(function t(){var e,a;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return e={partyId:this.formInline.partyId,productType:1},t.next=3,Object(f["j"])(e);case 3:return a=t.sent,this.tableData=a.data?a.data.list:[],this.commitVersion=a.data?a.data.fateVersion:"",a.data&&a.data.list.length>0&&(this.reacquireShow=!0),t.abrupt("return",this.tableData);case 8:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),reacquire:function(){this.reacquireShow=!1,this.uploadForm={},this.versionForm={},1===this.radio?this.$refs["uploadForm"].resetFields():this.$refs["versionForm"].resetFields()},toShowacquire:function(){this.acquireVisible=!0,this.nodeList()},toAcquire:function(){var t=this;this.$refs["versionForm"].validate(function(e){if(e){var a={fateVersion:t.versionForm.fateVersion,partyId:t.formInline.partyId,siteName:t.formInline.siteName};Object(f["o"])(a).then(function(e){t.btntype="primary",t.$parent.currentpage=4,t.$parent.currentSteps={acquisiPrepare:!0,acquisiFinish:!1,instllPrepare:!1,instllFinish:!1,autoPrepare:!1,autoFinish:!1},t.acquireVisible=!1,t.reacquireShow=!1,t.lessTime()})}})},toUpload:function(){var t=this;this.$refs["uploadForm"].validate(function(e){if(e){var a={ip:t.uploadForm.ip,path:t.uploadForm.path,partyId:t.formInline.partyId,siteName:t.formInline.siteName};Object(f["p"])(a).then(function(e){t.btntype="primary",t.currentpage=4,t.acquireVisible=!1,t.reacquireShow=!1,t.currentSteps.systemFinish=!0,t.currentSteps.ansibleFinish=!0,t.currentSteps.acquisiPrepare=!0,t.lessTime()})}})},tocancel:function(){this.lessTime(),this.acquireVisible=!1,1===this.radio?this.$refs["uploadForm"].resetFields():this.$refs["versionForm"].resetFields()},toNext:function(){var t=this,e={fateVersion:this.commitVersion,partyId:this.formInline.partyId,productType:1};Object(f["i"])(e).then(function(e){var a={partyId:t.formInline.partyId,productType:1,clickType:5};Object(f["b"])(a).then(function(e){t.$parent.togetpages()})})},handleClick:function(){var t=this;if("Log"===this.activeName){this.$refs["log"].data.all=[],this.$refs["log"].dataList=[],this.disabledStart=!0,window.clearTimeout(this.time);var e=["debug","error","info","waring"];e.forEach(function(e){var a={level:e};Object(f["n"])(a).then(function(a){t.$refs["log"].data[e]=a.data.content||[],a.data.content&&a.data.content.forEach(function(e){t.$refs["log"].dataList.push(e)})}),t.$refs["log"].data.all=t.$refs["log"].dataList})}else this.page!==this.currentpage&&(this.btntype="info")},lessTime:function(){var t=this;this.initiInstallList().then(function(e){e.length>0&&e.every(function(t){return 0===t.status.code})?(t.btntype="info",t.disabledStart=!1,t.startStatus=1):e.length>0&&e.every(function(t){return 1===t.status.code})?(t.page!==t.currentpage?t.btntype="info":t.btntype="primary",t.disabledStart=!0,t.currentSteps.acquisiFinish=!0):e.length>0&&e.every(function(t){return 2===t.status.code})?(t.btntype="info",t.startStatus=2,t.disabledStart=!1):0===e.length?t.btntype="info":(t.btntype="info",t.disabledStart=!0,t.time=setTimeout(function(){t.lessTime()},1500))})},nodeList:function(){var t=this;this.nodeData=[],Object(f["m"])().then(function(e){e.data.forEach(function(e){var a={};a.value=e.ip,a.label=e.ip,a.status=e.status,t.nodeData.push(a)})})},toRetry:function(){}}},I=S,w=(a("cea2"),Object(v["a"])(I,o,c,!1,null,null,null)),C=w.exports,x=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"row-content"},[n("el-radio-group",{staticClass:"radio",on:{change:t.handleClick},model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},[n("el-radio-button",{attrs:{label:"Install image"}}),n("el-radio-button",{attrs:{label:"Log"}})],1)],1),n("div",{directives:[{name:"show",rawName:"v-show",value:"Install image"===t.activeName,expression:"activeName==='Install image'"}],staticClass:"deploying-body"},[n("div",{staticClass:"row-activa"},[1===t.startStatus?n("el-button",{attrs:{disabled:t.disabledStart,type:"text"},on:{click:t.toStart}},[t.disabledStart?n("img",{staticClass:"disable",attrs:{src:a("fd98")}}):n("img",{staticClass:"activa",attrs:{src:a("fd98")}}),n("span",[t._v("Start")])]):t._e(),2===t.startStatus?n("el-button",{attrs:{disabled:t.disabledStart,type:"text"},on:{click:t.toStart}},[t.disabledStart?n("img",{staticClass:"disable",attrs:{src:a("7441")}}):n("img",{staticClass:"activa",attrs:{src:a("7441")}}),n("span",[t._v("Retry")])]):t._e(),3===t.startStatus?n("el-button",{attrs:{disabled:t.disabledStart,type:"text"},on:{click:t.toStart}},[t.disabledStart?n("img",{staticClass:"disable",attrs:{src:a("9275")}}):n("img",{staticClass:"activa",attrs:{src:a("9275")}}),n("span",[t._v("Restart")])]):t._e()],1),n("div",{staticClass:"table"},[n("el-table",{attrs:{data:t.tableData,"header-row-class-name":"tableHead","header-cell-class-name":"tableHeadCell","cell-class-name":"tableCell",height:"100%","tooltip-effect":"light"}},[n("el-table-column",{attrs:{type:"index",label:"Index",width:"70"}}),n("el-table-column",{attrs:{prop:"componentName",label:"Installation item"},scopedSlots:t._u([{key:"default",fn:function(e){return["fateboard"!==e.row.componentName||6!==e.row.deployStatus.code&&9!==e.row.deployStatus.code?n("span",[t._v(" "+t._s(e.row.componentName))]):n("span",{staticStyle:{color:"#217AD9",cursor:"pointer"},on:{click:t.tofateboard}},[t._v("\n                            "+t._s(e.row.componentName)+"\n                            "),n("el-tooltip",{attrs:{effect:"dark",placement:"bottom"}},[n("div",{staticStyle:{"font-size":"14px"},attrs:{slot:"content"},slot:"content"},[n("div",[t._v("Before accessing FATEBoard, please configure the host that corresponding to ")]),n("div",[t._v("FATEBoard deployment machine IP, for example: 172.16.0.1 10000.fateboard.kubefate.net")])]),n("i",{staticClass:"el-icon-info icon-info"})])],1)]}}])}),n("el-table-column",{attrs:{prop:"address",label:"Host IP",width:"350","show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(e){return[n("span",{staticClass:"ip-text"},[n("tooltip",{attrs:{width:"200px",content:e.row.address,placement:"top"}})],1),n("el-popover",{attrs:{placement:"right",width:"350","popper-class":"fateinstall",trigger:"click"},model:{value:e.row.edit,callback:function(a){t.$set(e.row,"edit",a)},expression:"scope.row.edit"}},[n("div",{staticClass:"content"},[n("div",{staticClass:"title"},[t._v("Select host IP")]),n("div",{staticClass:"checkbox"},[n("div",{staticClass:"checkbox-title"},[n("span",{staticClass:"ip"},[t._v("IP")]),n("span",{staticClass:"port"},[t._v("Port")])]),n("el-checkbox-group",{on:{change:t.handlecheck},model:{value:t.checkedIpport,callback:function(e){t.checkedIpport=e},expression:"checkedIpport"}},t._l(t.ipPortList,function(e,a){return n("div",{key:e},[n("el-checkbox",{attrs:{label:e,disabled:t.disabledEditeList[a]}},[n("span",[t._v(" "+t._s(e.split(":")[0]))]),t.showEditeList[a]?n("span",{on:{click:function(e){return e.preventDefault(),t.toPrevent(e)}}},[n("span",{staticClass:"label-port"},[t._v(t._s(e.split(":")[1]))]),n("div",{staticClass:"edit-port"},[t.checkedIpport.indexOf(e)>-1?n("i",{staticClass:"el-icon-edit",staticStyle:{cursor:"not-allowed",opacity:"0.7"}}):n("i",{staticClass:"el-icon-edit",on:{click:function(n){n.preventDefault(),t.toEditPort(e.split(":")[1],a)}}})])]):n("span",{staticStyle:{cursor:"pointer"},on:{click:function(e){return e.preventDefault(),t.toPrevent(e)}}},[n("el-input",{staticClass:"input",attrs:{placeholder:""},model:{value:t.portList[a],callback:function(e){t.$set(t.portList,a,e)},expression:"portList[index]"}}),n("div",{staticClass:"edit-port"},[n("i",{staticClass:"el-icon-check check",on:{click:function(e){return e.preventDefault(),t.toEditCheck(a)}}}),n("i",{staticClass:"el-icon-close close",on:{click:function(e){return e.preventDefault(),t.toEditClose(a)}}})])],1)])],1)}),0)],1),n("div",{staticClass:"floor"},[n("el-button",{attrs:{type:"primary",disabled:t.ipSave},on:{click:function(a){return t.toEdited(e.row)}}},[t._v("Save")]),n("el-button",{attrs:{type:"info"},on:{click:function(a){return t.toClose(e)}}},[t._v("Cancel")])],1)]),2===e.row.deployStatus.code||3===e.row.deployStatus.code||6===e.row.deployStatus.code||7===e.row.deployStatus.code||9===e.row.deployStatus.code||10===e.row.deployStatus.code?n("i",{staticClass:"el-icon-edit edit",attrs:{slot:"reference"},on:{click:function(a){return t.toEdit(e.row)}},slot:"reference"}):t._e()])]}}])}),n("el-table-column",{attrs:{prop:"duration",label:"Installation duration"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("span",[t._v(t._s(t._f("durationFormat")(e.row.duration)))])]}}])}),n("el-table-column",{attrs:{prop:"deployStatus.desc",align:"center",label:"Status"},scopedSlots:t._u([{key:"default",fn:function(e){return[6===e.row.deployStatus.code||9===e.row.deployStatus.code?n("span",{attrs:{type:"text"}},[n("img",{attrs:{src:a("6582"),alt:""}})]):t._e(),3===e.row.deployStatus.code||7===e.row.deployStatus.code||10===e.row.deployStatus.code?n("span",{attrs:{type:"text"}},[n("img",{attrs:{src:a("98a8"),alt:""}})]):t._e(),4===e.row.deployStatus.code||5===e.row.deployStatus.code?n("span",{attrs:{type:"text"}},[n("i",{staticClass:"el-icon-loading",staticStyle:{color:"#217AD9","font-size":"18px"}})]):t._e(),2===e.row.deployStatus.code?n("span",{attrs:{type:"text"}},[n("img",{attrs:{src:a("aa8f"),alt:""}})]):t._e()]}}])})],1)],1),n("div",{staticClass:"btn"},["primary"===t.btntype?n("el-button",{attrs:{type:"primary"},on:{click:t.toNext}},[t._v("Next")]):n("el-button",{attrs:{type:"info",disabled:""}},[t._v("Next")])],1)]),"Log"===t.activeName?n("div",{staticClass:"deploying-body"},[n("log",{ref:"log"})],1):t._e()])},k=[],_=a("75fc"),E=(a("28a5"),a("3b2b"),a("de61")),F=a("a5b0"),O={name:"pulltable",components:{log:y,tooltip:F["a"]},props:{formInline:{type:Object,default:function(){return{}}},currentSteps:{type:Object,default:function(){return{}}},page:{type:Number,default:function(){return 5}},currentpage:{type:Number,default:function(){return 5}}},filters:{durationFormat:function(t){function e(t){return new RegExp(/^\d$/g).test(t)?"0".concat(t):t}var a;if(t&&t>1e3){var n=parseInt(t%864e5/36e5),i=parseInt(t%36e5/6e4),s=parseInt(t%6e4/1e3);a=e(n)+":"+e(i)+":"+e(s)}else a=-1===t?"--:--:--":"00:00:00";return a}},data:function(){return{tableData:[],input:"",activeName:"Install image",paramsData:{},btntype:"info",startStatus:1,disabledStart:!1,time:null,updataipstart:!1,ipPortList:[],checkedIpport:[],tempcheckeIpPort:[],checkAll:!1,isIndeterminate:!0,portList:[],disabledEditeList:[],showEditeList:[],ipSave:!0}},watch:{page:{handler:function(t){5===t?this.lessTime():window.clearTimeout(this.time)},immediate:!0},currentpage:{handler:function(t){},immediate:!0}},beforeDestroy:function(){window.clearTimeout(this.time)},mounted:function(){},methods:{initiInstallList:function(){var t=Object(l["a"])(regeneratorRuntime.mark(function t(){var e,a;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return e={partyId:this.formInline.partyId,productType:1},this.paramsData=e,t.next=4,Object(f["k"])(e);case 4:return a=t.sent,this.tableData=a.data||[],t.abrupt("return",this.tableData);case 7:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),toGetIplist:function(t){var e=this;this.ipPortList=[];var a={componentName:t};Object(f["l"])(a).then(function(t){t.data.forEach(function(t){t.edit=!1,e.showEditeList.push(!0),e.disabledEditeList.push(!1)}),t.data&&t.data.forEach(function(t){e.ipPortList.push("".concat(t.ip,":").concat(t.port)),e.tempcheckeIpPort===["".concat(t.ip,":").concat(t.port)]&&(e.checkedIpport=e.tempcheckeIpPort)})}).catch(function(t){e.toClose()})},toEdit:function(t){this.checkedIpport=[],this.ipSave=!0,this.tempcheckeIpPort=t.address.split(";"),this.toGetIplist(t.componentName)},toClose:function(t){var e=[];this.tableData.forEach(function(a,n){n===t.$index&&(a.edit=!1),e.push(a)}),this.portList=this.portList.map(function(t){return t="",t}),this.showEditeList=this.showEditeList.map(function(t){return t=!0,t}),this.disabledEditeList=this.disabledEditeList.map(function(t){return t=!1,t}),this.checkedIpport=[],this.ipSave=!0,this.ipPortList=Object(_["a"])(this.ipPortList),this.tableData=[].concat(e)},toEdited:function(t){var e=this;if(this.checkedIpport.join()&&t.address!==this.checkedIpport.join()){var a={address:this.checkedIpport.join(),componentName:t.componentName,partyId:this.paramsData.partyId,productType:1};Object(f["f"])(a).then(function(a){e.toClose(t),e.updataipstart=!0,e.disabledStart=!1,e.btntype="info",e.tableData.every(function(t){return 6===t.deployStatus.code})&&(e.startStatus=3),e.$message.success("success!"),e.tableData=e.tableData.map(function(t,e){return t.edit=!1,t}),e.initiInstallList(),e.currentSteps.autoPrepare=!1,e.currentSteps.autoFinish=!1})}else this.tableData=this.tableData.map(function(t,e){return t.edit=!1,t})},toEditPort:function(t,e){this.portList[e]=t,this.disabledEditeList[e]=!0,this.showEditeList[e]=!1,this.ipPortList=Object(_["a"])(this.ipPortList)},toEditCheck:function(t){var e=this.portList[t],a=new RegExp("^[0-9]*$");""===e||!a.test(e)||parseInt(e)<0||parseInt(e)>65535?this.$message.error("Invalid input!"):(this.checkedIpport[t]===this.ipPortList[t]?this.checkedIpport[t]=this.ipPortList[t]="".concat(this.ipPortList[t].split(":")[0],":").concat(this.portList[t]):this.ipPortList[t]="".concat(this.ipPortList[t].split(":")[0],":").concat(this.portList[t]),this.showEditeList[t]=!0,this.disabledEditeList[t]=!1,this.portList[t]="",this.ipPortList=Object(_["a"])(this.ipPortList))},toEditClose:function(t){this.showEditeList[t]=!0,this.disabledEditeList[t]=!1,this.portList[t]="",this.ipPortList=Object(_["a"])(this.ipPortList)},handlecheck:function(t){t.length>0?this.ipSave=!1:this.ipSave=!0,this.ipPortList=Object(_["a"])(this.ipPortList)},toPrevent:function(){},toStart:function(){var t=this;this.updataipstart=!1,window.clearTimeout(this.time);var e={partyId:this.formInline.partyId,productType:1};Object(f["c"])(e).then(function(e){t.disabledStart=!0,t.lessTime()})},toNext:function(){var t=this;if(this.formInline.partyId){var e={partyId:this.formInline.partyId,productType:1,clickType:6};Object(f["b"])(e).then(function(e){t.$parent.getAutoTest(),t.$parent.togetpages()})}else this.$parent.showwarn=!0},handleClick:function(){var t=this;if("Log"===this.activeName){this.$refs["log"].data.all=[],this.$refs["log"].dataList=[],this.disabledStart=!0,window.clearTimeout(this.time);var e=["debug","error","info","waring"];e.forEach(function(e){var a={level:e};Object(f["n"])(a).then(function(a){t.$refs["log"].data[e]=a.data.content||[],a.data.content&&a.data.content.forEach(function(e){t.$refs["log"].dataList.push(e)})}),t.$refs["log"].data.all=t.$refs["log"].dataList})}else this.$parent.page!==this.$parent.currentpage&&(this.btntype="info"),this.updataipstart?this.disabledStart=!1:this.disabledStart=!0},lessTime:function(){var t=this;this.initiInstallList().then(function(e){e.length>0&&e.every(function(t){return 2===t.deployStatus.code})?(t.btntype="info",t.updataipstart=!0,t.disabledStart=!1,t.startStatus=1):e.length>0&&e.every(function(t){return 6===t.deployStatus.code||9===t.deployStatus.code})?(p["a"].$emit("myFunAnsible",!1),t.updataipstart=!1,t.page!==t.currentpage?t.btntype="info":t.btntype="primary",t.disabledStart=!0,t.startStatus=3,t.currentSteps.instllFinish=!0):e.length>0&&e.every(function(t){return 3===t.deployStatus.code||7===t.deployStatus.code||10===t.deployStatus.code})?(t.btntype="info",t.updataipstart=!0,t.startStatus=2,t.disabledStart=!1):e.length>0&&e.every(function(t){return 6===t.deployStatus.code||7===t.deployStatus.code})?(p["a"].$emit("myFunAnsible",!1),t.btntype="info",t.updataipstart=!0,t.startStatus=2,t.disabledStart=!1):e.length>0&&e.some(function(t){return 3===t.deployStatus.code||7===t.deployStatus.code||10===t.deployStatus.code})?(p["a"].$emit("myFunAnsible",!1),t.btntype="info",t.updataipstart=!0,t.startStatus=2,t.disabledStart=!1):0===e.length?t.btntype="info":(p["a"].$emit("myFunAnsible",!0),t.btntype="info",t.disabledStart=!0,t.time=setTimeout(function(){t.lessTime()},1500))})},tofateboard:function(){var t={partyId:this.formInline.partyId};Object(E["i"])(t).then(function(t){window.open("http://".concat(t.data))})}}},T=O,N=(a("b870"),Object(v["a"])(T,x,k,!1,null,null,null)),L=N.exports,j=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"row-content"},[n("el-radio-group",{staticClass:"radio",on:{change:t.handleClick},model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},[n("el-radio-button",{attrs:{label:"Auto test"}}),n("el-radio-button",{attrs:{label:"Log"}})],1)],1),"Auto test"===t.activeName?n("div",{staticClass:"deploying-body"},[n("div",{staticClass:"row-activa"},[1===t.startStatus?n("el-button",{attrs:{disabled:t.disabledStart,type:"text"},on:{click:t.toStart}},[t.disabledStart?n("img",{staticClass:"disable",attrs:{src:a("fd98")}}):n("img",{staticClass:"activa",attrs:{src:a("fd98")}}),n("span",[t._v("Start")])]):t._e(),2===t.startStatus?n("el-button",{attrs:{disabled:t.disabledStart,type:"text"},on:{click:t.toStart}},[t.disabledStart?n("img",{staticClass:"disable",attrs:{src:a("7441")}}):n("img",{staticClass:"activa",attrs:{src:a("7441")}}),n("span",[t._v("Retry")])]):t._e(),3===t.startStatus?n("el-button",{attrs:{disabled:t.disabledStart,type:"text"},on:{click:t.toStart}},[t.disabledStart?n("img",{staticClass:"disable",attrs:{src:a("9275")}}):n("img",{staticClass:"activa",attrs:{src:a("9275")}}),n("span",[t._v("Restart")])]):t._e()],1),n("div",{staticClass:"table"},[n("el-table",{attrs:{data:t.tableData,"span-method":t.objectSpanMethod,"header-row-class-name":"tableHead","header-cell-class-name":"tableHeadCell","cell-class-name":"tableCell",height:"100%","tooltip-effect":"light"}},[n("el-table-column",{attrs:{prop:"index","class-name":"index",label:"Index",width:"100"}}),n("el-table-column",{attrs:{prop:"testItem",label:"Test item"}}),n("el-table-column",{attrs:{prop:"duration",label:"Test duration"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("span",[t._v(t._s(t._f("durationFormat")(e.row.duration)))])]}}],null,!1,1669077820)}),n("el-table-column",{attrs:{prop:"status.desc",align:"center",label:"Status"},scopedSlots:t._u([{key:"default",fn:function(e){return["Pod/SVC Status Of Each Component"!==e.row.testItem?n("span",[e.row.status&&0===e.row.status.code?n("span",{attrs:{type:"text"}},[n("img",{attrs:{src:a("aa8f"),alt:""}})]):t._e(),e.row.status&&1===e.row.status.code?n("span",{attrs:{disabled:"",type:"text"}},[n("i",{staticClass:"el-icon-loading",staticStyle:{color:"#217AD9","font-size":"18px"}})]):t._e(),e.row.status&&2===e.row.status.code?n("span",{attrs:{disabled:"",type:"text"}},[n("img",{attrs:{src:a("6582"),alt:""}})]):t._e(),e.row.status&&3===e.row.status.code?n("span",{attrs:{disabled:"",type:"text"}},[n("img",{attrs:{src:a("98a8"),alt:""}})]):t._e()]):t._e()]}}],null,!1,536748094)})],1)],1),n("div",{staticClass:"btn"},["primary"===t.btntype?n("el-button",{attrs:{type:"primary"},on:{click:t.toFinish}},[t._v("Finish")]):n("el-button",{attrs:{type:"info",disabled:""}},[t._v("Finish")])],1)]):t._e(),"Log"===t.activeName?n("div",{staticClass:"deploying-body"},[n("log",{ref:"log"})],1):t._e()])},D=[],B=a("41db"),P={name:"pulltable",props:{formInline:{type:Object,default:function(){return{}}},currentSteps:{type:Object,default:function(){return{}}},page:{type:Number,default:function(){return 5}},currentpage:{type:Number,default:function(){return 0}}},filters:{durationFormat:function(t){function e(t){return new RegExp(/^\d$/g).test(t)?"0".concat(t):t}var a;if(t&&t>1e3){var n=parseInt(t%864e5/36e5),i=parseInt(t%36e5/6e4),s=parseInt(t%6e4/1e3);a=e(n)+":"+e(i)+":"+e(s)}else a=-1===t?"--:--:--":"00:00:00";return a}},data:function(){return{startStatus:1,activeName:"Auto test",disabledStart:!1,length:"",tableData:[],testItemList:{},podList:[],time:null,btntype:"info",itemkey:["Pod/SVC Status Of Each Component"]}},components:{log:y},watch:{page:{handler:function(t){6===t?this.lessTime():window.clearTimeout(this.time)},immediate:!0}},computed:{},mounted:function(){this.lessTime()},beforeDestroy:function(){window.clearTimeout(this.time)},methods:{initiTextList:function(){var t=Object(l["a"])(regeneratorRuntime.mark(function t(){var e,a,n,i,s,r,o=this;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return e={partyId:this.formInline.partyId,productType:1},t.next=3,Object(f["e"])(e);case 3:if(a=t.sent,a.data&&"{}"!==JSON.stringify(a.data.AutoTest)){t.next=6;break}return t.abrupt("return",[]);case 6:for(n in this.length=a.data.AutoTest["Pod/SVC Status Of Each Component"].length+1,Object(_["a"])(a.data.AutoTest["Pod/SVC Status Of Each Component"]).every(function(t){return 2===t.status.code})?this.tableData=[{testItem:"Pod/SVC Status Of Each Component",status:{code:2,desc:"成功"},index:1}]:Object(_["a"])(a.data.AutoTest["Pod/SVC Status Of Each Component"]).some(function(t){return 3===t.status.code})?this.tableData=[{testItem:"Pod/SVC Status Of Each Component",status:{code:3,desc:"失败"},index:1}]:this.tableData=[{testItem:"Pod/SVC Status Of Each Component",status:{code:0,desc:"等待"},index:1}],a.data.AutoTest)"Pod/SVC Status Of Each Component"===n?function(){var t;(t=o.tableData).push.apply(t,Object(_["a"])(a.data.AutoTest[n]));var e=[];a.data.AutoTest[n].map(function(t){e.push(t.testItem)}),o.podList[n]=[].concat(e),o.testItemList[n]=[].concat(e)}():function(){var t=[];a.data.AutoTest[n].map(function(e){t.push(e.testItem)}),o.testItemList[n]=[].concat(t)}();return i=2,s=[],r=["Single Test","Toy Test","Minimize Fast Test","Minimize Normal Test"],r.forEach(function(t){for(var e in a.data.AutoTest)if(e===t)return Object(_["a"])(a.data.AutoTest[e]).forEach(function(t){t.index=i}),s.push.apply(s,Object(_["a"])(a.data.AutoTest[e])),o.itemkey.push(e),void i++}),s.forEach(function(t){o.tableData.push(t)}),t.abrupt("return",this.tableData);case 15:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),toRery:function(t){var e,a=this;e="Pod/SVC Status Of Each Component"===t.testItem?{"Pod/SVC Status Of Each Component":Object(_["a"])(this.podList["Pod/SVC Status Of Each Component"])}:JSON.parse('{"'.concat(t.testItem,'":["').concat(t.testItem,'"]}'));var n={testItemList:e,partyId:this.$parent.formInline.partyId,productType:1};Object(B["o"])(n).then(function(e){a.initiTextList().then(function(e){if(e.some(function(e){return e.testItem===t.testItem&&2===e.status.code}))return e;a.lessTime()})})},objectSpanMethod:function(t){t.row,t.column;var e=t.rowIndex,a=t.columnIndex;if(0===a){if(0===e)return{rowspan:this.length,colspan:1};if(e<this.length)return{rowspan:0,colspan:0}}},handleClick:function(){var t=this,e={partyId:this.formInline.partyId,productType:1};"Log"===this.activeName?(this.disabledStart=!0,window.clearTimeout(this.time),Object(B["f"])(e).then(function(e){for(var a in t.$refs["log"].data=e.data,e.data)e.data[a].forEach(function(e){t.$refs["log"].dataList.push(e)})})):this.lessTime()},toStart:function(){var t=this;window.clearTimeout(this.time);var e={partyId:this.formInline.partyId,productType:1};Object(f["a"])(e).then(function(e){t.lessTime()})},lessTime:function(){var t=this;this.initiTextList().then(function(e){e.length>0&&e.every(function(t){return 0===t.status.code})?(t.btntype="info",t.disabledStart=!1,t.startStatus=1):e.length>0&&e.every(function(t){return 2===t.status.code})?(t.startStatus=3,t.btntype="primary",t.disabledStart=!0,t.currentSteps.autoFinish=!0):e.length>0&&e.some(function(t){return 3===t.status.code})?(t.btntype="info",t.startStatus=2,t.disabledStart=!1):0===e.length?t.btntype="info":(t.btntype="info",t.disabledStart=!0,t.time=setTimeout(function(){t.lessTime()},1500))})},toFinish:function(){var t=this;if(this.formInline.partyId){var e={partyId:this.formInline.partyId,productType:1,clickType:7};Object(f["b"])(e).then(function(e){t.$router.push({name:"service",query:{partyId:t.formInline.partyId,siteName:t.formInline.siteName,fateVersion:t.formInline.fateVersion}})})}else this.$parent.showwarn=!0}}},R=P,V=(a("62f6"),Object(v["a"])(R,j,D,!1,null,null,null)),q=V.exports,Q={name:"deployansible",components:{fatepackage:C,tableinstall:L,tableauto:q},data:function(){return{showwarn:!1,page:0,currentpage:0,currentSteps:{systemPrepare:!1,systemFinish:!1,ansiblePrepare:!1,ansibleFinish:!1,acquisiPrepare:!1,acquisiFinish:!1,instllPrepare:!1,instllFinish:!1,autoPrepare:!1,autoFinish:!1},formInline:{partyId:parseInt(this.$route.query.partyId),siteName:this.$route.query.siteName,fateVersion:this.$route.query.fateVersion,deployType:this.$route.query.deployType}}},computed:Object(s["a"])({},Object(r["mapGetters"])(["organization","partyId","version"])),created:function(){this.$store.dispatch("selectEnum",this.formInline.federatedId)},mounted:function(){this.togetpages()},methods:{tochangepartyId:function(){var t=this;this.showwarn=!1,this.partyId.forEach(function(e){e.value===t.formInline.partyId&&(t.formInline.siteName=e.text)}),this.togetpages()},togetpages:function(){var t=this;this.currentSteps={acquisiPrepare:!1,acquisiFinish:!1,instllPrepare:!1,instllFinish:!1,autoPrepare:!1,autoFinish:!1};var e={partyId:this.formInline.partyId,productType:1};Object(B["i"])(e).then(function(e){switch(0===e.data.pageStatus.code&&t.$router.push({name:"auto",query:{siteName:t.formInline.siteName,partyId:t.formInline.partyId,fateVersion:t.formInline.fateVersion,deployType:t.formInline.deployType}}),e.data.deployType.code){case 1:t.$router.push({name:"service",query:{siteName:t.formInline.siteName,partyId:t.formInline.partyId,fateVersion:t.formInline.fateVersion,deployType:t.formInline.deployType}});break;case 2:t.page=t.currentpage=e.data.pageStatus.code,4===e.data.pageStatus.code?t.currentSteps.acquisiPrepare=!0:5===e.data.pageStatus.code?(t.currentSteps.acquisiFinish=!0,t.currentSteps.instllPrepare=!0):6===e.data.pageStatus.code?(t.currentSteps.acquisiFinish=!0,t.currentSteps.instllFinish=!0,t.currentSteps.autoPrepare=!0):7===e.data.pageStatus.code&&t.$router.push({name:"service",query:{siteName:t.formInline.siteName,partyId:t.formInline.partyId,fateVersion:t.formInline.fateVersion,deployType:t.formInline.deployType}});break}})},toSteps:function(t){t<=this.currentpage&&(this.page=t)},getAutoTest:function(){this.$refs["tableauto"].lessTime()}}},G=Q,U=(a("f2d3"),Object(v["a"])(G,n,i,!1,null,null,null));e["default"]=U.exports},aa8f:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAASCAYAAABWzo5XAAAABHNCSVQICAgIfAhkiAAAAUZJREFUOE+tlEFSg0AQRX8zi2RnbqBHgDKuw2zUrIw3MDfwBpqTJJ5AdokuMmSdWHCEeAPc6QLaagoopIhDVcKO/jNvunvmN6HlW5qt78AZMdgH4BZLYgKFGbLNWF+FzW1UDxgTDX6QzgFM2g6oxYIe1FRrLyljFejdRG6G9BXARR1y41/mv2/hR5O9d6Dur7UXi5CDikyiJkS0f0Ai73tQnmSWg1ZmFwC4ayvHApIti1s9nJI0lkDmUE86gMBgLaBnAj0dCZrRcr0NiWh0FIh5Q6v1LgHhzAZq6o1bTE4DYnxZS7M8zFxmKc3W7E4g8Mx6/R1B2vogbSAGXsZ6+FBZ5JvTmAjnto11nRmffVJuZRERxbQpp0FXmEAUqckf05anFOZdHPJduU7K6UM9to6ResriPwA+GOLDfLAxOAZBBlrYNth+AScqnPtOp1CYAAAAAElFTkSuQmCC"},aae3:function(t,e,a){var n=a("d3f4"),i=a("2d95"),s=a("2b4c")("match");t.exports=function(t){var e;return n(t)&&(void 0!==(e=t[s])?!!e:"RegExp"==i(t))}},adea:function(t,e,a){},aebd:function(t,e,a){t.exports=a("0b93")(26)},afab:function(t,e,a){},b870:function(t,e,a){"use strict";var n=a("adea"),i=a.n(n);i.a},c8bb:function(t,e,a){t.exports=a("54a1")},cea2:function(t,e,a){"use strict";var n=a("afab"),i=a.n(n);i.a},d2d5:function(t,e,a){a("1654"),a("549b"),t.exports=a("584a").Array.from},d415:function(t,e,a){},d846:function(t,e,a){"use strict";a.d(e,"m",function(){return s}),a.d(e,"o",function(){return r}),a.d(e,"p",function(){return o}),a.d(e,"j",function(){return c}),a.d(e,"i",function(){return l}),a.d(e,"c",function(){return u}),a.d(e,"k",function(){return d}),a.d(e,"l",function(){return p}),a.d(e,"f",function(){return f}),a.d(e,"a",function(){return h}),a.d(e,"e",function(){return m}),a.d(e,"n",function(){return b}),a.d(e,"b",function(){return A}),a.d(e,"h",function(){return v}),a.d(e,"g",function(){return g}),a.d(e,"d",function(){return y});var n=a("b775"),i="fate-manager";function s(t){return Object(n["a"])({url:"/".concat(i,"/api/dropdown/managernode"),method:"get",params:t})}function r(t){return Object(n["a"])({url:"/".concat(i,"/api/ansible/autoacquire"),method:"post",data:t})}function o(t){return Object(n["a"])({url:"/".concat(i,"/api/ansible/upload"),method:"post",data:t})}function c(t){return Object(n["a"])({url:"/".concat(i,"/api/ansible/componentlist"),method:"post",data:t})}function l(t){return Object(n["a"])({url:"/".concat(i,"/api/ansible/commit"),method:"post",data:t})}function u(t){return Object(n["a"])({url:"/".concat(i,"/api/ansible/install"),method:"post",data:t})}function d(t){return Object(n["a"])({url:"/".concat(i,"/api/ansible/installlist"),method:"post",data:t})}function p(t){return Object(n["a"])({url:"/".concat(i,"/api/dropdown/manager"),method:"get",params:t})}function f(t){return Object(n["a"])({url:"/".concat(i,"/api/ansible/update"),method:"post",data:t})}function h(t){return Object(n["a"])({url:"/".concat(i,"/api/ansible/autotest"),method:"post",data:t})}function m(t){return Object(n["a"])({url:"/".concat(i,"/api/ansible/testlist"),method:"post",data:t})}function b(t){return Object(n["a"])({url:"/".concat(i,"/api/ansible/log"),method:"post",data:t})}function A(t){return Object(n["a"])({url:"/".concat(i,"/api/ansible/click"),method:"post",data:t})}function v(t){return Object(n["a"])({url:"/".concat(i,"/api/ansible/autotest"),method:"post",data:t})}function g(t){return Object(n["a"])({url:"/".concat(i,"/api/ansible/upgrade"),method:"post",data:t})}function y(t){return Object(n["a"])({url:"/".concat(i,"/api/ansible/log"),method:"post",data:t})}},dafd:function(t,e,a){},de61:function(t,e,a){"use strict";a.d(e,"c",function(){return s}),a.d(e,"g",function(){return r}),a.d(e,"d",function(){return o}),a.d(e,"b",function(){return c}),a.d(e,"e",function(){return l}),a.d(e,"j",function(){return u}),a.d(e,"f",function(){return d}),a.d(e,"a",function(){return p}),a.d(e,"l",function(){return f}),a.d(e,"k",function(){return h}),a.d(e,"h",function(){return m}),a.d(e,"i",function(){return b});var n=a("b775"),i="fate-manager";function s(t){return Object(n["a"])({url:"/".concat(i,"/api/deploy/prepare"),method:"get",params:t})}function r(t){return Object(n["a"])({url:"/".concat(i,"/api/deploy/pull"),method:"post",data:t})}function o(t){return Object(n["a"])({url:"/".concat(i,"/api/deploy/pulllist"),method:"post",data:t})}function c(t){return Object(n["a"])({url:"/".concat(i,"/api/deploy/installlist"),method:"post",data:t})}function l(t){return Object(n["a"])({url:"/".concat(i,"/api/deploy/testlist"),method:"post",data:t})}function u(t){return Object(n["a"])({url:"/".concat(i,"/api/deploy/commit"),method:"post",data:t})}function d(t){return Object(n["a"])({url:"/".concat(i,"/api/deploy/install"),method:"post",data:t})}function p(t){return Object(n["a"])({url:"/".concat(i,"/api/deploy/autotest"),method:"post",data:t})}function f(t){return Object(n["a"])({url:"/".concat(i,"/api/deploy/update"),method:"post",data:t})}function h(t){return Object(n["a"])({url:"/".concat(i,"/api/deploy/upgrade"),method:"post",data:t})}function m(t){return Object(n["a"])({url:"/".concat(i,"/api/deploy/click"),method:"post",data:t})}function b(t){return Object(n["a"])({url:"/".concat(i,"/api/deploy/fateboard"),method:"post",data:t})}},f2d3:function(t,e,a){"use strict";var n=a("0855"),i=a.n(n);i.a},f410:function(t,e,a){a("1af6"),t.exports=a("584a").Array.isArray},f424:function(t,e,a){},fd98:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAAXNSR0IArs4c6QAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAGKADAAQAAAABAAAAGAAAAADB/VeXAAABFUlEQVRIDe1T0Q2CQAwFJ2ADcQNGYAMZQSfQDWQDGcENxA3YQEbQCcQJztdLmxA4epLjkyb1lZa+17QYRastvQFjTAK/wD/wbFF+ImRigLXnYgKgG5KzhikWEQFbK4wDrIMFQHjokZaIC/iLc+FrAlHNZI1Mi2cSsSY5F25cSUduzznTqyUcv3u5+SFGPPOgAncEVzh9pmTNfFbuQHNqKfSfsybgW1GpNXOt097xCeTc/FBIUqUW+QS2aD7GcVwAdxTDSSzssCAYGc5A/4WTFBBXfBoSDzMQZUxGYI8KzOEdPNHYfSuS3tGUWFuDYg7s5CUX/isgvV8EN3kAeSvxFM4VqHwTTwmpeeyZbuCdViVZi1Mb+AFKxxKmPecPhwAAAABJRU5ErkJggg=="}}]);