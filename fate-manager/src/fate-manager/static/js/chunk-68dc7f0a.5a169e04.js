(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-68dc7f0a"],{"15e4":function(t,e,a){},"2cab":function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"cooperation"},[a("div",{staticClass:"cooperation-box"},[t._m(0),a("div",{staticClass:"monitor-header"},[a("el-radio-group",{staticClass:"radio",on:{change:t.tohandle},model:{value:t.radio,callback:function(e){t.radio=e},expression:"radio"}},[a("el-radio-button",{attrs:{label:"Today’s active data"}}),a("el-radio-button",{attrs:{label:"Cumulative active data"}})],1)],1),a("div",{staticClass:"content"},[a("cooperationdata",{ref:"cooperationdata"})],1)])])},n=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"serve-title"},[a("div",{staticClass:"cooperation-inline"},[t._v("Site cooperation")])])}],s=a("cebc"),o=a("2f62"),l=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",["Today’s active data"===t.radio?a("div",{staticClass:"type-time"},[a("span",[t._v("Active sites today: ")]),a("span",{staticStyle:{color:"#217AD9"}},[t._v(t._s(t.total.activeData))])]):a("div",{staticClass:"time-picker"},[a("span",{staticClass:"date"},[t._v("Date")]),a("el-date-picker",{attrs:{type:"daterange",clearable:!1,"range-separator":"~","start-placeholder":"start","end-placeholder":"end",format:"yyyy-MM-dd","value-format":"yyyyMMdd","picker-options":t.pickerOptions},on:{change:t.handeldeDate},model:{value:t.timevalue,callback:function(e){t.timevalue=e},expression:"timevalue"}})],1),a("div",{staticClass:"content-item"},[a("div",{staticClass:"institutions-jobs"},[a("div",{staticClass:"job-alone-complete"},[a("div",{staticClass:"job-alone"},[a("span",[t._v("Federated modeling jobs：")]),a("span",{staticClass:"span"},[t._v(t._s(t.total.totalJobs))]),a("span",{staticClass:"run"},[t._v("running：")]),a("span",{staticClass:"span"},[t._v(t._s(t.total.runningJobs)+" ("+t._s(t._f("toGetFixed")(t.total.runningPercent))+"%)  ")]),a("span",[t._v("success：")]),a("span",{staticClass:"span"},[t._v(t._s(t.total.successJobs)+" ("+t._s(t._f("toGetFixed")(t.total.successPercent))+"%)   ")]),a("span",[t._v("failed：")]),a("span",{staticClass:"span"},[t._v(t._s(t.total.failedJobs)+" ("+t._s(t._f("toGetFixed")(t.total.failedPercent))+"%)")]),a("span",[t._v("waiting：")]),a("span",{staticClass:"span"},[t._v(t._s(t.total.waitingJobs)+" ("+t._s(t._f("toGetFixed")(t.total.waitingPercent))+"%)")])]),t._m(0)]),a("div",{staticClass:"jobs"},[t.totalList.length>0?a("div",{staticClass:"jobs-box"},t._l(t.totalList,function(e,i){return a("span",{key:i},[a("div",{ref:"jobs",refInFor:!0,staticClass:"jobs-institution"},[a("overflowtooltip",{staticClass:"jobs-text",attrs:{width:"80px",content:e.siteName,placement:"top"}}),a("overflowtooltip",{staticClass:"jobs-text",attrs:{width:"60px",content:""+e.partyId,placement:"top"}}),a("el-tooltip",{attrs:{placement:"top"}},[a("div",{attrs:{slot:"content"},slot:"content"},[a("div",[t._v("running:\n                                    "+t._s(e.runningJobs)+"\n                                    ("+t._s(t._f("toGetFixed")(e.runningPercent))+"%)\n                                ")]),a("div",[t._v("success:\n                                    "+t._s(e.successJobs)+"\n                                    ("+t._s(t._f("toGetFixed")(e.successPercent))+"%)\n                                ")]),a("div",[t._v("failed:\n                                    "+t._s(e.failedJobs)+"\n                                    ("+t._s(t._f("toGetFixed")(e.failedPercent))+"%)\n                                ")]),a("div",[t._v("waiting:\n                                    "+t._s(e.waitingJobs)+"\n                                    ("+t._s(t._f("toGetFixed")(e.waitingPercent))+"%)\n                                ")])]),a("div",{staticClass:"jobs-bar",style:"width:"+e.totalJobs*t.jobsitemWidth/t.maxtoal+"px"},[a("div",{staticClass:"jobs-bar-running",style:"width:"+e.runningJobs/e.totalJobs*100+"%"}),a("div",{staticClass:"jobs-bar-success",style:"width:"+e.successJobs/e.totalJobs*100+"%"}),a("div",{staticClass:"jobs-bar-faile",style:"width:"+e.failedJobs/e.totalJobs*100+"%"}),a("div",{staticClass:"jobs-bar-waiting",style:"width:"+e.waitingJobs/e.totalJobs*100+"%"})])]),a("span",{ref:"text",refInFor:!0,staticClass:"text"},[t._v(t._s(e.totalJobs))])],1)])}),0):a("div",{staticClass:"jobs-box no-date-box"},[t._v("\n                    No Date\n                ")])])])]),a("div",{staticClass:"content-item"},[a("div",{staticClass:"institution-based"},[a("div",{staticClass:"statistics"},[t._v("Institution based statistics")]),a("div",{staticClass:"between"},[t._v("\n                Statistics of cooperation between my institution and other institutions\n            ")]),a("div",{staticClass:"institution-table"},[a("el-table",{attrs:{"header-row-class-name":"tableHead","header-cell-class-name":"tableHeadCell","cell-class-name":"tableCell",data:t.institutionList,"header-cell-style":{background:"#FAFBFC"},"cell-style":{background:"#FAFBFC"},border:"",height:"100%"}},[a("el-table-column",{attrs:{prop:"name",fixed:"",label:"",align:"center",resizable:!1},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",{staticStyle:{color:"#4E5766","font-weight":"bold"}},[t._v(t._s(e.row.institution))])]}}])}),a("el-table-column",{attrs:{prop:"totalJobs",fixed:"",label:"Jobs",align:"center",resizable:!1}}),a("el-table-column",{attrs:{prop:"waitingJobs",label:"Waiting",align:"center",resizable:!1},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.waitingJobs)+"  ("+t._s(t._f("toGetFixed")(e.row.waitingPercent))+"%)")])]}}])}),a("el-table-column",{attrs:{prop:"runningJobs",label:"Running",align:"center",resizable:!1},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.runningJobs)+"  ("+t._s(t._f("toGetFixed")(e.row.runningPercent))+"%)")])]}}])}),a("el-table-column",{attrs:{prop:"successJobs",label:"Success",align:"center",resizable:!1},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.successJobs)+"  ("+t._s(t._f("toGetFixed")(e.row.successPercent))+"%)")])]}}])}),a("el-table-column",{attrs:{prop:"failedJobs",label:"Failed",align:"center",resizable:!1},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.failedJobs)+"  ("+t._s(t._f("toGetFixed")(e.row.failedPercent))+"%)")])]}}])})],1),a("div",{staticClass:"paginationInstitutionSize"},[a("el-pagination",{attrs:{background:"","current-page":t.currentInstitutionPage,"page-size":t.pageInstitutionSize,layout:"total, prev, pager, next, jumper",total:t.totalInstitution},on:{"current-change":t.handleInstitutionCurrentChange,"update:currentPage":function(e){t.currentInstitutionPage=e},"update:current-page":function(e){t.currentInstitutionPage=e}}})],1)],1)])]),a("div",{staticClass:"content-item"},[a("div",{staticClass:"institution-based"},[a("div",{staticClass:"statistics"},[t._v("Site based statistics")]),a("div",{staticClass:"between"},[t._v("\n                Statistics of cooperation between my site and other institutions sites\n            ")]),a("div",{staticClass:"institution-table"},[a("el-table",{attrs:{"header-row-class-name":"tableHead","header-cell-class-name":"tableHeadCell","cell-class-name":"tableCell",data:t.siteTableList,"span-method":t.objectSpanMethod,"header-cell-style":{background:"#FAFBFC"},"cell-style":{background:"#FAFBFC"},border:"",height:"100%"}},[a("el-table-column",{attrs:{prop:"institution",label:"",align:"center",resizable:!1},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",{staticStyle:{color:"#4E5766","font-weight":"bold"}},[t._v(t._s(e.row.institution))])]}}])}),a("el-table-column",{attrs:{prop:"institutionSiteName",align:"center",label:"site",resizable:!1},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.institutionSiteName))])]}}])}),t._l(t.siteNameList,function(e,i){return a("el-table-column",{key:i,attrs:{align:"center",prop:e,label:e,resizable:!1},scopedSlots:t._u([{key:"default",fn:function(i){return[i.row[e]?a("el-tooltip",{attrs:{placement:"top"}},[a("div",{attrs:{slot:"content"},slot:"content"},[a("div",[a("span",{staticStyle:{"margin-right":"5px"}},[t._v("running："+t._s(i.row[e].runningJobs)+"  ")]),a("span",[t._v("("+t._s(t._f("toGetFixed")(i.row[e].runningPercent))+"%)")])]),a("div",[a("span",{staticStyle:{"margin-right":"5px"}},[t._v("success："+t._s(i.row[e].successJobs)+"  ")]),a("span",[t._v("("+t._s(t._f("toGetFixed")(i.row[e].successPercent))+"%)")])]),a("div",[a("span",{staticStyle:{"margin-right":"5px"}},[t._v("failed："+t._s(i.row[e].failedJobs)+"  ")]),a("span",[t._v("("+t._s(t._f("toGetFixed")(i.row[e].failedPercent))+"%)")])]),a("div",[a("span",{staticStyle:{"margin-right":"5px"}},[t._v("waiting："+t._s(i.row[e].waitingJobs)+"  ")]),a("span",[t._v("("+t._s(t._f("toGetFixed")(i.row[e].waitingPercent))+"%)")])])]),a("span",[t._v(t._s(i.row[e].totalJobs))])]):a("span")]}}],null,!0)})})],2),a("div",{staticClass:"paginationInstitutionSize"},[a("el-pagination",{attrs:{background:"","current-page":t.currentSitePage,"page-size":t.pageInstitutionSize,layout:"total, prev, pager, next, jumper",total:t.totalSitetitution},on:{"current-change":t.handleSiteCurrentChange,"update:currentPage":function(e){t.currentSitePage=e},"update:current-page":function(e){t.currentSitePage=e}}})],1)],1)])])])},r=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"complete-failed"},[a("span",{staticClass:"running"}),a("span",[t._v("running")]),a("span",{staticClass:"complete"}),a("span",[t._v("success")]),a("span",{staticClass:"failed"}),a("span",[t._v("failed")]),a("span",{staticClass:"waiting"}),a("span",[t._v("waiting")])])}],c=(a("ac6a"),a("a5b0")),u=a("b775"),d="fate-manager";function p(t){return Object(u["a"])({url:"/".concat(d,"/api/monitor/total"),method:"post",data:t})}function f(t){return Object(u["a"])({url:"/".concat(d,"/api/monitor/institution"),method:"post",data:t})}function b(t){return Object(u["a"])({url:"/".concat(d,"/api/monitor/site"),method:"post",data:t})}var v=a("c1df"),h=a.n(v),m={name:"cooperation",components:{overflowtooltip:c["a"]},filters:{dateFormat:function(t){return t?h()(t).format("YYYY-MM-DD HH:mm:ss"):"--"},datevaule:function(t){return h()(t).format("YYYYMMDD")},toGetFixed:function(t){var e=100*t;return e?e.toFixed(1):"0.0"}},data:function(){return{timevalue:[h()(new Date).format("YYYYMMDD"),h()(new Date).format("YYYYMMDD")],radio:"Today’s active data",maxtoal:10,totalList:[],total:{activeData:0},itemWidth:"",stylebar:"",jobsitemWidth:"",institutionList:[],siteTableList:[],siteNameList:[],sitedata:[],lengthList:[],pageInstitutionSize:10,totalInstitution:0,totalSitetitution:0,currentInstitutionPage:1,currentSitePage:1,firstInstPageNum:1,secondSitePageNum:1,pickerOptions:{disabledDate:function(t){return t.getTime()>Date.now()}}}},watch:{totalList:{handler:function(t){var e=this;t.length>0&&this.$nextTick(function(){e.jobsitemWidth=e.$refs.jobs[0].clientWidth-180})},immediate:!0},radio:{handler:function(t){var e=this;this.timevalue="Today’s active data"===t?[h()(new Date).format("YYYYMMDD"),h()(new Date).format("YYYYMMDD")]:[h()(new Date-864e5).format("YYYYMMDD"),h()(new Date).format("YYYYMMDD")],setTimeout(function(){e.initi()},300)}}},computed:Object(s["a"])({},Object(o["mapGetters"])(["organization"])),created:function(){this.initi()},mounted:function(){},methods:{initi:function(){this.toGetTotal(),this.toGetInstitution(),this.toGetSite()},handleCurrentChange:function(t){console.log("val==>>",t)},handeldeDate:function(t){this.initi()},objectSpanMethod:function(t){t.row,t.column;var e=t.rowIndex,a=t.columnIndex;if(0===a){var i=this.lengthList[e],n=i>0?1:0;return{rowspan:i,colspan:n}}},toGetTotal:function(){var t=this;this.totalList=[],this.total={};var e={startDate:this.timevalue[0],endDate:this.timevalue[1]};p(e).then(function(e){var a=[];e.data&&e.data.data.forEach(function(t){a.push(t.totalJobs)}),t.maxtoal=Math.max.apply(Math,a),t.totalList=e.data?e.data.data:[],t.total=e.data?e.data:{activeData:0}})},toGetInstitution:function(){var t=this;this.institutionList=[];var e={startDate:this.timevalue[0],endDate:this.timevalue[1],pageNum:this.firstInstPageNum,pageSize:10};f(e).then(function(e){t.institutionList=e.data&&e.data.data,t.totalInstitution=e.data&&e.data.total||0})},toGetSite:function(){var t=this;this.siteTableList=[];var e={startDate:this.timevalue[0],endDate:this.timevalue[1],pageNum:this.secondSitePageNum,pageSize:10};b(e).then(function(e){t.lengthList=[],t.siteNameList=e.data&&e.data.siteList,t.totalSitetitution=e.data&&e.data.total||0;var a=[];e.data&&e.data.data.forEach(function(e){if(e.institutionSiteList.length>1){t.lengthList.push(e.institutionSiteList.length);for(var i=0;i<e.institutionSiteList.length-1;i++)t.lengthList.push(0)}else t.lengthList.push(e.institutionSiteList.length);e.institutionSiteList.forEach(function(t,i){var n={};n.institutionSiteName=t.institutionSiteName,n.institution=e.institution,t.mixSiteModeling.forEach(function(t){n[t.siteName]=Object(s["a"])({},t)}),a.push(n)})}),setTimeout(function(){t.siteTableList=[].concat(a)},500)})},handleInstitutionCurrentChange:function(t){this.firstInstPageNum=t,this.toGetInstitution()},handleSiteCurrentChange:function(t){this.secondSitePageNum=t,this.toGetSite()}}},g=m,_=(a("9671"),a("2877")),w=Object(_["a"])(g,l,r,!1,null,null,null),C=w.exports,S={name:"cooperation",components:{cooperationdata:C},filters:{dateFormat:function(t){return t?h()(t).format("YYYY-MM-DD HH:mm:ss"):"--"}},data:function(){return{radio:"Today’s active data",timevalue:""}},watch:{},computed:Object(s["a"])({},Object(o["mapGetters"])(["organization"])),created:function(){},mounted:function(){},methods:{tohandle:function(t){this.$refs.cooperationdata.radio=t}}},y=S,x=(a("d131"),Object(_["a"])(y,i,n,!1,null,null,null));e["default"]=x.exports},"4e20":function(t,e,a){},"5b35":function(t,e,a){"use strict";var i=a("d415"),n=a.n(i);n.a},9671:function(t,e,a){"use strict";var i=a("4e20"),n=a.n(i);n.a},a5b0:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"tooltip",style:t.elmwidth},[t.tooltip?a("el-tooltip",{attrs:{effect:"light",content:t.content,placement:t.placement}},[a("span",{ref:"name"},[t._v("\n              "+t._s(t.content)+"\n          ")])]):a("span",{ref:"name"},[t._v("\n          "+t._s(t.content)+"\n      ")])],1)},n=[],s=(a("7f7f"),{name:"OverflowTooltip",props:{width:{type:String,default:""},content:{type:String,default:""},placement:{type:String,default:"top"}},data:function(){return{tooltip:!1,elmwidth:""}},created:function(){},updated:function(){this.updatawidth()},mounted:function(){this.elmwidth="width:".concat(this.width),this.updatawidth()},methods:{updatawidth:function(){var t=this.$refs.name.offsetWidth;t>parseInt(this.width)?this.tooltip=!0:this.tooltip=!1}}}),o=s,l=(a("5b35"),a("2877")),r=Object(l["a"])(o,i,n,!1,null,null,null);e["a"]=r.exports},d131:function(t,e,a){"use strict";var i=a("15e4"),n=a.n(i);n.a},d415:function(t,e,a){}}]);