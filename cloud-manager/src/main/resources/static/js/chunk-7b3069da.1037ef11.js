(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7b3069da"],{"0a19":function(t,e,n){},6582:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAASCAYAAABWzo5XAAAABHNCSVQICAgIfAhkiAAAAVRJREFUOE+VlEFSwkAQRf/H7PUmcgOTnbCxXFsCnsDyJHoEgsVeN4Yd8QbhBhxB95BvzZAZhxBCmGVn5qX79+8mGs7tu+KeMIbQB9G3V4QCRFES6eKRef0Zw8Bwrr62eCUQN/3AxQTkvMDL1wMLF/MgA8EGSxBXbRD/TfhBhMTBLOhsyH9qHmZBg5lyAjedMqldMmVmIyashF12hUj4BTAl8ezelETCQSoTHHcBGQgjxEaX4UwfAO5sQ4WUw5mM8tcB6FNCTOIyhO9B6o0RCgOS105IszEn1gYb5A7WCqke10FrRri3qVcwc8+X02KRw9ICf1hbAHDgFp+tmsWume2Uz6zYR9tfwawEJxxv299qSAOzIh0fGwHf2YixH5GwS108VfnH+2pvaM+BhZbYJR2cao28nZo7U462mCyeuD5YIyHQNIAlJtwtNef6lYRCPUybFtsfcIXRwbaurX4AAAAASUVORK5CYII="},"7ec0":function(t,e,n){},"901a":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAASCAYAAABWzo5XAAAABHNCSVQICAgIfAhkiAAAAXFJREFUOE/Fk0FOwlAURe9rbR2KKxB34BLq1IRYBsShdcAYWIEuwaGBCcwEBlZInKo7wBVQdlCGFvqv+YXCR9DEhMSOmrz3z7v3/vcFe/pkTxz8L8j3g0IYtmPTzU5FF5XqmW2hBqAoEG95IJorlvX/geCVRGPYb7Vz2AZIT0oPnSfj8GooFW9SYKQhECkQfB52W/4WSKvIm/IigYYtVhg+PkRbdTKeE+cv/dZI92eKtBLlOmM9yYRQVNakUom/D8n6yNhKZqc6rwxUuqqGArk0w7M+k+PUdb2UjFYQogPBtdlHIhz2muUfQYNuU0w7BCe22J6iGm+AllkZ1twIgqNM8XawEwoDS1keBLfrG8DUSpLiypouLKbLG8m6eTsgOlaS1JXr1iC4W2fISargb4SdF3XoieMUdwZr+CH5bicz31zKrT1S7sIigQ+ABYGcgJgSHAkkmpP3uYpfN7tUqQYi4g16zeAvD/p/H+0upXtT9AV107QTb0CmQQAAAABJRU5ErkJggg=="},"98a8":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAATCAYAAACdkl3yAAAABHNCSVQICAgIfAhkiAAAAVlJREFUOE+NlE1WwkAQhKuAvd7EeALDTli595lwBD2BeAI9AsHn3lVwR7xBuInukfL1JMGAwySznOn5+qe6m/Cc61fFAyGFEIGInIlQgih3RPZxx+L4G9sX0zdF+sEzgdjnoLkTUHCIh/yWZXO3BxkEW6xBnIcg+zfhCyOMG5gDnYII+KTg0hARE7g6cNKCOdBkqeKfUVWXpzzl3DnLNAfxeBytpblKOGZd2LU3nR4g+7cjxpxkWpBIfSAJ2SrlzEXdYcfpUlb5ixMRlXnKS5dah52BFFIpT1gJ0mHXCbL8DTQQ/HWsowin5oTDu9kSuAlEvgkWu1djmjMhC8tfG7mITii7lz/UkH3kt+5fJbSur0ZEWxQkztrpdIEkfHOE2ObtYGh9MACLGu4aszltSC3G32O9Rl68c9eG2DAPce9dI21vNn/cYcZqqTVdv5FQaoBF52LrK7fP7hfyYLTCM1J1bgAAAABJRU5ErkJggg=="},a14e:function(t,e,n){"use strict";var i=n("7ec0"),s=n.n(i);s.a},a8b2:function(t,e,n){"use strict";var i=n("0a19"),s=n.n(i);s.a},ab54:function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"site-add"},[i("div",{staticClass:"add-info"},[i("div",{staticClass:"title"},["siteadd"===t.type?i("span",[t._v("Add a site")]):t._e(),"siteinfo"===t.type?i("span",[t._v("Waiting for site activation...")]):t._e(),"siteUpdate"===t.type?i("span",[t._v("Site Update")]):t._e()]),i("el-form",{ref:"infoform",attrs:{model:t.form,"label-position":"left",rules:t.rules,"label-width":"250px"}},[i("el-form-item",{attrs:{label:"Site Name",prop:"siteName"}},["siteinfo"===t.type?i("span",{staticClass:"info-text"},[t._v(t._s(t.form.siteName))]):t._e(),"siteadd"===t.type||"siteUpdate"===t.type?i("el-input",{class:{"edit-text":!0,stienamewarn:t.siteNamewarnshow},attrs:{placeholder:"Maximum of 20 chatacters"},on:{blur:t.toCheckSiteName,focus:function(e){return t.cancelValid("siteName")}},model:{value:t.form.siteName,callback:function(e){t.$set(t.form,"siteName",e)},expression:"form.siteName"}}):t._e()],1),i("el-form-item",{attrs:{label:"Institution",prop:"institutions"}},["siteinfo"===t.type?i("span",{staticClass:"info-text"},[t._v(t._s(t.form.institutions))]):t._e(),"siteadd"===t.type||"siteUpdate"===t.type?i("el-select",{class:{"edit-text":!0,institutionwarn:t.institutionswarnshow},attrs:{"popper-append-to-body":!1,placeholder:"Choose Institutions"},on:{focus:function(e){return t.cancelValid("institutions")}},model:{value:t.form.institutions,callback:function(e){t.$set(t.form,"institutions",e)},expression:"form.institutions"}},t._l(t.institutionsdownList,function(t){return i("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}),1):t._e(),"siteadd"===t.type||"siteUpdate"===t.type?i("span",{staticClass:"add-institutions",on:{click:t.toAddInstitutions}},[t._v("add")]):t._e()],1),i("el-form-item",{attrs:{label:"Role",prop:"role"}},["siteinfo"===t.type?i("span",{staticClass:"info-text"},[t._v(t._s(1===t.form.role?"Guest":"Host"))]):t._e(),"siteadd"===t.type||"siteUpdate"===t.type?i("el-select",{class:{"edit-text":!0,rolewarn:t.rolewarnshow},attrs:{"popper-append-to-body":!1,placeholder:"Choose Role"},on:{focus:function(e){return t.cancelValid("role")},change:t.getPartyid},model:{value:t.form.role,callback:function(e){t.$set(t.form,"role",e)},expression:"form.role"}},t._l(t.roleOp,function(t){return i("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}),1):t._e()],1),i("el-form-item",{attrs:{label:"Party ID"}},[i("span",{attrs:{slot:"label"},slot:"label"},[i("span",[i("span",[t._v("Party ID")]),i("i",{staticClass:"el-icon-s-tools tools",staticStyle:{"margin-left":"15px",cursor:"pointer"},on:{click:t.toPartyid}})])]),"siteinfo"===t.type?i("span",{staticClass:"info-text"},[t._v(t._s(t.form.partyId))]):t._e(),"siteadd"===t.type||"siteUpdate"===t.type?i("el-select",{staticClass:"edit-text",attrs:{disabled:0===t.partyidname.length,"popper-append-to-body":!1,placeholder:"choose an ID Group"},on:{change:t.selectPartyid},model:{value:t.partyidSelect,callback:function(e){t.partyidSelect=e},expression:"partyidSelect"}},t._l(t.partyidname,function(t){return i("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}),1):t._e()],1),i("el-form-item",{directives:[{name:"show",rawName:"v-show",value:("siteadd"===t.type||"siteUpdate"===t.type)&&t.partyidSelect,expression:"(type==='siteadd' || type==='siteUpdate') && partyidSelect"}]},[i("div",{staticClass:"dropdown"},[i("i",{staticClass:"el-icon-arrow-down down",on:{click:t.downtext}}),t.downshow?i("el-input",{attrs:{disabled:"",autosize:"",type:"textarea"},model:{value:t.groupRange,callback:function(e){t.groupRange=e},expression:"groupRange"}}):t._e(),t.downshow?t._e():i("div",{staticClass:"down-text"},[t._v(t._s(t.groupRange))])],1)]),"siteadd"===t.type||"siteUpdate"===t.type?i("el-form-item",{attrs:{label:"",prop:"partyId"}},[i("el-input",{class:{"edit-text":!0,partyidwarn:t.partyIdwarnshow},attrs:{disabled:!t.partyidSelect,placeholder:"Type the Party ID"},on:{focus:function(e){return t.cancelValid("partyId")},blur:t.tocheckPartyid},model:{value:t.form.partyId,callback:function(e){t.$set(t.form,"partyId","string"===typeof e?e.trim():e)},expression:"form.partyId"}})],1):t._e(),i("el-form-item",{attrs:{label:"Network Acess Entrances",prop:"networkAccessEntrances"}},["siteinfo"===t.type?i("span",{staticClass:"info-text"},t._l(t.form.networkAccessEntrances.split(";"),function(e,n){return i("div",{key:n},[t._v(t._s(e))])}),0):t._e(),"siteadd"===t.type||"siteUpdate"===t.type?i("el-input",{class:{"edit-text":!0,"plus-text":!0,entranceswarn:t.networkAccessEntranceswarnshow},attrs:{placeholder:""},on:{focus:function(e){return t.addShow("entrances")},blur:function(e){return t.cancelValid("networkAccessEntrances")}},model:{value:t.form.networkAccessEntrances,callback:function(e){t.$set(t.form,"networkAccessEntrances",e)},expression:"form.networkAccessEntrances"}},[i("i",{staticClass:"el-icon-edit plus",attrs:{slot:"suffix"},on:{click:function(e){return t.addShow("entrances")}},slot:"suffix"})]):t._e()],1),i("el-form-item",{attrs:{label:"Network Acess Exits",prop:"networkAccessExits"}},["siteinfo"===t.type?i("span",{staticClass:"info-text"},t._l(t.form.networkAccessExits.split(";"),function(e,n){return i("div",{key:n},[t._v(t._s(e))])}),0):t._e(),"siteadd"===t.type||"siteUpdate"===t.type?i("el-input",{class:{"edit-text":!0,"plus-text":!0,exitwarn:t.networkAccessExitswarnshow},attrs:{placeholder:""},on:{focus:function(e){return t.addShow("exit")},blur:function(e){return t.cancelValid("networkAccessExits")}},model:{value:t.form.networkAccessExits,callback:function(e){t.$set(t.form,"networkAccessExits",e)},expression:"form.networkAccessExits"}},[i("i",{staticClass:"el-icon-edit plus",attrs:{slot:"suffix"},on:{click:function(e){return t.addShow("exit")}},slot:"suffix"})]):t._e()],1),i("el-form-item",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],attrs:{prop:"exits"}},["siteUpdate"===t.type||"siteadd"===t.type?i("el-input",{model:{value:t.form.exits,callback:function(e){t.$set(t.form,"exits",e)},expression:"form.exits"}}):t._e()],1),"siteinfo"===t.type?i("el-form-item",{attrs:{label:"Federation Key"}},[t.keyViewDefault?i("span",{staticClass:"info-text"},[t._v(t._s(t.form.secretInfo.key)+" "),i("img",{staticClass:"view",attrs:{src:n("c990")},on:{click:t.keyShowView}})]):t._e(),t.keyViewDefault?t._e():i("span",{staticClass:"info-text"},[t._v("***********************"),i("img",{staticClass:"view",attrs:{src:n("901a")},on:{click:t.keyShowView}})])]):t._e(),"siteinfo"===t.type?i("el-form-item",{attrs:{label:"Federation Secret"}},[t.sansViewDefault?i("span",{staticClass:"info-text"},[t._v(t._s(t.form.secretInfo.secret)+" "),i("img",{staticClass:"view",attrs:{src:n("901a")},on:{click:t.sansShowView}})]):t._e(),t.sansViewDefault?t._e():i("span",{staticClass:"info-text"},[t._v("***********************"),i("img",{staticClass:"view",attrs:{src:n("c990")},on:{click:t.sansShowView}})])]):t._e(),"siteinfo"===t.type?i("el-form-item",{attrs:{label:"Registration Link"}},[i("el-popover",{attrs:{placement:"top",width:"300",trigger:"hover",content:t.form.registrationLink}},[i("span",{staticClass:"link-text",staticStyle:{color:"#217AD9"},attrs:{slot:"reference"},slot:"reference"},[t._v(t._s(t.form.registrationLink))])]),i("span",{staticClass:"copy formcopy",attrs:{"data-clipboard-text":t.form.registrationLink},on:{click:function(e){return t.toCopy("from")}}},[t._v("copy")])],1):t._e()],1),i("div",{staticClass:"Submit"},["siteadd"===t.type?i("el-button",{attrs:{type:"primary"},on:{click:t.submitAction}},[t._v("Submit")]):t._e(),"siteUpdate"===t.type?i("el-button",{attrs:{type:"primary"},on:{click:t.submitAction}},[t._v("Resubmit")]):t._e(),"siteinfo"===t.type?i("el-button",{attrs:{type:"primary"},on:{click:t.modifyAction}},[t._v("Modify")]):t._e()],1)],1),i("el-dialog",{staticClass:"ok-dialog",attrs:{visible:t.okdialog,"close-on-click-modal":!1,"close-on-press-escape":!1},on:{"update:visible":function(e){t.okdialog=e}}},[i("div",{staticClass:"icon"},[i("i",{staticClass:"el-icon-success"})]),"siteadd"===t.type?i("div",{staticClass:"line-text-one"},[t._v("Add successfully !")]):t._e(),"siteUpdate"===t.type?i("div",{staticClass:"line-text-one"},[t._v("Modify successfully !")]):t._e(),i("div",{staticClass:"line-text-two"},[t._v("the registration link has been generated as follows:")]),i("div",{staticClass:"line-text-three"},[i("el-popover",{attrs:{placement:"top",width:"660",trigger:"hover",offset:"-30",content:t.form.registrationLink}},[i("span",{staticClass:"copy-link",attrs:{slot:"reference"},slot:"reference"},[t._v(t._s(t.form.registrationLink))])]),i("span",{staticClass:"copy dialogcopy",attrs:{"data-clipboard-text":t.form.registrationLink},on:{click:function(e){return t.toCopy("tooltip")}}},[t._v("copy")])],1),i("div",{staticClass:"dialog-footer"},[i("el-button",{staticClass:"ok-btn",attrs:{type:"primary"},on:{click:t.okAction}},[t._v("OK")])],1)]),i("el-dialog",{staticClass:"site-toleave-dialog",attrs:{visible:t.isleavedialog,width:"700px"},on:{"update:visible":function(e){t.isleavedialog=e}}},[i("div",{staticClass:"line-text-one"},[t._v("Are you sure you want to leave this page ?")]),i("div",{staticClass:"line-text-two"},[t._v("Your information will not be saved.")]),i("div",{staticClass:"dialog-footer"},[i("el-button",{staticClass:"sure-btn",attrs:{type:"primary"},on:{click:t.sureLeave}},[t._v("Sure")]),i("el-button",{staticClass:"sure-btn",attrs:{type:"primary"},on:{click:t.cancelLeave}},[t._v("Cancel")])],1)]),i("siteaddip",{ref:"siteaddip"})],1)},s=[],a=(n("5df3"),n("4f7f"),n("75fc")),o=n("cebc"),r=(n("7f7f"),n("28a5"),n("ac6a"),n("3b2b"),n("c6a8")),c=n("34c7"),l=n("b311"),u=n.n(l),d=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("el-dialog",{staticClass:"add-dialog",attrs:{visible:t.adddialog,"close-on-click-modal":!1,"close-on-press-escape":!1,width:"520px"},on:{"update:visible":function(e){t.adddialog=e}}},[i("div",{staticClass:"add-dialog-head"},[i("el-button",{staticClass:"addUrl",attrs:{disabled:t.addDisabled,type:"text"},on:{click:t.addentrancesSelect}},[i("i",{staticClass:"el-icon-circle-plus"}),i("span",[t._v("add")])]),i("el-button",{staticClass:"deleteAll",attrs:{type:"text"},on:{click:t.deleteAll}},[i("i",{staticClass:"el-icon-delete-solid"}),i("span",[t._v("delete")])]),i("span",{staticClass:"total"},[t._v("total:"+t._s(t.addtotal))])],1),i("div",{staticClass:"add-dialog-body"},[i("div",{staticClass:"line-box"},t._l(t.entrancesSelect,function(e,n){return i("div",{key:n,staticClass:"line",on:{dblclick:function(e){return t.getEdit(n)}}},[e.show?t._e():i("span",[i("el-checkbox",{model:{value:e.checked,callback:function(n){t.$set(e,"checked",n)},expression:"item.checked"}}),i("span",{staticClass:"network-text"},[t._v(t._s(e.ip))]),"entrances"===t.networkacesstype?i("span",{staticClass:"telent",on:{click:function(e){return t.testTelent(n)}}},[t._v("telnet")]):t._e(),i("i",{staticClass:"el-icon-close del",on:{click:function(e){return t.deleteEntrances(n)}}})],1),e.show?i("el-input",{staticClass:"input-show",attrs:{autocomplete:"off",id:"close",placeholder:"The type like : 192.168.8.1:8080"},on:{blur:function(e){return t.closeEntrances(n)}},model:{value:t.entrancesInput,callback:function(e){t.entrancesInput=e},expression:"entrancesInput"}},[i("i",{staticClass:"el-icon-check check",attrs:{slot:"suffix"},on:{blur:function(e){return t.closeEntrances(n)}},slot:"suffix"}),i("i",{staticClass:"el-icon-close del",staticStyle:{right:"2px"},attrs:{slot:"suffix"},on:{click:function(e){return t.deleteEntrances(n)},mousedown:t.mouseDown},slot:"suffix"})]):t._e()],1)}),0),i("div",{staticClass:"message-add",style:{opacity:t.showMes,transition:"all 0.2s ease"}},[t.telnetsuccess?i("span",{staticClass:"tips"},[i("img",{attrs:{src:n("6582")}}),i("span",[t._v("Telnet success !\n                        "),i("span",{staticStyle:{color:"#4AA2FF"}},[t._v(t._s(t.ipPost))])])]):t._e(),t.invalidsuccess?i("span",{staticClass:"tips"},[i("img",{attrs:{src:n("98a8")}}),i("span",[t._v("Invalid input !")])]):t._e(),t.telnetfail?i("span",{staticClass:"tips"},[i("img",{attrs:{src:n("98a8")}}),i("span",[t._v("Unable to connect\n                        "),i("span",{staticStyle:{color:"#4AA2FF"}},[t._v(t._s(t.ipPost))])])]):t._e()])]),i("div",{staticClass:"add-dialog-footer"},[i("el-button",{staticClass:"save-btn",attrs:{disabled:t.saveDisabled,type:"primary"},on:{click:t.saveAction}},[t._v("Save")]),i("el-button",{staticClass:"cancel-btn",attrs:{type:"primary"},on:{click:t.cancelAction}},[t._v(" Cancel ")])],1)])],1)},f=[],p={name:"siteAddIp",components:{},data:function(){return{adddialog:!1,entrancesInput:"",networkacesstype:"",showMes:0,timeLess:null,entrancesSelect:[],addtotal:"",telnetsuccess:!1,telnetfail:!1,invalidsuccess:!1,saveDisabled:!1,addDisabled:!1,canEdit:!0,ipPost:"",verifyPromise:null}},watch:{entrancesSelect:{handler:function(t){this.addtotal=t.length,t.length>=20?this.addDisabled=!0:this.saveDisabled||(this.addDisabled=!1)},deep:!0,immediate:!0}},methods:{addentrancesSelect:function(){this.entrancesSelect.push({ip:"",show:!1,checked:!1}),this.canEdit=!0,this.getEdit(this.entrancesSelect.length-1)},deleteEntrances:function(t){this.entrancesInput="",this.entrancesSelect.splice(t,1),this.saveDisabled=!1,this.addDisabled=!1,this.canEdit=!0},deleteAll:function(){this.entrancesSelect=this.entrancesSelect.filter(function(t){return!t.checked})},getEdit:function(t){this.canEdit&&(this.entrancesSelect[t].show=!0,this.entrancesInput=this.entrancesSelect[t].ip,this.entrancesindex=t,this.canEdit=!1,this.addDisabled=!0,this.saveDisabled=!0,this.$nextTick(function(){var t=document.querySelector("#close");t.focus()}))},closeEntrances:function(t){var e=this,n=this.entrancesInput.split(":"),i=new RegExp(/^(\d|[1-9]\d|1\d{2}|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d{2}|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d{2}|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d{2}|2[0-4]\d|25[0-5])$/),s=new RegExp(/^([0-9]|[1-9]\d{1,3}|[1-5]\d{4}|6[0-4]\d{4}|65[0-4]\d{2}|655[0-2]\d|6553[0-5])$/);""===this.entrancesInput?this.deleteEntrances(t):s.test(n[1])&&i.test(n[0])?(this.entrancesSelect[this.entrancesindex].show=!1,this.entrancesSelect[this.entrancesindex].ip=this.entrancesInput,this.saveDisabled=!1,this.addDisabled=!1,this.canEdit=!0):(this.saveDisabled=!0,this.addDisabled=!0,this.invalidsuccess=!0,this.showMes=.8,setTimeout(function(){e.showMes=0,e.invalidsuccess=!1},2e3))},saveAction:function(){var t=Object(a["a"])(new Set(this.entrancesSelect.map(function(t){return"".concat(t.ip,";")})));"entrances"===this.networkacesstype?(this.$parent.form.networkAccessEntrances=t.join(""),this.$parent.$refs["infoform"].validateField("networkAccessEntrances",function(t){}),this.entrancesSelect=[]):"exit"===this.networkacesstype&&(this.$parent.form.networkAccessExits=t.join(""),this.$parent.$refs["infoform"].validateField("networkAccessExits",function(t){}),this.entrancesSelect=[]),this.adddialog=!1},mouseDown:function(t){t.preventDefault()},cancelAction:function(){this.showMes=0,this.entrancesSelect=[],this.saveDisabled=!1,this.addDisabled=!1,this.adddialog=!1},testTelent:function(t){var e=this,n={ip:this.entrancesSelect[t].ip.split(":")[0],port:parseInt(this.entrancesSelect[t].ip.split(":")[1])};this.ipPost=this.entrancesSelect[t].ip,Object(r["w"])(n).then(function(t){0===t.code&&(e.telnetsuccess=!0,e.showMes=.8,setTimeout(function(){e.telnetsuccess=!1,e.showMes=0},2e3))}).catch(function(t){109===t.code&&(e.telnetfail=!0,e.showMes=.8,setTimeout(function(){e.telnetfail=!1,e.showMes=0},2e3))})}}},h=p,m=(n("a8b2"),n("2877")),y=Object(m["a"])(h,d,f,!1,null,null,null),v=y.exports,g={name:"siteadd",components:{siteaddip:v},data:function(){var t=this;return{type:this.$route.query.type,id:"",siteNamewarnshow:!1,institutionswarnshow:!1,rolewarnshow:!1,partyIdwarnshow:!1,networkAccessEntranceswarnshow:!1,networkAccessExitswarnshow:!1,isleave:!1,isleavedialog:!1,leaveRouteName:"",sansViewDefault:!1,keyViewDefault:!1,partyidname:[],partyidSelect:"",partyIdPostPass:!0,groupRange:"",okdialog:!1,downshow:!1,siteNameExists:!1,institutionsdownList:[],form:{groupId:"",siteName:"",institutions:"",role:"",partyId:"",networkAccessEntrances:"",networkAccessExits:"",secretInfo:{key:"",secret:""},exits:"",aa:"",registrationLink:""},roleOp:[{value:1,label:"Guest"},{value:2,label:"Host"}],rules:{siteName:[{required:!0,trigger:"change",validator:function(e,n,i){var s=n.trim();s?s.length>20?(t.siteNamewarnshow=!0,i(new Error("The Site Name cannot exceed 20 characters."))):t.siteNameExists?(t.siteNamewarnshow=!0,i(new Error("This site name already exists"))):(t.siteNamewarnshow=!1,i()):(t.siteNamewarnshow=!0,i(new Error("The Site Name field is required.")))}}],institutions:[{required:!0,trigger:"change",validator:function(e,n,i){n?(t.institutionswarnshow=!1,i()):(t.institutionswarnshow=!0,i(new Error("Institution field is required.")))}}],role:[{required:!0,trigger:"change",validator:function(e,n,i){n?(t.rolewarnshow=!1,i()):(t.rolewarnshow=!0,i(new Error("Role field is required.")))}}],partyId:[{required:!0,trigger:"blur",validator:function(e,n,i){var s=new RegExp(/^-?[1-9]\d*$/),a=!0;t.groupRange.split(";").forEach(function(t){var e=t.split(/~|-/).map(function(t){return parseInt(t)}),i=parseInt(n);e&&e.length>1?e[0]<=i&&e[1]>=i&&(a=!1):e&&1===e.length&&e[0]===i&&(a=!1)}),n?a||!s.test(n)?(t.partyIdwarnshow=!0,i(new Error("Invalid Party ID"))):t.partyIdPostPass?(t.partyIdwarnshow=!1,i()):(t.partyIdwarnshow=!0,i(new Error("This Party ID has been used, please reassign"))):(t.partyIdwarnshow=!0,i(new Error("Party ID field is required")))}}],networkAccessEntrances:[{required:!0,trigger:"change",validator:function(e,n,i){n?(t.networkAccessEntranceswarnshow=!1,i()):(t.networkAccessEntranceswarnshow=!0,i(new Error("Network Acess Entrances field is required.")))}}],networkAccessExits:[{required:!0,trigger:"change",validator:function(e,n,i){n?(t.networkAccessExitswarnshow=!1,i()):(t.networkAccessExitswarnshow=!0,i(new Error("Network Acess Exit field is required.")))}}]}}},watch:{},computed:{},created:function(){var t=this;"siteinfo"===this.type&&(this.isleave=!0),this.$route.query.id&&this.getKeySansLink(),Object(r["a"])().then(function(e){e.data.forEach(function(e,n){var i={};i.value=e,i.label=e,t.institutionsdownList.push(i)})})},beforeDestroy:function(){},mounted:function(){var t=this;this.$router.beforeEach(function(e,n,i){t.leaveRouteName=e.name,t.isleave?i():(t.isleavedialog=!0,i(!1))})},methods:{toCheckSiteName:function(){var t=this;if(this.form.siteName){var e={siteName:this.form.siteName.trim(),id:this.$route.query.id};Object(r["e"])(e).then(function(e){0===e.code&&(t.siteNameExists=!1,t.$refs["infoform"].validateField("siteName"))}).catch(function(e){122===e.code&&(t.siteNameExists=!0,t.$refs["infoform"].validateField("siteName"))})}},tocheckPartyid:function(){var t=this;this.$refs["infoform"].validateField("partyId",function(e){if("Invalid Party ID"!==e&&"Party ID field is required"!==e){var n={id:t.$route.query.id,partyId:t.form.partyId,rangeInfo:Object(c["a"])(t.groupRange)};Object(r["d"])(n).then(function(e){0===e.code&&(t.partyIdPostPass=!0,t.$refs["infoform"].validateField("partyId",function(t){}))}).catch(function(e){103===e.code&&(t.partyIdPostPass=!1,t.$refs["infoform"].validateField("partyId",function(t){}))})}})},submitAction:function(){var t=this;this.form.siteName=this.form.siteName.trim(),"siteadd"===this.type?this.$refs["infoform"].validate(function(e){if(e){var n=Object(o["a"])({},t.form);Object(r["r"])(n).then(function(e){t.isleave=!0,e.data&&(t.id=e.data),setTimeout(function(){t.getKeySansLink()},300)}).catch(function(t){})}}):"siteUpdate"===this.type&&this.$refs["infoform"].validate(function(e){if(e){var n=Object(o["a"])({},t.form);Object(r["u"])(n).then(function(e){0===e.code&&(t.isleave=!0,t.id=t.$route.query.id,setTimeout(function(){t.getKeySansLink()},300))}).catch(function(t){})}})},modifyAction:function(){this.type="siteUpdate",this.isleave=!1},okAction:function(){this.okdialog=!1,this.$router.push({name:"Site Manage"})},sureLeave:function(){this.isleave=!0,this.isleavedialog=!1;var t="Admin Access"===this.leaveRouteName?{type:"FATEManager"}:"";this.$router.push({name:this.leaveRouteName,query:t})},cancelLeave:function(){this.isleavedialog=!1},addShow:function(t){if(this.$refs["siteaddip"].networkacesstype=t,this.$refs["siteaddip"].adddialog=!0,"entrances"===t)if(this.form.networkAccessEntrances){var e=[];this.form.networkAccessEntrances.split(";").forEach(function(t){if(t){var n={};n.ip=t,n.show=!1,n.checked=!1,e.push(n)}}),this.$refs["siteaddip"].entrancesSelect=Object(a["a"])(new Set(e))}else this.$refs["siteaddip"].entrancesSelect=[];else if("exit"===t)if(this.form.networkAccessExits){var n=[];this.form.networkAccessExits.split(";").forEach(function(t){if(t){var e={};e.ip=t,e.show=!1,e.checked=!1,n.push(e)}}),this.$refs["siteaddip"].entrancesSelect=Object(a["a"])(new Set(n))}else this.$refs["siteaddip"].entrancesSelect=[]},toPartyid:function(){this.$router.push({name:"Party ID"})},downtext:function(){this.downshow=!this.downshow},sansShowView:function(){this.sansViewDefault=!this.sansViewDefault},keyShowView:function(){this.keyViewDefault=!this.keyViewDefault},getPartyid:function(t){var e=this,n={pageNum:1,pageSize:100,role:t};this.partyidname=[],"siteadd"!==this.type&&"siteUpdate"!==this.type||(this.partyidSelect="",this.form.partyId=""),Object(r["g"])(n).then(function(t){t.data.list.forEach(function(t){var n={};n.value=t.groupName,n.label=t.groupName,n.rangeInfo=Object(c["b"])(t.federatedGroupDetailDos),n.groupId=t.groupId,e.partyidname.push(n)})})},selectPartyid:function(t){var e=this;this.partyidname.forEach(function(n){t===n.value&&(e.groupRange=n.rangeInfo,e.form.groupId=n.groupId)})},getKeySansLink:function(){var t=this,e={id:this.id?parseInt(this.id):parseInt(this.$route.query.id)};Object(r["h"])(e).then(function(e){t.form=Object(o["a"])({},e.data),t.partyidSelect=e.data.groupName,t.getPartyid(e.data.role),setTimeout(function(){t.selectPartyid(e.data.groupName)},500),t.id&&(t.okdialog=!0)})},toCopy:function(t){var e=this;if("tooltip"===t){var n=new u.a(".dialogcopy");n.on("success",function(t){e.$message({type:"success",message:"Success!"}),n.destroy()})}if("from"===t){var i=new u.a(".formcopy");i.on("success",function(t){e.$message({type:"success",message:"Success!"}),i.destroy()})}},cancelValid:function(t){this.$refs["infoform"].clearValidate(t),this["".concat(t,"warnshow")]=!1},toAddInstitutions:function(){this.$router.push({name:"Admin Access",query:{type:"FATE Manager"}})}}},w=g,b=(n("a14e"),Object(m["a"])(w,i,s,!1,null,null,null));e["default"]=b.exports},b311:function(t,e,n){
/*!
 * clipboard.js v2.0.6
 * https://clipboardjs.com/
 * 
 * Licensed MIT © Zeno Rocha
 */
(function(e,n){t.exports=n()})(0,function(){return function(t){var e={};function n(i){if(e[i])return e[i].exports;var s=e[i]={i:i,l:!1,exports:{}};return t[i].call(s.exports,s,s.exports,n),s.l=!0,s.exports}return n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)n.d(i,s,function(e){return t[e]}.bind(null,s));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=6)}([function(t,e){function n(t){var e;if("SELECT"===t.nodeName)t.focus(),e=t.value;else if("INPUT"===t.nodeName||"TEXTAREA"===t.nodeName){var n=t.hasAttribute("readonly");n||t.setAttribute("readonly",""),t.select(),t.setSelectionRange(0,t.value.length),n||t.removeAttribute("readonly"),e=t.value}else{t.hasAttribute("contenteditable")&&t.focus();var i=window.getSelection(),s=document.createRange();s.selectNodeContents(t),i.removeAllRanges(),i.addRange(s),e=i.toString()}return e}t.exports=n},function(t,e){function n(){}n.prototype={on:function(t,e,n){var i=this.e||(this.e={});return(i[t]||(i[t]=[])).push({fn:e,ctx:n}),this},once:function(t,e,n){var i=this;function s(){i.off(t,s),e.apply(n,arguments)}return s._=e,this.on(t,s,n)},emit:function(t){var e=[].slice.call(arguments,1),n=((this.e||(this.e={}))[t]||[]).slice(),i=0,s=n.length;for(i;i<s;i++)n[i].fn.apply(n[i].ctx,e);return this},off:function(t,e){var n=this.e||(this.e={}),i=n[t],s=[];if(i&&e)for(var a=0,o=i.length;a<o;a++)i[a].fn!==e&&i[a].fn._!==e&&s.push(i[a]);return s.length?n[t]=s:delete n[t],this}},t.exports=n,t.exports.TinyEmitter=n},function(t,e,n){var i=n(3),s=n(4);function a(t,e,n){if(!t&&!e&&!n)throw new Error("Missing required arguments");if(!i.string(e))throw new TypeError("Second argument must be a String");if(!i.fn(n))throw new TypeError("Third argument must be a Function");if(i.node(t))return o(t,e,n);if(i.nodeList(t))return r(t,e,n);if(i.string(t))return c(t,e,n);throw new TypeError("First argument must be a String, HTMLElement, HTMLCollection, or NodeList")}function o(t,e,n){return t.addEventListener(e,n),{destroy:function(){t.removeEventListener(e,n)}}}function r(t,e,n){return Array.prototype.forEach.call(t,function(t){t.addEventListener(e,n)}),{destroy:function(){Array.prototype.forEach.call(t,function(t){t.removeEventListener(e,n)})}}}function c(t,e,n){return s(document.body,t,e,n)}t.exports=a},function(t,e){e.node=function(t){return void 0!==t&&t instanceof HTMLElement&&1===t.nodeType},e.nodeList=function(t){var n=Object.prototype.toString.call(t);return void 0!==t&&("[object NodeList]"===n||"[object HTMLCollection]"===n)&&"length"in t&&(0===t.length||e.node(t[0]))},e.string=function(t){return"string"===typeof t||t instanceof String},e.fn=function(t){var e=Object.prototype.toString.call(t);return"[object Function]"===e}},function(t,e,n){var i=n(5);function s(t,e,n,i,s){var a=o.apply(this,arguments);return t.addEventListener(n,a,s),{destroy:function(){t.removeEventListener(n,a,s)}}}function a(t,e,n,i,a){return"function"===typeof t.addEventListener?s.apply(null,arguments):"function"===typeof n?s.bind(null,document).apply(null,arguments):("string"===typeof t&&(t=document.querySelectorAll(t)),Array.prototype.map.call(t,function(t){return s(t,e,n,i,a)}))}function o(t,e,n,s){return function(n){n.delegateTarget=i(n.target,e),n.delegateTarget&&s.call(t,n)}}t.exports=a},function(t,e){var n=9;if("undefined"!==typeof Element&&!Element.prototype.matches){var i=Element.prototype;i.matches=i.matchesSelector||i.mozMatchesSelector||i.msMatchesSelector||i.oMatchesSelector||i.webkitMatchesSelector}function s(t,e){while(t&&t.nodeType!==n){if("function"===typeof t.matches&&t.matches(e))return t;t=t.parentNode}}t.exports=s},function(t,e,n){"use strict";n.r(e);var i=n(0),s=n.n(i),a="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var c=function(){function t(e){r(this,t),this.resolveOptions(e),this.initSelection()}return o(t,[{key:"resolveOptions",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.action=t.action,this.container=t.container,this.emitter=t.emitter,this.target=t.target,this.text=t.text,this.trigger=t.trigger,this.selectedText=""}},{key:"initSelection",value:function(){this.text?this.selectFake():this.target&&this.selectTarget()}},{key:"selectFake",value:function(){var t=this,e="rtl"==document.documentElement.getAttribute("dir");this.removeFake(),this.fakeHandlerCallback=function(){return t.removeFake()},this.fakeHandler=this.container.addEventListener("click",this.fakeHandlerCallback)||!0,this.fakeElem=document.createElement("textarea"),this.fakeElem.style.fontSize="12pt",this.fakeElem.style.border="0",this.fakeElem.style.padding="0",this.fakeElem.style.margin="0",this.fakeElem.style.position="absolute",this.fakeElem.style[e?"right":"left"]="-9999px";var n=window.pageYOffset||document.documentElement.scrollTop;this.fakeElem.style.top=n+"px",this.fakeElem.setAttribute("readonly",""),this.fakeElem.value=this.text,this.container.appendChild(this.fakeElem),this.selectedText=s()(this.fakeElem),this.copyText()}},{key:"removeFake",value:function(){this.fakeHandler&&(this.container.removeEventListener("click",this.fakeHandlerCallback),this.fakeHandler=null,this.fakeHandlerCallback=null),this.fakeElem&&(this.container.removeChild(this.fakeElem),this.fakeElem=null)}},{key:"selectTarget",value:function(){this.selectedText=s()(this.target),this.copyText()}},{key:"copyText",value:function(){var t=void 0;try{t=document.execCommand(this.action)}catch(e){t=!1}this.handleResult(t)}},{key:"handleResult",value:function(t){this.emitter.emit(t?"success":"error",{action:this.action,text:this.selectedText,trigger:this.trigger,clearSelection:this.clearSelection.bind(this)})}},{key:"clearSelection",value:function(){this.trigger&&this.trigger.focus(),document.activeElement.blur(),window.getSelection().removeAllRanges()}},{key:"destroy",value:function(){this.removeFake()}},{key:"action",set:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"copy";if(this._action=t,"copy"!==this._action&&"cut"!==this._action)throw new Error('Invalid "action" value, use either "copy" or "cut"')},get:function(){return this._action}},{key:"target",set:function(t){if(void 0!==t){if(!t||"object"!==("undefined"===typeof t?"undefined":a(t))||1!==t.nodeType)throw new Error('Invalid "target" value, use a valid Element');if("copy"===this.action&&t.hasAttribute("disabled"))throw new Error('Invalid "target" attribute. Please use "readonly" instead of "disabled" attribute');if("cut"===this.action&&(t.hasAttribute("readonly")||t.hasAttribute("disabled")))throw new Error('Invalid "target" attribute. You can\'t cut text from elements with "readonly" or "disabled" attributes');this._target=t}},get:function(){return this._target}}]),t}(),l=c,u=n(1),d=n.n(u),f=n(2),p=n.n(f),h="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},m=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();function y(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function v(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function g(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var w=function(t){function e(t,n){y(this,e);var i=v(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return i.resolveOptions(n),i.listenClick(t),i}return g(e,t),m(e,[{key:"resolveOptions",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.action="function"===typeof t.action?t.action:this.defaultAction,this.target="function"===typeof t.target?t.target:this.defaultTarget,this.text="function"===typeof t.text?t.text:this.defaultText,this.container="object"===h(t.container)?t.container:document.body}},{key:"listenClick",value:function(t){var e=this;this.listener=p()(t,"click",function(t){return e.onClick(t)})}},{key:"onClick",value:function(t){var e=t.delegateTarget||t.currentTarget;this.clipboardAction&&(this.clipboardAction=null),this.clipboardAction=new l({action:this.action(e),target:this.target(e),text:this.text(e),container:this.container,trigger:e,emitter:this})}},{key:"defaultAction",value:function(t){return b("action",t)}},{key:"defaultTarget",value:function(t){var e=b("target",t);if(e)return document.querySelector(e)}},{key:"defaultText",value:function(t){return b("text",t)}},{key:"destroy",value:function(){this.listener.destroy(),this.clipboardAction&&(this.clipboardAction.destroy(),this.clipboardAction=null)}}],[{key:"isSupported",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["copy","cut"],e="string"===typeof t?[t]:t,n=!!document.queryCommandSupported;return e.forEach(function(t){n=n&&!!document.queryCommandSupported(t)}),n}}]),e}(d.a);function b(t,e){var n="data-clipboard-"+t;if(e.hasAttribute(n))return e.getAttribute(n)}e["default"]=w}])["default"]})},c6a8:function(t,e,n){"use strict";n.d(e,"t",function(){return s}),n.d(e,"g",function(){return a}),n.d(e,"d",function(){return o}),n.d(e,"r",function(){return r}),n.d(e,"u",function(){return c}),n.d(e,"s",function(){return l}),n.d(e,"h",function(){return u}),n.d(e,"w",function(){return d}),n.d(e,"p",function(){return f}),n.d(e,"f",function(){return p}),n.d(e,"e",function(){return h}),n.d(e,"i",function(){return m}),n.d(e,"v",function(){return y}),n.d(e,"q",function(){return v}),n.d(e,"m",function(){return g}),n.d(e,"c",function(){return w}),n.d(e,"j",function(){return b}),n.d(e,"o",function(){return A}),n.d(e,"l",function(){return k}),n.d(e,"n",function(){return E}),n.d(e,"a",function(){return x}),n.d(e,"b",function(){return S}),n.d(e,"k",function(){return C});var i=n("b775");function s(t){return Object(i["a"])({url:"/cloud-manager/api/site/page/cloudManager",method:"post",data:t})}function a(t){return Object(i["a"])({url:"/cloud-manager/api/group/findPagedRegionInfoNew",method:"post",data:t})}function o(t){return Object(i["a"])({url:"/cloud-manager/api/site/check",method:"post",data:t})}function r(t){return Object(i["a"])({url:"/cloud-manager/api/site/addNew",method:"post",data:t})}function c(t){return Object(i["a"])({url:"/cloud-manager/api/site/updateNew",method:"post",data:t})}function l(t){return Object(i["a"])({url:"/cloud-manager/api/site/delete",method:"post",data:t})}function u(t){return Object(i["a"])({url:"/cloud-manager/api/site/find",method:"post",data:t})}function d(t){return Object(i["a"])({url:"/cloud-manager/api/site/checkWeb",method:"post",data:t})}function f(t){return Object(i["a"])({url:"/cloud-manager/api/site/ip/list",method:"post",data:t})}function p(t){return Object(i["a"])({url:"/cloud-manager/api/site/ip/deal",method:"post",data:t})}function h(t){return Object(i["a"])({url:"/cloud-manager/api/site/checkSiteName",method:"post",data:t})}function m(t){return Object(i["a"])({url:"/cloud-manager/api/system/page",method:"post",data:t})}function y(t){return Object(i["a"])({url:"/cloud-manager/api/system/history",method:"post",data:t})}function v(t){return Object(i["a"])({url:"/cloud-manager/api/site/ip/query/history",method:"post",data:t})}function g(t){return Object(i["a"])({url:"/cloud-manager/api/site/institutions",method:"post",data:t})}function w(t){return Object(i["a"])({url:"/cloud-manager/api/authority/cancel",method:"post",data:t})}function b(t){return Object(i["a"])({url:"/cloud-manager/api/authority/history/fateManager",method:"post",data:t})}function A(t){return Object(i["a"])({url:"/cloud-manager/api/authority/status",method:"post",data:t})}function k(t){return Object(i["a"])({url:"/cloud-manager/api/authority/details",method:"post",data:t})}function E(t){return Object(i["a"])({url:"/cloud-manager/api/authority/review",method:"post",data:t})}function x(t){return Object(i["a"])({url:"/cloud-manager/api/fate/user/institutions",method:"post",data:t})}function S(t){return Object(i["a"])({url:"/cloud-manager/api/authority/currentAuthority",method:"post",data:t})}function C(t){return Object(i["a"])({url:"/cloud-manager/api/dropdown/version",method:"post",data:t})}},c990:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAASCAYAAABWzo5XAAAABHNCSVQICAgIfAhkiAAAAVNJREFUOE/VkzFSwlAURe/9kVDKDoQduAOxdcYxFI6lWFCrKxBXoLZSiKVaGIcZW+MO2AFhB1gSzHvOj3wMoDijNKRL/nvn33tfHrGkh0viYEVAO/uNTc/gGECZYNXaV2gEIE4FV88Pre5sJFPWgqBeSouFR9f8U34W6g1HtTBsD1zNBGRVrBEvIEvuUIFTb5i07Xta9OsELnLw+F205tRlIKtE/EJvFqKUrlFzY2uEcmTEVEGcTWCqA5OMKlZZBto9aIQE9/JWDE0l1TQiuDH+HhuabVHp5etUEXbur2sLQSLSBbE+Drvv0avOgaBPnbtWkLPmx64pu1FxLkYiKrOMlFqft4Y3kyTliTVb+Bk2oxlY0xhzm2Ukcgii+TUI7aeCYCpsd5iN3y+EJLcWrY6qvnrJKPh2/PnGsboThZYd1DYTjN9VL3/9If+zwCuytH+x+AEzK5sT5xPjdwAAAABJRU5ErkJggg=="}}]);