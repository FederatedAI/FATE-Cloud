(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-b107dbf6"],{"02ac":function(t,e,a){"use strict";var n=a("779a"),i=a.n(n);i.a},"6dde":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"ipaddexchange-box"},[a("div",{staticClass:"add-exchange"},[a("div",{staticClass:"exchange-title"},[t._v("Add  an  Exchange")]),a("el-form",{ref:"editform",staticClass:"edit-form",attrs:{rules:t.editRules,"label-width":"100px","label-position":"left",model:t.exchangeData}},[a("el-form-item",{attrs:{label:"Exchange",prop:"exchangeName"}},[a("span",{attrs:{slot:"label"},slot:"label"},[a("span",[t._v("Exchange")]),a("i",{staticClass:"el-icon-star-on",staticStyle:{"margin-left":"3px"}})]),a("el-input",{on:{blur:function(e){return t.cancelValid("exchangeName")},focus:function(e){return t.cancelValid("exchangeName")}},model:{value:t.exchangeData.exchangeName,callback:function(e){t.$set(t.exchangeData,"exchangeName",e)},expression:"exchangeData.exchangeName"}})],1),a("el-form-item",{attrs:{label:"VIP",prop:"vip"}},[a("span",{attrs:{slot:"label"},slot:"label"},[a("span",[t._v("VIP")]),a("i",{staticClass:"el-icon-star-on",staticStyle:{"margin-left":"3px"}})]),a("el-input",{on:{blur:function(e){return t.cancelValid("vip")},focus:function(e){return t.cancelValid("vip")}},model:{value:t.exchangeData.vip,callback:function(e){t.$set(t.exchangeData,"vip","string"===typeof e?e.trim():e)},expression:"exchangeData.vip"}})],1),a("div",{staticClass:"edit-text"},[a("span",[t._v(t._s("Rollsite & Router Info"))]),a("el-button",{attrs:{type:"text",icon:"el-icon-circle-plus"},on:{click:t.addRollsite}})],1),t._l(t.rollsiteList,function(e,n){return a("span",{key:n,staticClass:"rollsite-text"},[a("el-form-item",{attrs:{label:"Rollsite Network Access",prop:"networkAccess"}},[a("span",{attrs:{slot:"label"},slot:"label"},[a("span",[t._v("Rollsite Network Access")]),a("i",{staticClass:"el-icon-star-on",staticStyle:{"margin-left":"3px"}})]),a("el-input",{class:{inputwarn:e.warnshow},on:{focus:function(t){e.warnshow=!1},change:function(t){e.partyAddBeanList=[]}},model:{value:e.networkAccess,callback:function(a){t.$set(e,"networkAccess","string"===typeof a?a.trim():a)},expression:"item.networkAccess"}}),a("el-button",{class:{remove:1!==t.rollsiteList.length},attrs:{type:"text",disabled:1===t.rollsiteList.length,icon:"el-icon-remove"},on:{click:function(e){return t.removeRollsite(n)}}})],1),a("div",{staticClass:"router-info"},[a("span",{staticStyle:{color:"#217AD9"}},[t._v("Router Info\n                          "),a("i",{staticClass:"el-icon-star-on"})]),a("el-button",{attrs:{type:"text",disabled:"",icon:"el-icon-circle-plus"},on:{click:function(e){return t.showAddSiteNet(n)}}}),a("el-button",{attrs:{type:"text",disabled:!e.networkAccess,icon:"el-icon-refresh-right"},on:{click:function(e){return t.toAcquire(n)}}})],1),a("div",{staticClass:"edit-table"},[a("el-table",{attrs:{data:t.rollsiteList[n].partyAddBeanList,"max-height":"250"}},[a("el-table-column",{attrs:{type:"index",label:"Index",width:"65"}}),a("el-table-column",{attrs:{prop:"partyId",label:"Party ID",width:"70","show-overflow-tooltip":""}}),a("el-table-column",{attrs:{prop:"networkAccess",label:"Site Network Access",width:"150"}}),a("el-table-column",{attrs:{prop:"secureStatus",label:"Is Secure"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(1===e.row.secureStatus?"true":"false"))])]}}],null,!0)}),a("el-table-column",{attrs:{prop:"Update Time",label:"Update Time",width:"150"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(t._f("dateFormat")(e.row.updateTime)))])]}}],null,!0)}),a("el-table-column",{attrs:{prop:"status",align:"center",label:"Status","show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(e){return[1===e.row.status?a("span",[t._v("Published")]):t._e(),2===e.row.status?a("span",[t._v("Unpublished")]):t._e(),3===e.row.status?a("span",[t._v("To be deleted")]):t._e()]}}],null,!0)}),a("el-table-column",{attrs:{prop:"",align:"right",label:"Action"},scopedSlots:t._u([{key:"default",fn:function(e){return["default"===e.row.partyId?a("span",[a("el-button",{attrs:{disabled:"",type:"text"}},[a("i",{staticClass:"el-icon-edit"})]),a("el-button",{attrs:{disabled:"",type:"text"}},[a("i",{staticClass:"el-icon-close"})])],1):a("span",[1===e.row.status||2===e.row.status?a("span",[a("el-button",{attrs:{disabled:"",type:"text"}},[a("i",{staticClass:"el-icon-edit",on:{click:function(a){return t.toEditSiteNet(e)}}})]),a("el-button",{attrs:{disabled:"",type:"text"}},[a("i",{staticClass:"el-icon-close",on:{click:function(t){e.row.status=3}}})])],1):t._e(),3===e.row.status?a("el-button",{attrs:{disabled:"",type:"text"},on:{click:function(t){e.row.status=2}}},[t._v("\n                                              recover\n                                          ")]):t._e()],1)]}}],null,!0)})],1)],1)],1)})],2),a("div",{staticClass:"exchange-footer"},[a("el-button",{staticClass:"ok-btn",attrs:{type:"primary"},on:{click:t.toaction}},[t._v("OK")]),a("el-button",{staticClass:"ok-btn",attrs:{type:"info"},on:{click:t.tocancel}},[t._v("Cancel")])],1)],1),a("el-dialog",{staticClass:"add-site-dialog",attrs:{visible:t.addSiteNet,width:"500px","close-on-click-modal":!1,"close-on-press-escape":!1},on:{"update:visible":function(e){t.addSiteNet=e}}},[a("div",{staticClass:"site-net-title"},[t._v("\n              Site Network Access\n          ")]),a("div",{staticClass:"site-net-table"},[a("el-form",{ref:"siteNetform",staticClass:"edit-form",attrs:{rules:t.siteEditRules,"label-width":"180px","label-position":"left",model:t.tempSiteNet}},[a("el-form-item",{attrs:{label:"",prop:"partyId"}},[a("span",{attrs:{slot:"label"},slot:"label"},[a("span",[t._v("Praty ID :")]),a("i",{staticClass:"el-icon-star-on",staticStyle:{"margin-left":"3px"}})]),a("el-input",{on:{blur:function(e){return t.$refs["siteNetform"].clearValidate("partyId")},focus:function(e){return t.$refs["siteNetform"].clearValidate("partyId")}},model:{value:t.tempSiteNet.partyId,callback:function(e){t.$set(t.tempSiteNet,"partyId",e)},expression:"tempSiteNet.partyId"}})],1),a("el-form-item",{attrs:{label:"",prop:"networkAccess"}},[a("span",{attrs:{slot:"label"},slot:"label"},[a("span",[t._v("Site Network Access :")]),a("i",{staticClass:"el-icon-star-on",staticStyle:{"margin-left":"3px"}})]),a("el-input",{on:{blur:function(e){return t.$refs["siteNetform"].clearValidate("networkAccess")},focus:function(e){return t.$refs["siteNetform"].clearValidate("networkAccess")}},model:{value:t.tempSiteNet.networkAccess,callback:function(e){t.$set(t.tempSiteNet,"networkAccess",e)},expression:"tempSiteNet.networkAccess"}})],1)],1),a("div",{staticClass:"dialog-footer"},[a("el-button",{staticClass:"ok-btn",attrs:{type:"primary"},on:{click:t.toAddSiteNet}},[t._v("OK")]),a("el-button",{staticClass:"ok-btn",attrs:{type:"info"},on:{click:t.cancelAddSiteNet}},[t._v("Cancel")])],1)],1)]),a("el-dialog",{staticClass:"site-toleave-dialog",attrs:{visible:t.isleavedialog,width:"700px"},on:{"update:visible":function(e){t.isleavedialog=e}}},[a("div",{staticClass:"line-text-one"},[t._v("Are you sure you want to leave this page ?")]),a("div",{staticClass:"line-text-two"},[t._v("Your information will not be saved.")]),a("div",{staticClass:"dialog-footer"},[a("el-button",{staticClass:"sure-btn",attrs:{type:"primary"},on:{click:t.sureLeave}},[t._v("Sure")]),a("el-button",{staticClass:"sure-btn",attrs:{type:"info"},on:{click:t.cancelLeave}},[t._v("Cancel")])],1)])],1)},i=[],r=a("cebc"),s=(a("5df3"),a("4f7f"),a("75fc")),o=(a("ac6a"),a("7f7f"),a("c6a8")),l=a("c1df"),c=a.n(l),u=a("bb14"),d={name:"ipaddexchange",components:{},filters:{dateFormat:function(t){return c()(t).format("YYYY-MM-DD HH:mm:ss")}},data:function(){return{addSiteNet:!1,isleave:!1,isleavedialog:!1,siteNetIndex:0,rollsiteIndex:0,rollsiteList:[{warnshow:!1,networkAccess:"",partyAddBeanList:[]}],tempSiteNet:{},exchangeData:{},siteEditRules:{partyId:[{required:!0,message:" ",trigger:"bulr"}],networkAccess:[{required:!0,message:" ",trigger:"bulr"}]},editRules:{exchangeName:[{required:!0,message:" ",trigger:"bulr"}],vip:[{required:!0,trigger:"bulr",validator:function(t,e,a){e=e||"";var n=e.trim();n&&Object(u["a"])(n)?a():a(new Error(" "))}}]}}},created:function(){},mounted:function(){var t=this;this.$router.beforeEach(function(e,a,n){t.leaveRouteName=e.name,t.isleave?n():(t.isleavedialog=!0,n(!1))})},methods:{addRollsite:function(){this.rollsiteList.unshift({warnshow:!1,networkAccess:"",partyAddBeanList:[]})},showAddSiteNet:function(t){this.rollsiteIndex=t,this.siteNetType="add",this.tempSiteNet={status:2},this.addSiteNet=!0,this.$refs["siteNetform"]&&this.$refs["siteNetform"].resetFields()},removeRollsite:function(t){this.rollsiteList.splice(t,1)},toaction:function(){var t=this,e=!0,a=!0,n=[],i=[];this.rollsiteList.forEach(function(r,o){r.networkAccess&&Object(u["a"])(r.networkAccess)||(t.rollsiteList[o].warnshow=!0),0===r.partyAddBeanList.length&&(e=!1),n.push(r.networkAccess),i=Object(s["a"])(new Set(n)),n.length!==i.length&&(a=!1,t.rollsiteList[o].warnshow=!0)}),e?a?this.$refs["editform"].validate(function(n){if(n&&e&&a){var i={exchangeName:t.exchangeData.exchangeName.trim(),rollSiteAddBeanList:t.rollsiteList,vip:t.exchangeData.vip};Object(o["b"])(i).then(function(e){t.isleave=!0,t.$router.push({name:"IP Manage",query:{type:"exchange"}})})}}):this.$message.error("The rollsite network already exists"):this.$message.error("The Router Info is required")},tocancel:function(){this.$router.push({name:"IP Manage",query:{type:"exchange"}})},cancelValid:function(t){this.$refs["editform"].clearValidate(t)},toAddSiteNet:function(){var t=this;this.$refs["siteNetform"].validate(function(e){e&&("edit"===t.siteNetType?(t.rollsiteList[t.rollsiteIndex].partyAddBeanList[t.siteNetIndex]=Object(r["a"])({},t.tempSiteNet),t.rollsiteList[t.rollsiteIndex].partyAddBeanList=Object(s["a"])(t.rollsiteList[t.rollsiteIndex].partyAddBeanList),t.addSiteNet=!1):"add"===t.siteNetType&&(t.rollsiteList[t.rollsiteIndex].partyAddBeanList.push(Object(r["a"])({},t.tempSiteNet)),t.rollsiteList[t.rollsiteIndex].partyAddBeanList=Object(s["a"])(t.rollsiteList[t.rollsiteIndex].partyAddBeanList),t.addSiteNet=!1))})},cancelAddSiteNet:function(){this.tempSiteNet={},this.addSiteNet=!1,this.$refs["siteNetform"].resetFields()},toEditSiteNet:function(t,e){this.rollsiteIndex=t,this.siteNetType="edit",this.addSiteNet=!0,this.tempSiteNet=Object(r["a"])({},e.row),this.siteNetIndex=e.$index},todelSiteNet:function(t,e){this.rollsiteList[t].partyAddBeanList.splice(e.$index,1)},toAcquire:function(t){var e=this,a={networkAccess:this.rollsiteList[t].networkAccess};Object(o["n"])(a).then(function(a){e.rollsiteList[t].partyAddBeanList=a.data})},sureLeave:function(){this.isleave=!0,this.isleavedialog=!1;var t="IP Manage"===this.leaveRouteName?{type:"exchange"}:"";this.$router.push({name:this.leaveRouteName,query:t})},cancelLeave:function(){this.isleavedialog=!1}}},p=d,f=(a("02ac"),a("2877")),m=Object(f["a"])(p,n,i,!1,null,null,null);e["default"]=m.exports},"779a":function(t,e,a){},bb14:function(t,e,a){"use strict";a("28a5"),a("3b2b");var n=function(t){var e=new RegExp(/^(\d|[1-9]\d|1\d{2}|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d{2}|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d{2}|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d{2}|2[0-4]\d|25[0-5])$/),a=new RegExp(/^([0-9]|[1-9]\d{1,3}|[1-5]\d{4}|6[0-4]\d{4}|65[0-4]\d{2}|655[0-2]\d|6553[0-5])$/);return!(!e.test(t.split(":")[0])||!a.test(t.split(":")[1]))};e["a"]=n},c6a8:function(t,e,a){"use strict";a.d(e,"H",function(){return i}),a.d(e,"o",function(){return r}),a.d(e,"g",function(){return s}),a.d(e,"F",function(){return o}),a.d(e,"I",function(){return l}),a.d(e,"G",function(){return c}),a.d(e,"r",function(){return u}),a.d(e,"K",function(){return d}),a.d(e,"B",function(){return p}),a.d(e,"i",function(){return f}),a.d(e,"h",function(){return m}),a.d(e,"s",function(){return h}),a.d(e,"J",function(){return b}),a.d(e,"C",function(){return g}),a.d(e,"x",function(){return v}),a.d(e,"y",function(){return x}),a.d(e,"f",function(){return w}),a.d(e,"t",function(){return y}),a.d(e,"A",function(){return N}),a.d(e,"w",function(){return k}),a.d(e,"z",function(){return A}),a.d(e,"a",function(){return O}),a.d(e,"e",function(){return j}),a.d(e,"v",function(){return S}),a.d(e,"m",function(){return L}),a.d(e,"b",function(){return _}),a.d(e,"j",function(){return C}),a.d(e,"d",function(){return I}),a.d(e,"p",function(){return $}),a.d(e,"n",function(){return R}),a.d(e,"L",function(){return D}),a.d(e,"l",function(){return B}),a.d(e,"D",function(){return E}),a.d(e,"E",function(){return q}),a.d(e,"c",function(){return V}),a.d(e,"M",function(){return T}),a.d(e,"k",function(){return P}),a.d(e,"q",function(){return M}),a.d(e,"u",function(){return F});var n=a("b775");function i(t){return Object(n["a"])({url:"/cloud-manager/api/site/page/cloudManager",method:"post",data:t})}function r(t){return Object(n["a"])({url:"/cloud-manager/api/group/findPagedRegionInfoNew",method:"post",data:t})}function s(t){return Object(n["a"])({url:"/cloud-manager/api/site/check",method:"post",data:t})}function o(t){return Object(n["a"])({url:"/cloud-manager/api/site/addNew",method:"post",data:t})}function l(t){return Object(n["a"])({url:"/cloud-manager/api/site/updateNew",method:"post",data:t})}function c(t){return Object(n["a"])({url:"/cloud-manager/api/site/delete",method:"post",data:t})}function u(t){return Object(n["a"])({url:"/cloud-manager/api/site/find",method:"post",data:t})}function d(t){return Object(n["a"])({url:"/cloud-manager/api/site/checkWeb",method:"post",data:t})}function p(t){return Object(n["a"])({url:"/cloud-manager/api/site/ip/list",method:"post",data:t})}function f(t){return Object(n["a"])({url:"/cloud-manager/api/site/ip/deal",method:"post",data:t})}function m(t){return Object(n["a"])({url:"/cloud-manager/api/site/checkSiteName",method:"post",data:t})}function h(t){return Object(n["a"])({url:"/cloud-manager/api/system/page",method:"post",data:t})}function b(t){return Object(n["a"])({url:"/cloud-manager/api/system/history",method:"post",data:t})}function g(t){return Object(n["a"])({url:"/cloud-manager/api/site/ip/query/history",method:"post",data:t})}function v(t){return Object(n["a"])({url:"/cloud-manager/api/site/institutions",method:"post",data:t})}function x(t){return Object(n["a"])({url:"/cloud-manager/api/site/institutions/all/dropdown",method:"post",data:t})}function w(t){return Object(n["a"])({url:"/cloud-manager/api/authority/cancel",method:"post",data:t})}function y(t){return Object(n["a"])({url:"/cloud-manager/api/authority/history/fateManager",method:"post",data:t})}function N(t){return Object(n["a"])({url:"/cloud-manager/api/authority/status",method:"post",data:t})}function k(t){return Object(n["a"])({url:"/cloud-manager/api/authority/details",method:"post",data:t})}function A(t){return Object(n["a"])({url:"/cloud-manager/api/authority/review",method:"post",data:t})}function O(t){return Object(n["a"])({url:"/cloud-manager/api/fate/user/institutions",method:"post",data:t})}function j(t){return Object(n["a"])({url:"/cloud-manager/api/authority/currentAuthority",method:"post",data:t})}function S(t){return Object(n["a"])({url:"/cloud-manager/api/dropdown/version",method:"post",data:t})}function L(t){return Object(n["a"])({url:"/cloud-manager/api/exchange/exchange/page",method:"post",data:t})}function _(t){return Object(n["a"])({url:"/cloud-manager/api/exchange/add",method:"post",data:t})}function C(t){return Object(n["a"])({url:"/cloud-manager/api/exchange/delete",method:"post",data:t})}function I(t){return Object(n["a"])({url:"/cloud-manager/api/exchange/rollsite/add",method:"post",data:t})}function $(t){return Object(n["a"])({url:"/cloud-manager/api/exchange/rollsite/page",method:"post",data:t})}function R(t){return Object(n["a"])({url:"/cloud-manager/api/exchange/query",method:"post",data:t})}function D(t){return Object(n["a"])({url:"/cloud-manager/api/exchange/rollsite/publish",method:"post",data:t})}function B(t){return Object(n["a"])({url:"/cloud-manager/api/exchange/rollsite/delete",method:"post",data:t})}function E(t){return Object(n["a"])({url:"/cloud-manager/api/exchange/rollsite/update",method:"post",data:t})}function q(t){return Object(n["a"])({url:"/cloud-manager/api/product/page",method:"post",data:t})}function V(t){return Object(n["a"])({url:"/cloud-manager/api/product/add",method:"post",data:t})}function T(t){return Object(n["a"])({url:"/cloud-manager/api/product/update",method:"post",data:t})}function P(t){return Object(n["a"])({url:"/cloud-manager/api/product/delete",method:"post",data:t})}function M(t){return Object(n["a"])({url:"/cloud-manager/api/product/version",method:"post",data:t})}function F(t){return Object(n["a"])({url:"/cloud-manager/api/product/name",method:"post",data:t})}}}]);