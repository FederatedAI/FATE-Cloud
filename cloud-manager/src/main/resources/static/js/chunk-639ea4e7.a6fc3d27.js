(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-639ea4e7"],{"0a42":function(t,i,n){},"1af6":function(t,i,n){var a=n("63b6");a(a.S,"Array",{isArray:n("9003")})},"20fd":function(t,i,n){"use strict";var a=n("d9f6"),e=n("aebd");t.exports=function(t,i,n){i in t?a.f(t,i,e(0,n)):t[i]=n}},"549b":function(t,i,n){"use strict";var a=n("d864"),e=n("63b6"),s=n("241e"),o=n("b0dc"),u=n("3702"),r=n("b447"),c=n("20fd"),l=n("7cd6");e(e.S+e.F*!n("4ee1")(function(t){Array.from(t)}),"Array",{from:function(t){var i,n,e,d,p=s(t),f="function"==typeof this?this:Array,h=arguments.length,b=h>1?arguments[1]:void 0,v=void 0!==b,g=0,m=l(p);if(v&&(b=a(b,h>2?arguments[2]:void 0,2)),void 0==m||f==Array&&u(m))for(i=r(p.length),n=new f(i);i>g;g++)c(n,g,v?b(p[g],g):p[g]);else for(d=m.call(p),n=new f;!(e=d.next()).done;g++)c(n,g,v?o(d,b,[e.value,g],!0):e.value);return n.length=g,n}})},"54a1":function(t,i,n){n("6c1c"),n("1654"),t.exports=n("95d5")},"5b35":function(t,i,n){"use strict";var a=n("d415"),e=n.n(a);e.a},"75fc":function(t,i,n){"use strict";var a=n("a745"),e=n.n(a);function s(t){if(e()(t)){for(var i=0,n=new Array(t.length);i<t.length;i++)n[i]=t[i];return n}}var o=n("774e"),u=n.n(o),r=n("c8bb"),c=n.n(r);function l(t){if(c()(Object(t))||"[object Arguments]"===Object.prototype.toString.call(t))return u()(t)}function d(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function p(t){return s(t)||l(t)||d()}n.d(i,"a",function(){return p})},"774e":function(t,i,n){t.exports=n("d2d5")},9003:function(t,i,n){t.exports=n("0b93")(176)},"95d5":function(t,i,n){var a=n("40c3"),e=n("5168")("iterator"),s=n("481b");t.exports=n("584a").isIterable=function(t){var i=Object(t);return void 0!==i[e]||"@@iterator"in i||s.hasOwnProperty(a(i))}},a032:function(t,i,n){"use strict";var a=n("0a42"),e=n.n(a);e.a},a5b0:function(t,i,n){"use strict";var a=function(){var t=this,i=t.$createElement,n=t._self._c||i;return n("div",{staticClass:"tooltip",style:t.elmwidth},[t.tooltip?n("el-tooltip",{attrs:{effect:"dark",placement:t.placement}},[n("div",{attrs:{slot:"content"},slot:"content"},[t._v(t._s(t.content))]),n("span",{ref:"name"},[t._v("\n              "+t._s(t.content)+"\n          ")])]):n("span",{ref:"name"},[t._v("\n          "+t._s(t.content)+"\n      ")])],1)},e=[],s=(n("7f7f"),{name:"OverflowTooltip",props:{width:{type:String,default:""},content:{type:String,default:""},placement:{type:String,default:"top"}},data:function(){return{tooltip:!1,elmwidth:""}},created:function(){},updated:function(){this.updatawidth()},mounted:function(){this.elmwidth="width:".concat(this.width),this.updatawidth()},methods:{updatawidth:function(){var t=this.$refs.name.offsetWidth;t>parseInt(this.width)?this.tooltip=!0:this.tooltip=!1}}}),o=s,u=(n("5b35"),n("2877")),r=Object(u["a"])(o,a,e,!1,null,null,null);i["a"]=r.exports},a745:function(t,i,n){t.exports=n("f410")},aebd:function(t,i,n){t.exports=n("0b93")(26)},c6a8:function(t,i,n){"use strict";n.d(i,"C",function(){return e}),n.d(i,"m",function(){return s}),n.d(i,"f",function(){return o}),n.d(i,"A",function(){return u}),n.d(i,"D",function(){return r}),n.d(i,"B",function(){return c}),n.d(i,"o",function(){return l}),n.d(i,"F",function(){return d}),n.d(i,"x",function(){return p}),n.d(i,"h",function(){return f}),n.d(i,"g",function(){return h}),n.d(i,"p",function(){return b}),n.d(i,"E",function(){return v}),n.d(i,"y",function(){return g}),n.d(i,"u",function(){return m}),n.d(i,"e",function(){return _}),n.d(i,"q",function(){return y}),n.d(i,"w",function(){return C}),n.d(i,"t",function(){return w}),n.d(i,"v",function(){return j}),n.d(i,"a",function(){return S}),n.d(i,"d",function(){return x}),n.d(i,"s",function(){return I}),n.d(i,"l",function(){return F}),n.d(i,"b",function(){return O}),n.d(i,"k",function(){return J}),n.d(i,"i",function(){return T}),n.d(i,"z",function(){return k}),n.d(i,"c",function(){return N}),n.d(i,"G",function(){return L}),n.d(i,"j",function(){return D}),n.d(i,"n",function(){return G}),n.d(i,"r",function(){return A});var a=n("b775");function e(t){return Object(a["a"])({url:"/cloud-manager/api/site/page/cloudManager",method:"post",data:t})}function s(t){return Object(a["a"])({url:"/cloud-manager/api/group/findPagedRegionInfoNew",method:"post",data:t})}function o(t){return Object(a["a"])({url:"/cloud-manager/api/site/check",method:"post",data:t})}function u(t){return Object(a["a"])({url:"/cloud-manager/api/site/addNew",method:"post",data:t})}function r(t){return Object(a["a"])({url:"/cloud-manager/api/site/updateNew",method:"post",data:t})}function c(t){return Object(a["a"])({url:"/cloud-manager/api/site/delete",method:"post",data:t})}function l(t){return Object(a["a"])({url:"/cloud-manager/api/site/find",method:"post",data:t})}function d(t){return Object(a["a"])({url:"/cloud-manager/api/site/checkWeb",method:"post",data:t})}function p(t){return Object(a["a"])({url:"/cloud-manager/api/site/ip/list",method:"post",data:t})}function f(t){return Object(a["a"])({url:"/cloud-manager/api/site/ip/deal",method:"post",data:t})}function h(t){return Object(a["a"])({url:"/cloud-manager/api/site/checkSiteName",method:"post",data:t})}function b(t){return Object(a["a"])({url:"/cloud-manager/api/system/page",method:"post",data:t})}function v(t){return Object(a["a"])({url:"/cloud-manager/api/system/history",method:"post",data:t})}function g(t){return Object(a["a"])({url:"/cloud-manager/api/site/ip/query/history",method:"post",data:t})}function m(t){return Object(a["a"])({url:"/cloud-manager/api/site/institutions",method:"post",data:t})}function _(t){return Object(a["a"])({url:"/cloud-manager/api/authority/cancel",method:"post",data:t})}function y(t){return Object(a["a"])({url:"/cloud-manager/api/authority/history/fateManager",method:"post",data:t})}function C(t){return Object(a["a"])({url:"/cloud-manager/api/authority/status",method:"post",data:t})}function w(t){return Object(a["a"])({url:"/cloud-manager/api/authority/details",method:"post",data:t})}function j(t){return Object(a["a"])({url:"/cloud-manager/api/authority/review",method:"post",data:t})}function S(t){return Object(a["a"])({url:"/cloud-manager/api/fate/user/institutions",method:"post",data:t})}function x(t){return Object(a["a"])({url:"/cloud-manager/api/authority/currentAuthority",method:"post",data:t})}function I(t){return Object(a["a"])({url:"/cloud-manager/api/dropdown/version",method:"post",data:t})}function F(t){return Object(a["a"])({url:"/cloud-manager/api/exchange/page",method:"post",data:t})}function O(t){return Object(a["a"])({url:"/cloud-manager/api/exchange/add",method:"post",data:t})}function J(t){return Object(a["a"])({url:"/cloud-manager/api/exchange/update",method:"post",data:t})}function T(t){return Object(a["a"])({url:"/cloud-manager/api/exchange/delete",method:"post",data:t})}function k(t){return Object(a["a"])({url:"/cloud-manager/api/product/page",method:"post",data:t})}function N(t){return Object(a["a"])({url:"/cloud-manager/api/product/add",method:"post",data:t})}function L(t){return Object(a["a"])({url:"/cloud-manager/api/product/update",method:"post",data:t})}function D(t){return Object(a["a"])({url:"/cloud-manager/api/product/delete",method:"post",data:t})}function G(t){return Object(a["a"])({url:"/cloud-manager/api/product/version",method:"post",data:t})}function A(t){return Object(a["a"])({url:"/cloud-manager/api/product/name",method:"post",data:t})}},c8bb:function(t,i,n){t.exports=n("54a1")},d17f:function(t,i,n){"use strict";var a=n("e4c5"),e=n.n(a);e.a},d2d5:function(t,i,n){n("1654"),n("549b"),t.exports=n("584a").Array.from},d415:function(t,i,n){},e4c5:function(t,i,n){},ecbd:function(t,i,n){"use strict";n.r(i);var a=function(){var t=this,i=t.$createElement,n=t._self._c||i;return n("div",{staticClass:"monitor-box"},[n("div",{staticClass:"monitor"},[n("div",{staticClass:"monitor-header"},[n("el-radio-group",{staticClass:"radio",on:{change:t.handleChahe},model:{value:t.radio,callback:function(i){t.radio=i},expression:"radio"}},[n("el-radio-button",{attrs:{label:"Today’s active data"}}),n("el-radio-button",{attrs:{label:"Cumulative active data"}})],1)],1),n("div",{staticClass:"monitor-body"},[n("div",{staticClass:"content"},[n("monitortoday",{ref:"monitortoday"})],1)])])])},e=[],s=function(){var t=this,i=t.$createElement,n=t._self._c||i;return n("div",["Today’s active data"===t.type?n("div",{staticClass:"type-time"},[n("span",[t._v("Active institutions today: ")]),n("span",{staticStyle:{color:"#217AD9"}},[t._v(t._s(t.activejobs.active))])]):n("div",{staticClass:"time-picker"},[n("span",{staticClass:"date"},[t._v("Date")]),n("el-date-picker",{attrs:{clearable:!1,type:"daterange","range-separator":"~","value-format":"timestamp","start-placeholder":"start","end-placeholder":"end","picker-options":t.pickerOptions},on:{change:t.initi},model:{value:t.timevalue,callback:function(i){t.timevalue=i},expression:"timevalue"}})],1),n("div",{staticClass:"content-item"},[n("div",{staticClass:"jobs-complete"},[n("span",[t._v("Federated modeling jobs：")]),n("span",{staticClass:"span"},[t._v(t._s(t.activejobs.total))]),n("span",[t._v("waiting：")]),n("span",{staticClass:"span"},[t._v(t._s(t.activejobs.waiting)+" ("+t._s(t._f("toGetFixed")((t.activejobs.waiting/t.activejobs.total).toFixed(1)))+"%)   ")]),n("span",[t._v("running：")]),n("span",{staticClass:"span"},[t._v(t._s(t.activejobs.running)+" ("+t._s(t._f("toGetFixed")((t.activejobs.running/t.activejobs.total).toFixed(1)))+"%)   ")]),n("span",[t._v("success：")]),n("span",{staticClass:"span"},[t._v(t._s(t.activejobs.success)+" ("+t._s(t._f("toGetFixed")((t.activejobs.success/t.activejobs.total).toFixed(1)))+"%)   ")]),n("span",[t._v("failed：")]),n("span",{staticClass:"span"},[t._v(t._s(t.activejobs.failed)+" ("+t._s(t._f("toGetFixed")((1-(t.activejobs.waiting/t.activejobs.total).toFixed(1)-(t.activejobs.running/t.activejobs.total).toFixed(1)-(t.activejobs.success/t.activejobs.total).toFixed(1)).toFixed(1)))+"%)")])]),n("div",{staticClass:"institutions-jobs"},[n("div",{staticClass:"institutions"},[t.institutionsList.length>0?n("div",{staticClass:"item-box"},t._l(t.institutionsList,function(i,a){return n("span",{key:a},[n("div",{class:{"item-institution":!0,"institution-activa":i.show},on:{click:function(n){return t.getsite(i,a)}}},[n("overflowtooltip",{staticClass:"item-text",attrs:{width:"100px",content:i.institutions,placement:"top"}}),n("span",{ref:"bar",refInFor:!0,staticClass:"bar",style:t.stylebar},[n("div",{staticClass:"item-bar",style:"width:"+i.total*t.institutionsitemWidth/i.max+"px"}),n("span",{ref:"text",refInFor:!0,staticClass:"text"},[t._v(t._s(i.total))])]),i.show?n("i",{staticClass:"el-icon-caret-right icon-right"}):t._e()],1)])}),0):n("div",{staticClass:"item-box no-date-box"},[t._v("\n                    No Data\n                ")]),n("div",{staticClass:"institutions-pagination"},[n("el-pagination",{attrs:{small:"",background:"",layout:"total, prev, pager, next","page-size":t.pageSizeInst,total:t.instTotal},on:{"current-change":t.handleCurrentChangeInst}})],1)]),n("div",{staticClass:"jobs"},["Today’s active data"===t.type?n("div",{staticClass:"jobs-site-title"},[t._v("Active sites today:"+t._s(t.activeSite.active))]):t._e(),n("div",{staticClass:"job-alone-complete"},[n("span",[t._v("Federated modeling jobs：")]),n("span",{staticClass:"span"},[t._v(t._s(t.activeSite.total))]),n("span",[t._v("waiting：")]),n("span",{staticClass:"span"},[t._v(t._s(t.activeSite.waiting)+" ("+t._s(t._f("toGetFixed")((t.activeSite.waiting/t.activeSite.total).toFixed(1)))+"%)")]),n("span",[t._v("running：")]),n("span",{staticClass:"span"},[t._v(t._s(t.activeSite.running)+" ("+t._s(t._f("toGetFixed")((t.activeSite.running/t.activeSite.total).toFixed(1)))+"%)")]),n("span",[t._v("success：")]),n("span",{staticClass:"span"},[t._v(t._s(t.activeSite.success)+"  ("+t._s(t._f("toGetFixed")((t.activeSite.success/t.activeSite.total).toFixed(1)))+"%)")]),n("span",[t._v("failed：")]),n("span",{staticClass:"span"},[t._v(t._s(t.activeSite.failed)+"  ("+t._s(t._f("toGetFixed")((1-(t.activeSite.waiting/t.activeSite.total).toFixed(1)-(t.activeSite.running/t.activeSite.total).toFixed(1)-(t.activeSite.success/t.activeSite.total).toFixed(1)).toFixed(1)))+"%)")])]),t._m(0),t.siteList.length>0?n("div",{staticClass:"jobs-box"},t._l(t.siteList,function(i,a){return n("span",{key:a},[n("div",{ref:"jobs",refInFor:!0,staticClass:"jobs-institution"},[n("overflowtooltip",{staticClass:"jobs-text",attrs:{width:"50px",content:i.site,placement:"top"}}),n("overflowtooltip",{staticClass:"jobs-text",attrs:{width:"50px",content:i.partyId,placement:"top"}}),n("el-tooltip",{attrs:{placement:"top"}},[n("div",{attrs:{slot:"content"},slot:"content"},[n("div",[t._v("waiting:\n                                        "+t._s(i.waiting)+"\n                                        ("+t._s(t._f("toGetFixed")(i.waiting/i.total))+"%)\n                                    ")]),n("div",[t._v("running:\n                                        "+t._s(i.running)+"\n                                        ("+t._s(t._f("toGetFixed")(i.running/i.total))+"%)\n                                    ")]),n("div",[t._v("success:\n                                        "+t._s(i.success)+"\n                                        ("+t._s(t._f("toGetFixed")(i.success/i.total))+"%)\n                                    ")]),n("div",[t._v("failed:\n                                        "+t._s(i.failed)+"\n                                        ("+t._s(t._f("toGetFixed")(i.failed/i.total))+"%)\n                                    ")])]),n("span",{staticStyle:{height:"24px"}},[n("div",{staticClass:"jobs-bar",style:"width:"+i.total*t.sitemWidth/i.max+"px"},[n("div",{staticClass:"jobs-bar-waiting",style:"width:"+i.waiting/i.total*100+"%"}),n("div",{staticClass:"jobs-bar-success",style:"width:"+i.success/i.total*100+"%"}),n("div",{staticClass:"jobs-bar-failed",style:"width:"+i.failed/i.total*100+"%"}),n("div",{staticClass:"jobs-bar-running",style:"width:"+i.running/i.total*100+"%"})])])]),n("span",{staticClass:"text"},[t._v(t._s(i.total))])],1)])}),0):n("div",{staticClass:"jobs-box no-date-box"},[t._v("\n                    No Data\n                ")]),"Today’s active data"!==t.type?n("div",{staticStyle:{height:"34px"}}):t._e()])])]),n("div",{staticClass:"content-item"},[n("div",{staticClass:"institution-based"},[n("div",{staticClass:"statistics"},[t._v("Institution based statistics")]),n("div",{staticClass:"cooperation"},[t._v("\n                Statistics of cooperation between institutions\n            ")]),n("div",{staticClass:"select"},[n("span",{staticClass:"select-text"},[t._v("Institution")]),n("el-select",{attrs:{placeholder:"请选择"},on:{change:t.toGetinstitutions},model:{value:t.institutionStat,callback:function(i){t.institutionStat=i},expression:"institutionStat"}},t._l(t.institutionsdownList,function(t){return n("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}),1)],1),n("div",{staticClass:"institution-table"},[n("el-table",{attrs:{data:t.tableIntSateData,"header-row-class-name":"tableHead","header-cell-class-name":"tableHeadCell","cell-class-name":"tableCell","header-cell-style":{background:"#FAFBFC"},"cell-style":{background:"#FAFBFC"},border:"",height:"250"}},[n("el-table-column",{attrs:{prop:"institutions",fixed:"",align:"center",label:""},scopedSlots:t._u([{key:"default",fn:function(i){return[n("span",{staticStyle:{color:"#4E5766","font-weight":"bold"}},[t._v(t._s(i.row.institutions))])]}}])}),n("el-table-column",{attrs:{prop:"name",label:"Jobs"},scopedSlots:t._u([{key:"default",fn:function(i){return[n("span",{staticStyle:{color:"#848C99"}},[t._v(t._s(i.row.total))])]}}])}),n("el-table-column",{attrs:{prop:"",label:"waiting"},scopedSlots:t._u([{key:"default",fn:function(i){return[n("span",{staticStyle:{color:"#848C99"}},[t._v(t._s(i.row.waiting)+" ("+t._s(t._f("toGetFixed")(i.row.waiting/i.row.total))+"%)")])]}}])}),n("el-table-column",{attrs:{prop:"",label:"Running"},scopedSlots:t._u([{key:"default",fn:function(i){return[n("span",{staticStyle:{color:"#848C99"}},[t._v(t._s(i.row.running)+" ("+t._s(t._f("toGetFixed")(i.row.running/i.row.total))+"%)")])]}}])}),n("el-table-column",{attrs:{prop:"",label:"Success"},scopedSlots:t._u([{key:"default",fn:function(i){return[n("span",{staticStyle:{color:"#848C99"}},[t._v(t._s(i.row.success)+" ("+t._s(t._f("toGetFixed")(i.row.success/i.row.total))+"%)")])]}}])}),n("el-table-column",{attrs:{prop:"",label:"Failed"},scopedSlots:t._u([{key:"default",fn:function(i){return[n("span",{staticStyle:{color:"#848C99"}},[t._v(t._s(i.row.failed)+" ("+t._s(t._f("toGetFixed")(i.row.failed/i.row.total))+"%)")])]}}])})],1),n("div",{staticClass:"paginationInstitutionSize"},[n("el-pagination",{attrs:{background:"","current-page":t.currentInstitutionPage,"page-size":t.pageInstitutionSize,layout:"total, prev, pager, next, jumper",total:t.totalInstitution},on:{"current-change":t.handleInstitutionCurrentChange,"update:currentPage":function(i){t.currentInstitutionPage=i},"update:current-page":function(i){t.currentInstitutionPage=i}}})],1)],1)])]),n("div",{staticClass:"content-item"},[n("div",{staticClass:"institution-based"},[n("div",{staticClass:"statistics"},[t._v("Site based statistics")]),n("div",{staticClass:"cooperation"},[t._v("\n                Statistics of cooperation between sites\n            ")]),n("div",{staticClass:"select"},[n("span",{staticClass:"select-text"},[t._v("Institution")]),n("el-select",{attrs:{placeholder:"请选择"},on:{change:t.toGetIntSite},model:{value:t.institutionSite,callback:function(i){t.institutionSite=i},expression:"institutionSite"}},t._l(t.institutionsdownList,function(t){return n("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}),1)],1),n("div",{staticClass:"institution-table"},[n("el-table",{attrs:{"header-row-class-name":"tableHead","header-cell-class-name":"tableHeadCell","cell-class-name":"tableCell",data:t.tableIntSiteData,"span-method":t.objectSpanMethod,"header-cell-style":{background:"#FAFBFC"},"cell-style":{background:"#FAFBFC"},border:"",height:"250"}},[n("el-table-column",{attrs:{prop:"",align:"center",label:""},scopedSlots:t._u([{key:"default",fn:function(i){return[n("span",{staticStyle:{color:"#4E5766","font-weight":"bold"}},[t._v(t._s(i.row.institutionsName))])]}}])}),n("el-table-column",{attrs:{prop:"siteName",align:"center",label:"site","show-overflow-tooltip":""}}),t._l(t.tableIntLabeList,function(i,a){return n("el-table-column",{key:a,attrs:{align:"center",prop:i,label:i},scopedSlots:t._u([{key:"default",fn:function(a){return[n("el-tooltip",{attrs:{placement:"top"}},[n("div",{attrs:{slot:"content"},slot:"content"},[n("div",[n("span",{staticStyle:{"margin-right":"5px"}},[t._v("waiting："+t._s(a.row[i].waiting)+"  ")]),n("span",[t._v("("+t._s(t._f("toGetFixed")(a.row[i].waiting/a.row[i].total))+"%)")])]),n("div",[n("span",{staticStyle:{"margin-right":"5px"}},[t._v("running："+t._s(a.row[i].running)+"  ")]),n("span",[t._v("("+t._s(t._f("toGetFixed")(a.row[i].running/a.row[i].total))+"%)")])]),n("div",[n("span",{staticStyle:{"margin-right":"5px"}},[t._v("success："+t._s(a.row[i].success)+"  ")]),n("span",[t._v("("+t._s(t._f("toGetFixed")(a.row[i].success/a.row[i].total))+"%)")])]),n("div",[n("span",{staticStyle:{"margin-right":"5px"}},[t._v("failed："+t._s(a.row[i].failed)+"  ")]),n("span",[t._v("("+t._s(t._f("toGetFixed")(a.row[i].failed/a.row[i].total))+"%)")])])]),n("span",[t._v(t._s(a.row[i].total))])])]}}],null,!0)})})],2),n("div",{staticClass:"paginationInstitutionSize"},[n("el-pagination",{attrs:{background:"","current-page":t.currentSitePage,"page-size":t.pageInstitutionSize,layout:"total, prev, pager, next, jumper",total:t.totalSitetitution},on:{"current-change":t.handleSiteCurrentChange,"update:currentPage":function(i){t.currentSitePage=i},"update:current-page":function(i){t.currentSitePage=i}}})],1)],1)])])])},o=[function(){var t=this,i=t.$createElement,n=t._self._c||i;return n("div",{staticClass:"jobs-title"},[n("span",{staticClass:"waiting"}),n("span",[t._v("waiting")]),n("span",{staticClass:"running"}),n("span",[t._v("running")]),n("span",{staticClass:"complete"}),n("span",[t._v("success")]),n("span",{staticClass:"failed"}),n("span",[t._v("failed")])])}],u=n("75fc"),r=(n("96cf"),n("3b8d")),c=(n("ac6a"),n("cebc")),l=n("a5b0"),d=n("b775"),p="cloud-manager";function f(t){return Object(d["a"])({url:"/".concat(p,"/api/job/summary/institutions/each/today"),method:"post",data:t})}function h(t){return Object(d["a"])({url:"/".concat(p,"/api/job/summary/institutions/each/period"),method:"post",data:t})}function b(t){return Object(d["a"])({url:"/".concat(p,"/api/job/summary/site/each/today"),method:"post",data:t})}function v(t){return Object(d["a"])({url:"/".concat(p,"/api/job/summary/site/each/period"),method:"post",data:t})}function g(t){return Object(d["a"])({url:"/".concat(p,"/api/job/institutions/today"),method:"post",data:t})}function m(t){return Object(d["a"])({url:"/".concat(p,"/api/job/institutions/period"),method:"post",data:t})}function _(t){return Object(d["a"])({url:"/".concat(p,"/api/job/site/today"),method:"post",data:t})}function y(t){return Object(d["a"])({url:"/".concat(p,"/api/job/site/period"),method:"post",data:t})}function C(t){return Object(d["a"])({url:"/".concat(p,"/api/job/summary/institutions/all/period"),method:"post",data:t})}function w(t){return Object(d["a"])({url:"/".concat(p,"/api/job/summary/institutions/all/today"),method:"post",data:t})}function j(t){return Object(d["a"])({url:"/".concat(p,"/api/job/summary/site/all/today"),method:"post",data:t})}function S(t){return Object(d["a"])({url:"/".concat(p,"/api/job/summary/site/all/period"),method:"post",data:t})}var x=n("c6a8"),I={name:"monitor",components:{overflowtooltip:l["a"]},filters:{toGetFixed:function(t){var i=100*t;return i?i.toFixed(1):0}},data:function(){return{type:"Today’s active data",dateToday:(new Date).getTime(),timevalue:[new Date-864e5,(new Date).getTime()],instTotal:0,pageSizeInst:80,instpageNum:1,siteTotal:0,activejobs:{},activeSite:{},institutionsList:[],siteList:[],institutionsdownList:[],tableIntSateData:[],tableIntSiteData:[],tableIntLabeList:[],institutionsitemWidth:"",stylebar:"",sitemWidth:"",institutionStat:"",institutionSite:"",value:"",lengthList:[],pickerOptions:{disabledDate:function(t){return t.getTime()>Date.now()}},currentInstitutionPage:1,currentSitePage:1,pageInstitutionSize:10,totalInstitution:0,totalSitetitution:0,firstPageNum:1,secondPageNum:1,firstTempVal:"",secondTempVal:""}},watch:{institutionsList:{handler:function(t){var i=this;t.length>0&&this.$nextTick(function(){i.calcinstitution().then(function(t){i.institutionsitemWidth=i.$refs.bar[0].clientWidth-t-10})})},immediate:!0,deep:!0},siteList:{handler:function(t){var i=this;t.length>0&&this.$nextTick(function(){i.sitemWidth=i.$refs.jobs[0].clientWidth-130})}}},created:function(){},mounted:function(){this.getinstitutionsdownList(),this.initi()},methods:{initi:function(){this.getInstitutionsListToday(),this.institutionsAll(),this.toGetinstitutions(this.institutionStat),this.toGetIntSite(this.institutionSite,"type")},institutionsAll:function(){if("Today’s active data"===this.type){var t={dateToday:this.dateToday,pageNum:this.instpageNum,pageSize:80};w(t).then(function(t){a(t)})}else{var i={beginDate:this.timevalue[0],endDate:this.timevalue[1],pageNum:this.instpageNum,pageSize:80};C(i).then(function(t){a(t)})}var n=this,a=function(t){var i=t.data,a={};a.active=i.institutionsCount||0,a.waiting=i.waitingJobCount||0,a.running=i.runningJobCount||0,a.success=i.successJobCount||0,a.failed=i.failedJobCount||0,a.total=i.failedJobCount+i.successJobCount+i.runningJobCount+i.waitingJobCount,n.activejobs=Object(c["a"])({},a)}},getinstitutionsdownList:function(){var t=this;this.institutionsdownList=[],Object(x["a"])().then(function(i){i.data.forEach(function(i,n){var a={};a.value=i,a.label=i,t.institutionsdownList.push(a)}),t.institutionSite=t.institutionStat=t.institutionsdownList[0].value,t.toGetinstitutions(t.institutionStat),t.toGetIntSite(t.institutionSite,"type")})},calcinstitution:function(){var t=Object(r["a"])(regeneratorRuntime.mark(function t(){var i,n;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return i=this.$refs.text.map(function(t){return t.clientWidth}),t.next=3,Math.max.apply(Math,Object(u["a"])(i));case 3:return n=t.sent,this.stylebar="width:calc(100% - ".concat(n,"px - 110px)"),t.abrupt("return",n);case 6:case"end":return t.stop()}},t,this)}));function i(){return t.apply(this,arguments)}return i}(),handleCurrentChangeInst:function(t){this.instpageNum=t,this.institutionsAll()},handleInstitutionCurrentChange:function(t){this.firstPageNum=t,this.toGetinstitutions(this.institutionStat)},handleSiteCurrentChange:function(t){this.secondPageNum=t,this.toGetIntSite(this.institutionSite,"type")},getInstitutionsListToday:function(){if("Today’s active data"===this.type){var t={dateToday:this.dateToday,pageNum:1,pageSize:80};f(t).then(function(t){a(t)})}else{var i={beginDate:this.timevalue[0],endDate:this.timevalue[1],pageNum:1,pageSize:80};h(i).then(function(t){a(t)})}var n=this,a=function(t){n.instTotal=t.data.totalRecord;var i=[];t.data.list.forEach(function(t){i.push(t.runningJobCount+t.failedJobCount+t.successJobCount+t.waitingJobCount)});var a=Math.max.apply(Math,i);n.institutionsList=t.data.list.map(function(t){var i={};return i.institutions=t.institutions,i.waiting=t.waitingJobCount,i.running=t.runningJobCount,i.success=t.successJobCount,i.failed=t.failedJobCount,i.total=t.failedJobCount+t.successJobCount+t.runningJobCount+t.waitingJobCount,i.max=a,i.show=!1,i}),n.getsite(n.institutionsList[0],0)}},getsite:function(t,i){var n=[];if(this.institutionsList.forEach(function(t,a){t.show=a===i,n.push(t)}),this.institutionsList=[].concat(n),"Today’s active data"===this.type){var a={dateToday:this.dateToday,institutions:t?t.institutions:""};b(a).then(function(t){o(t)})}else{var e={beginDate:this.timevalue[0],endDate:this.timevalue[1],institutions:t?t.institutions:""};v(e).then(function(t){o(t)})}var s=this,o=function(i){s.siteTotal=i.data.totalRecord,s.getsiteAllToday(t?t.institutions:"");var n=[];i.data.list.forEach(function(t){n.push(t.failedJobCount+t.successJobCount+t.runningJobCount+t.waitingJobCount)});var a=Math.max.apply(Math,n);s.siteList=i.data.list.map(function(t){var i={};return i.partyId=t.partyId,i.site=t.site,i.waiting=t.waitingJobCount,i.running=t.runningJobCount,i.success=t.successJobCount,i.failed=t.failedJobCount,i.total=t.failedJobCount+t.successJobCount+t.runningJobCount,i.max=a,i})}},getsiteAllToday:function(t){if("Today’s active data"===this.type){var i={dateToday:this.dateToday,institutions:t,pageNum:1,pageSize:100};j(i).then(function(t){e(t)})}else{var n={beginDate:this.timevalue[0],endDate:this.timevalue[1],institutions:t,pageNum:1,pageSize:100};S(n).then(function(t){e(t)})}var a=this,e=function(t){var i=t.data,n={};n.active=i.siteCount||0,n.waiting=i.waitingJobCount||0,n.running=i.runningJobCount||0,n.success=i.successJobCount||0,n.failed=i.failedJobCount||0,n.total=i.failedJobCount+i.successJobCount+i.runningJobCount,a.activeSite=Object(c["a"])({},n)}},objectSpanMethod:function(t){t.row,t.column;var i=t.rowIndex,n=t.columnIndex;if(0===n){var a=this.lengthList[i],e=a>0?1:0;return{rowspan:a,colspan:e}}},toGetinstitutions:function(t){if("Today’s active data"===this.type){var i={dateToday:this.dateToday,institutions:t||this.institutionStat,pageNum:this.firstPageNum,pageSize:10};g(i).then(function(t){e(t)})}else{var n={beginDate:this.timevalue[0],endDate:this.timevalue[1],institutions:t||this.institutionStat};m(n).then(function(t){e(t)})}var a=this,e=function(t){a.totalInstitution=t.data.totalRecord,a.tableIntSateData=t.data.list.map(function(t){return t.waiting=parseInt(t.waitingJobCountForInstitutions)||0,t.running=parseInt(t.runningJobCountForInstitutions)||0,t.failed=parseInt(t.failedJobCountForInstitutions)||0,t.success=parseInt(t.successJobCountForInstitutions)||0,t.total=t.failed+t.success+t.running+t.waiting,t})}},toGetIntSite:function(t,i){var n=this;if(this.institutionSite=t,"Today’s active data"===this.type){var a={dateToday:this.dateToday,institutions:t||this.institutionSite,pageNum:this.secondPageNum,pageSize:10};_(a).then(function(t){n.getsiteSataData(t,i)})}else{var e={beginDate:this.timevalue[0],endDate:this.timevalue[1],institutions:t||this.institutionSite};y(e).then(function(t){n.getsiteSataData(t,i)})}},getsiteSataData:function(t,i){var n=this;this.lengthList=[],this.tableIntSiteData=[],this.tableIntLabeList=t.data.sites;var a=t.data.jobStatisticsOfSiteDimensions.list;this.totalSitetitution=t.data.jobStatisticsOfSiteDimensions.totalRecord;var e=t.data.institutionsWithSites,s=[];e.map(function(t){n.lengthList.push(t.sites.length);for(var i=0;i<t.sites.length-1;i++)n.lengthList.push(0);t.sites.map(function(i){var n={};n.institutionsName=t.institutions,n.siteName=i,s.push(n)})});var o=[];a.forEach(function(t){t.institutionsWithHostSites.forEach(function(i){i.jobStatisticsList.forEach(function(i){var n={};n.siteHostName=i.siteHostName,n.waiting=parseInt(i.jobWaitingCount),n.running=parseInt(i.jobRunningCount),n.success=parseInt(i.jobSuccessCount),n.failed=parseInt(i.jobFailedCount),n.total=parseInt(i.jobSuccessCount)+parseInt(i.jobFailedCount)+parseInt(i.jobRunningCount)+parseInt(i.jobWaitingCount),n.siteGuestName=t.siteGuestName,o.push(n)})})});var u=[];s.forEach(function(t){var i={};n.tableIntLabeList.forEach(function(n){i.institutionsName=t.institutionsName,i.siteName=t.siteName,i[n]={total:0,waiting:0,running:0,success:0,failed:0}}),u.push(i)}),u.forEach(function(t){o.forEach(function(i){for(var n in t)t.siteName===i.siteHostName&&n===i.siteGuestName&&(t[n]={total:i.total,waiting:i.waiting,running:i.running,success:i.success,failed:i.failed})})}),i?this.tableIntSiteData=[].concat(u):setTimeout(function(){n.tableIntSiteData=[].concat(u)},500)}}},F=I,O=(n("a032"),n("2877")),J=Object(O["a"])(F,s,o,!1,null,null,null),T=J.exports,k={name:"monitor",components:{monitortoday:T},filters:{},data:function(){return{radio:"Today’s active data"}},created:function(){},mounted:function(){},methods:{handleChahe:function(t){this.$refs["monitortoday"].type=t,this.$refs["monitortoday"].initi()}}},N=k,L=(n("d17f"),Object(O["a"])(N,a,e,!1,null,null,null));i["default"]=L.exports},f410:function(t,i,n){n("1af6"),t.exports=n("584a").Array.isArray}}]);