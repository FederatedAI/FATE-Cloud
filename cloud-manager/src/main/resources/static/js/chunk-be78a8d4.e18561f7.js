(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-be78a8d4"],{"083a":function(t,e,a){},"1af6":function(t,e,a){var n=a("63b6");n(n.S,"Array",{isArray:a("9003")})},"20fd":function(t,e,a){"use strict";var n=a("d9f6"),o=a("aebd");t.exports=function(t,e,a){e in t?n.f(t,e,o(0,a)):t[e]=a}},"549b":function(t,e,a){"use strict";var n=a("d864"),o=a("63b6"),r=a("241e"),i=a("b0dc"),s=a("3702"),l=a("b447"),d=a("20fd"),u=a("7cd6");o(o.S+o.F*!a("4ee1")(function(t){Array.from(t)}),"Array",{from:function(t){var e,a,o,c,p=r(t),f="function"==typeof this?this:Array,m=arguments.length,h=m>1?arguments[1]:void 0,b=void 0!==h,v=0,y=u(p);if(b&&(h=n(h,m>2?arguments[2]:void 0,2)),void 0==y||f==Array&&s(y))for(e=l(p.length),a=new f(e);e>v;v++)d(a,v,b?h(p[v],v):p[v]);else for(c=y.call(p),a=new f;!(o=c.next()).done;v++)d(a,v,b?i(c,h,[o.value,v],!0):o.value);return a.length=v,a}})},"54a1":function(t,e,a){a("6c1c"),a("1654"),t.exports=a("95d5")},"5b35":function(t,e,a){"use strict";var n=a("d415"),o=a.n(n);o.a},"75fc":function(t,e,a){"use strict";var n=a("a745"),o=a.n(n);function r(t){if(o()(t)){for(var e=0,a=new Array(t.length);e<t.length;e++)a[e]=t[e];return a}}var i=a("774e"),s=a.n(i),l=a("c8bb"),d=a.n(l);function u(t){if(d()(Object(t))||"[object Arguments]"===Object.prototype.toString.call(t))return s()(t)}function c(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function p(t){return r(t)||u(t)||c()}a.d(e,"a",function(){return p})},"774e":function(t,e,a){t.exports=a("d2d5")},9003:function(t,e,a){t.exports=a("0b93")(176)},"95d5":function(t,e,a){var n=a("40c3"),o=a("5168")("iterator"),r=a("481b");t.exports=a("584a").isIterable=function(t){var e=Object(t);return void 0!==e[o]||"@@iterator"in e||r.hasOwnProperty(n(e))}},a745:function(t,e,a){t.exports=a("f410")},aebd:function(t,e,a){t.exports=a("0b93")(26)},bb69:function(t,e,a){"use strict";var n=a("083a"),o=a.n(n);o.a},bd33:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"system-box"},[a("div",{staticClass:"system"},[a("div",{staticClass:"system-header"},[a("el-radio-group",{staticClass:"radio",model:{value:t.radio,callback:function(e){t.radio=e},expression:"radio"}}),a("el-input",{staticClass:"input input-placeholder",attrs:{clearable:"",placeholder:"Search for Site Name or Party ID"},model:{value:t.data.condition,callback:function(e){t.$set(t.data,"condition","string"===typeof e?e.trim():e)},expression:"data.condition"}}),a("el-select",{staticClass:"sel-role input-placeholder",attrs:{placeholder:"Role"},model:{value:t.data.role,callback:function(e){t.$set(t.data,"role",e)},expression:"data.role"}},t._l(t.typeSelect,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}),1),a("el-button",{staticClass:"go",attrs:{type:"primary"},on:{click:t.toSearch}},[t._v("GO")])],1),a("div",{staticClass:"system-body"},[a("div",{staticClass:"table"},[a("el-table",{ref:"table",attrs:{data:t.tableData,"header-row-class-name":"tableHead","header-cell-class-name":"tableHeadCell","cell-class-name":"tableCell",height:"100%","tooltip-effect":"light"}},[a("el-table-column",{attrs:{type:"index",label:"Index","class-name":"cell-td-td",width:"70"}}),a("el-table-column",{attrs:{prop:"siteName",label:"Site Name","min-width":"90","class-name":"cell-td-td"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.siteName))])]}}])}),a("el-table-column",{attrs:{prop:"institutions",label:"Institution","class-name":"cell-td-td","min-width":"90","show-overflow-tooltip":""}}),a("el-table-column",{attrs:{prop:"partyId",label:"Party ID","class-name":"cell-td-td"}}),a("el-table-column",{attrs:{prop:"federatedGroupSetDo",label:"Role","class-name":"cell-td-td"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(1===e.row.federatedGroupSetDo.role?"Guest":"Host"))])]}}])}),a("el-table-column",{attrs:{prop:"federatedSiteModelDos",label:"Installed items","min-width":"110","class-name":"cell-td-td"},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.federatedSiteModelDos.length>0?a("span",t._l(e.row.federatedSiteModelDos,function(t,e){return a("div",{key:e},[a("tooltip",{attrs:{width:"106px",content:t.installItems,placement:"top"}})],1)}),0):t._e()]}}])}),a("el-table-column",{attrs:{prop:"federatedSiteModelDos",label:"Version","min-width":"90","class-name":"cell-td-td"},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.federatedSiteModelDos.length>0?a("span",t._l(e.row.federatedSiteModelDos,function(t,e){return a("div",{key:e},[a("tooltip",{attrs:{width:"80px",content:t.version,placement:"top"}})],1)}),0):t._e()]}}])}),a("el-table-column",{attrs:{prop:"federatedSiteModelDos",label:"Installed time","min-width":"160","class-name":"cell-td-td"},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.federatedSiteModelDos.length>0?a("span",t._l(e.row.federatedSiteModelDos,function(e,n){return a("div",{key:n},[a("span",[t._v(t._s(t._f("dateFormat")(e.installTime)))])])}),0):t._e()]}}])}),a("el-table-column",{attrs:{prop:"federatedSiteModelDos",label:"Upgrade time","min-width":"160","class-name":"cell-td-td"},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.federatedSiteModelDos.length>0?a("span",t._l(e.row.federatedSiteModelDos,function(e,n){return a("div",{key:n},[e.updateTime===e.installTime?a("span",[a("span",{staticStyle:{opacity:"0"}},[t._v(".")])]):a("span",[a("span",[t._v(t._s(t._f("dateFormat")(e.updateTime)))])])])}),0):t._e()]}}])}),a("el-table-column",{attrs:{prop:"",label:"History",width:"70",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.federatedSiteModelDos.length>0?a("span",t._l(e.row.federatedSiteModelDos,function(e,n){return a("div",{key:n},[a("el-popover",{attrs:{placement:"left","visible-arrow":!1,"popper-class":"system-history",offset:-300,width:"450",trigger:"click"},model:{value:e.visible,callback:function(a){t.$set(e,"visible",a)},expression:"elm.visible"}},[a("div",{staticClass:"content"},[a("div",{staticClass:"title"},[a("div",{staticClass:"title-time"},[t._v("Time")]),a("div",{staticClass:"title-history"},[t._v("History")])]),a("div",{staticClass:"content-box"},t._l(e.historylist,function(n,o){return a("div",{key:o},[a("div",{staticClass:"title-time"},[t._v(t._s(t._f("dateFormat")(n.updateTime)))]),0===o?a("div",{staticClass:"title-history"},[a("span",[t._v("Installed ")]),a("span",{staticClass:"version"},[t._v(t._s(n.version))]),1===n.updateStatus?a("span",[t._v(" successfully")]):t._e(),2===n.updateStatus?a("span",[t._v(" failed")]):t._e()]):t._e(),o>0?a("div",{staticClass:"title-history"},[1===e.historylist[o-1].updateStatus?a("span",[t._v("\n                                                  upgraded to\n                                                  "),a("span",{staticClass:"version"},[t._v(t._s(n.version))]),1===n.updateStatus?a("span",[t._v(" successfully")]):t._e(),2===n.updateStatus?a("span",[t._v(" failed")]):t._e()]):t._e(),2===e.historylist[o-1].updateStatus?a("span",[t._v("\n                                                  Installed\n                                                  "),a("span",{staticClass:"version"},[t._v(t._s(n.version))]),1===n.updateStatus?a("span",[t._v(" successfully")]):t._e(),2===n.updateStatus?a("span",[t._v(" failed")]):t._e()]):t._e()]):t._e()])}),0)]),a("el-button",{attrs:{slot:"reference",type:"text"},slot:"reference"},[a("i",{staticClass:"el-icon-tickets"})])],1)],1)}),0):a("span",[a("el-button",{attrs:{slot:"reference",disabled:"",type:"text"},slot:"reference"},[a("i",{staticClass:"el-icon-tickets"})])],1)]}}])})],1)],1),a("div",{staticClass:"pagination"},[a("el-pagination",{attrs:{background:"","current-page":t.currentPage,"page-size":t.data.pageSize,layout:"total, prev, pager, next, jumper",total:t.total},on:{"current-change":t.handleCurrentChange,"update:currentPage":function(e){t.currentPage=e},"update:current-page":function(e){t.currentPage=e}}})],1)])])])},o=[],r=a("75fc"),i=(a("ac6a"),a("c6a8")),s=a("c1df"),l=a.n(s),d=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"tooltip",style:t.elmwidth},[t.tooltip?a("el-tooltip",{attrs:{effect:"light",content:t.content,placement:t.placement}},[a("span",{ref:"name"},[t._v("\n              "+t._s(t.content)+"\n          ")])]):a("span",{ref:"name"},[t._v("\n          "+t._s(t.content)+"\n      ")])],1)},u=[],c=(a("7f7f"),{name:"OverflowTooltip",props:{width:{type:String,default:""},content:{type:String,default:""},placement:{type:String,default:"top"}},data:function(){return{tooltip:!1,elmwidth:""}},created:function(){},updated:function(){this.updatawidth()},mounted:function(){this.elmwidth="width:".concat(this.width),this.updatawidth()},methods:{updatawidth:function(){var t=this.$refs.name.offsetWidth;t>parseInt(this.width)?this.tooltip=!0:this.tooltip=!1}}}),p=c,f=(a("5b35"),a("2877")),m=Object(f["a"])(p,d,u,!1,null,null,null),h=m.exports,b={name:"PartyId",components:{tooltip:h},filters:{dateFormat:function(t){return t?l()(t).format("YYYY-MM-DD HH:mm:ss"):"--"}},data:function(){return{radio:"FATE",currentPage:1,total:0,tableData:[],historydata:[],typeSelect:[{value:0,label:"Role"},{value:1,label:"Guest"},{value:2,label:"Host"}],data:{pageNum:1,pageSize:20}}},created:function(){this.initList()},mounted:function(){var t=this;this.dom=this.$refs.table.bodyWrapper,this.dom.addEventListener("scroll",function(){t.tableData.forEach(function(t){t.federatedSiteModelDos.length>0&&t.federatedSiteModelDos.forEach(function(t){t.visible=!1})})})},methods:{initList:function(){var t=this;for(var e in this.data)if(this.data.hasOwnProperty(e)){var a=this.data[e];a||delete this.data[e]}Object(i["i"])(this.data).then(function(e){e.data.list.forEach(function(t){t.federatedSiteModelDos.length>0&&(t.federatedSiteModelDos=t.federatedSiteModelDos.map(function(t){return t.visible=!1,Object(i["v"])({id:t.id,installItems:t.installItems}).then(function(e){t.historylist=Object(r["a"])(e.data)}),t}))}),t.tableData=e.data.list,t.total=e.data.totalRecord})},getHistory:function(t){var e=this;this.historydata=[];var a={id:t.id,installItems:t.installItems};Object(i["v"])(a).then(function(t){e.historydata=Object(r["a"])(t.data)})},toSearch:function(){this.data.pageNum=1,this.initList()},handleCurrentChange:function(t){this.data.pageNum=t,this.initList()}}},v=b,y=(a("bb69"),Object(f["a"])(v,n,o,!1,null,null,null));e["default"]=y.exports},c6a8:function(t,e,a){"use strict";a.d(e,"t",function(){return o}),a.d(e,"g",function(){return r}),a.d(e,"d",function(){return i}),a.d(e,"r",function(){return s}),a.d(e,"u",function(){return l}),a.d(e,"s",function(){return d}),a.d(e,"h",function(){return u}),a.d(e,"w",function(){return c}),a.d(e,"p",function(){return p}),a.d(e,"f",function(){return f}),a.d(e,"e",function(){return m}),a.d(e,"i",function(){return h}),a.d(e,"v",function(){return b}),a.d(e,"q",function(){return v}),a.d(e,"m",function(){return y}),a.d(e,"c",function(){return g}),a.d(e,"j",function(){return _}),a.d(e,"o",function(){return w}),a.d(e,"l",function(){return S}),a.d(e,"n",function(){return O}),a.d(e,"a",function(){return j}),a.d(e,"b",function(){return k}),a.d(e,"k",function(){return C});var n=a("b775");function o(t){return Object(n["a"])({url:"/cloud-manager/api/site/page/cloudManager",method:"post",data:t})}function r(t){return Object(n["a"])({url:"/cloud-manager/api/group/findPagedRegionInfoNew",method:"post",data:t})}function i(t){return Object(n["a"])({url:"/cloud-manager/api/site/check",method:"post",data:t})}function s(t){return Object(n["a"])({url:"/cloud-manager/api/site/addNew",method:"post",data:t})}function l(t){return Object(n["a"])({url:"/cloud-manager/api/site/updateNew",method:"post",data:t})}function d(t){return Object(n["a"])({url:"/cloud-manager/api/site/delete",method:"post",data:t})}function u(t){return Object(n["a"])({url:"/cloud-manager/api/site/find",method:"post",data:t})}function c(t){return Object(n["a"])({url:"/cloud-manager/api/site/checkWeb",method:"post",data:t})}function p(t){return Object(n["a"])({url:"/cloud-manager/api/site/ip/list",method:"post",data:t})}function f(t){return Object(n["a"])({url:"/cloud-manager/api/site/ip/deal",method:"post",data:t})}function m(t){return Object(n["a"])({url:"/cloud-manager/api/site/checkSiteName",method:"post",data:t})}function h(t){return Object(n["a"])({url:"/cloud-manager/api/system/page",method:"post",data:t})}function b(t){return Object(n["a"])({url:"/cloud-manager/api/system/history",method:"post",data:t})}function v(t){return Object(n["a"])({url:"/cloud-manager/api/site/ip/query/history",method:"post",data:t})}function y(t){return Object(n["a"])({url:"/cloud-manager/api/site/institutions",method:"post",data:t})}function g(t){return Object(n["a"])({url:"/cloud-manager/api/authority/cancel",method:"post",data:t})}function _(t){return Object(n["a"])({url:"/cloud-manager/api/authority/history/fateManager",method:"post",data:t})}function w(t){return Object(n["a"])({url:"/cloud-manager/api/authority/status",method:"post",data:t})}function S(t){return Object(n["a"])({url:"/cloud-manager/api/authority/details",method:"post",data:t})}function O(t){return Object(n["a"])({url:"/cloud-manager/api/authority/review",method:"post",data:t})}function j(t){return Object(n["a"])({url:"/cloud-manager/api/fate/user/institutions",method:"post",data:t})}function k(t){return Object(n["a"])({url:"/cloud-manager/api/authority/currentAuthority",method:"post",data:t})}function C(t){return Object(n["a"])({url:"/cloud-manager/api/dropdown/version",method:"post",data:t})}},c8bb:function(t,e,a){t.exports=a("54a1")},d2d5:function(t,e,a){a("1654"),a("549b"),t.exports=a("584a").Array.from},d415:function(t,e,a){},f410:function(t,e,a){a("1af6"),t.exports=a("584a").Array.isArray}}]);