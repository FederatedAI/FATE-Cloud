(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-73fa11a8"],{"0a19":function(t,e,s){},65823:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAASCAYAAABWzo5XAAAABHNCSVQICAgIfAhkiAAAAVRJREFUOE+VlEFSwkAQRf/H7PUmcgOTnbCxXFsCnsDyJHoEgsVeN4Yd8QbhBhxB95BvzZAZhxBCmGVn5qX79+8mGs7tu+KeMIbQB9G3V4QCRFES6eKRef0Zw8Bwrr62eCUQN/3AxQTkvMDL1wMLF/MgA8EGSxBXbRD/TfhBhMTBLOhsyH9qHmZBg5lyAjedMqldMmVmIyashF12hUj4BTAl8ezelETCQSoTHHcBGQgjxEaX4UwfAO5sQ4WUw5mM8tcB6FNCTOIyhO9B6o0RCgOS105IszEn1gYb5A7WCqke10FrRri3qVcwc8+X02KRw9ICf1hbAHDgFp+tmsWume2Uz6zYR9tfwawEJxxv299qSAOzIh0fGwHf2YixH5GwS108VfnH+2pvaM+BhZbYJR2cao28nZo7U462mCyeuD5YIyHQNIAlJtwtNef6lYRCPUybFtsfcIXRwbaurX4AAAAASUVORK5CYII="},"7ec0":function(t,e,s){},"901a":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAASCAYAAABWzo5XAAAABHNCSVQICAgIfAhkiAAAAXFJREFUOE/Fk0FOwlAURe9rbR2KKxB34BLq1IRYBsShdcAYWIEuwaGBCcwEBlZInKo7wBVQdlCGFvqv+YXCR9DEhMSOmrz3z7v3/vcFe/pkTxz8L8j3g0IYtmPTzU5FF5XqmW2hBqAoEG95IJorlvX/geCVRGPYb7Vz2AZIT0oPnSfj8GooFW9SYKQhECkQfB52W/4WSKvIm/IigYYtVhg+PkRbdTKeE+cv/dZI92eKtBLlOmM9yYRQVNakUom/D8n6yNhKZqc6rwxUuqqGArk0w7M+k+PUdb2UjFYQogPBtdlHIhz2muUfQYNuU0w7BCe22J6iGm+AllkZ1twIgqNM8XawEwoDS1keBLfrG8DUSpLiypouLKbLG8m6eTsgOlaS1JXr1iC4W2fISargb4SdF3XoieMUdwZr+CH5bicz31zKrT1S7sIigQ+ABYGcgJgSHAkkmpP3uYpfN7tUqQYi4g16zeAvD/p/H+0upXtT9AV107QTb0CmQQAAAABJRU5ErkJggg=="},"98a8":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAATCAYAAACdkl3yAAAABHNCSVQICAgIfAhkiAAAAVlJREFUOE+NlE1WwkAQhKuAvd7EeALDTli595lwBD2BeAI9AsHn3lVwR7xBuInukfL1JMGAwySznOn5+qe6m/Cc61fFAyGFEIGInIlQgih3RPZxx+L4G9sX0zdF+sEzgdjnoLkTUHCIh/yWZXO3BxkEW6xBnIcg+zfhCyOMG5gDnYII+KTg0hARE7g6cNKCOdBkqeKfUVWXpzzl3DnLNAfxeBytpblKOGZd2LU3nR4g+7cjxpxkWpBIfSAJ2SrlzEXdYcfpUlb5ixMRlXnKS5dah52BFFIpT1gJ0mHXCbL8DTQQ/HWsowin5oTDu9kSuAlEvgkWu1djmjMhC8tfG7mITii7lz/UkH3kt+5fJbSur0ZEWxQkztrpdIEkfHOE2ObtYGh9MACLGu4aszltSC3G32O9Rl68c9eG2DAPce9dI21vNn/cYcZqqTVdv5FQaoBF52LrK7fP7hfyYLTCM1J1bgAAAABJRU5ErkJggg=="},a14e:function(t,e,s){"use strict";var i=s("7ec0"),a=s.n(i);a.a},a8b2:function(t,e,s){"use strict";var i=s("0a19"),a=s.n(i);a.a},ab54:function(t,e,s){"use strict";s.r(e);var i=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"site-add"},[i("div",{staticClass:"add-info"},[i("div",{staticClass:"title"},["siteadd"===t.type?i("span",[t._v(t._s(t.$t("Add a site")))]):t._e(),"siteinfo"===t.type?i("span",[t._v(t._s(t.$t("Waiting for site activation...")))]):t._e(),"siteUpdate"===t.type?i("span",[t._v(t._s(t.$t("Site Update")))]):t._e()]),i("el-form",{ref:"infoform",attrs:{model:t.form,"label-position":"left",rules:t.rules,"label-width":"250px"}},[i("el-form-item",{attrs:{label:t.$t("Site Name"),prop:"siteName"}},["siteinfo"===t.type?i("span",{staticClass:"info-text"},[t._v(t._s(t.form.siteName))]):i("el-input",{attrs:{placeholder:t.$t("Maximum of 20 chatacters")},on:{blur:t.toCheckSiteName,focus:function(e){return t.cancelValid("siteName")}},model:{value:t.form.siteName,callback:function(e){t.$set(t.form,"siteName",e)},expression:"form.siteName"}})],1),i("el-form-item",{attrs:{label:t.$t("Institution"),prop:"institutions"}},["siteinfo"===t.type?i("span",{staticClass:"info-text"},[t._v(t._s(t.form.institutions))]):i("el-select",{attrs:{"popper-append-to-body":!1,placeholder:t.$t("Choose Institutions")},on:{focus:function(e){return t.cancelValid("institutions")}},model:{value:t.form.institutions,callback:function(e){t.$set(t.form,"institutions",e)},expression:"form.institutions"}},t._l(t.institutionsdownList,function(t){return i("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}),1),"siteadd"===t.type||"siteUpdate"===t.type?i("span",{staticClass:"add-institutions",on:{click:t.toAddInstitutions}},[t._v(t._s(t.$t("add")))]):t._e()],1),i("el-form-item",{attrs:{label:t.$t("Role"),prop:"role"}},["siteinfo"===t.type?i("span",{staticClass:"info-text"},[t._v(t._s(1===t.form.role?"Guest":"Host"))]):i("el-select",{attrs:{"popper-append-to-body":!1,placeholder:t.$t("Choose Role")},on:{focus:function(e){return t.cancelValid("role")},change:t.getPartyid},model:{value:t.form.role,callback:function(e){t.$set(t.form,"role",e)},expression:"form.role"}},t._l(t.roleOp,function(t){return i("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}),1)],1),i("el-form-item",{attrs:{label:t.$t("Party ID")}},[i("span",{attrs:{slot:"label"},slot:"label"},[i("span",[i("span",[t._v(t._s(t.$t("Party ID")))]),i("i",{staticClass:"el-icon-s-tools tools",staticStyle:{"margin-left":"15px",cursor:"pointer"},on:{click:t.toPartyid}})])]),"siteinfo"===t.type?i("span",{staticClass:"info-text"},[t._v(t._s(t.form.partyId))]):i("el-select",{attrs:{disabled:0===t.partyidname.length,"popper-append-to-body":!1,placeholder:t.$t("choose an ID Group")},on:{change:t.selectPartyid},model:{value:t.partyidSelect,callback:function(e){t.partyidSelect=e},expression:"partyidSelect"}},t._l(t.partyidname,function(t){return i("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}),1)],1),i("el-form-item",{directives:[{name:"show",rawName:"v-show",value:("siteadd"===t.type||"siteUpdate"===t.type)&&t.partyidSelect,expression:"(type==='siteadd' || type==='siteUpdate') && partyidSelect"}]},[i("div",{staticClass:"dropdown"},[i("i",{staticClass:"el-icon-arrow-down down",on:{click:function(e){t.downshow=!t.downshow}}}),t.downshow?i("el-input",{attrs:{disabled:"",autosize:"",type:"textarea"},model:{value:t.groupRange,callback:function(e){t.groupRange=e},expression:"groupRange"}}):t._e(),t.downshow?t._e():i("div",{staticClass:"down-text"},[t._v(t._s(t.groupRange))])],1)]),"siteadd"===t.type||"siteUpdate"===t.type?i("el-form-item",{attrs:{label:"",prop:"partyId"}},[i("el-input",{attrs:{disabled:!t.partyidSelect,placeholder:t.$t("Type the Party ID")},on:{focus:function(e){return t.cancelValid("partyId")},blur:t.tocheckPartyid},model:{value:t.form.partyId,callback:function(e){t.$set(t.form,"partyId","string"===typeof e?e.trim():e)},expression:"form.partyId"}})],1):t._e(),i("el-form-item",{attrs:{label:t.$t("Network Acess Entrances"),prop:"networkAccessEntrances"}},["siteinfo"===t.type?i("span",{staticClass:"info-text"},t._l(t.form.networkAccessEntrances.split(";"),function(e,s){return i("div",{key:s},[t._v(t._s(e))])}),0):i("el-input",{staticClass:"plus-text",attrs:{placeholder:""},on:{focus:function(e){return t.addShow("entrances")},blur:function(e){return t.cancelValid("networkAccessEntrances")}},model:{value:t.form.networkAccessEntrances,callback:function(e){t.$set(t.form,"networkAccessEntrances",e)},expression:"form.networkAccessEntrances"}},["siteUpdate"===t.type?i("i",{staticClass:"el-icon-edit plus",attrs:{slot:"suffix"},on:{click:function(e){return t.addShow("entrances")}},slot:"suffix"}):t._e(),"siteadd"===t.type?i("i",{staticClass:"el-icon-plus plus",attrs:{slot:"suffix"},on:{click:function(e){return t.addShow("entrances")}},slot:"suffix"}):t._e()])],1),i("el-form-item",{attrs:{label:t.$t("Network Acess Exits"),prop:"networkAccessExits"}},["siteinfo"===t.type?i("span",{staticClass:"info-text"},t._l(t.form.networkAccessExits.split(";"),function(e,s){return i("div",{key:s},[t._v(t._s(e))])}),0):t._e(),"siteadd"===t.type||"siteUpdate"===t.type?i("el-input",{staticClass:"plus-text",attrs:{placeholder:""},on:{focus:function(e){return t.addShow("exit")},blur:function(e){return t.cancelValid("networkAccessExits")}},model:{value:t.form.networkAccessExits,callback:function(e){t.$set(t.form,"networkAccessExits",e)},expression:"form.networkAccessExits"}},["siteUpdate"===t.type?i("i",{staticClass:"el-icon-edit plus",attrs:{slot:"suffix"},on:{click:function(e){return t.addShow("exit")}},slot:"suffix"}):t._e(),"siteadd"===t.type?i("i",{staticClass:"el-icon-plus plus",attrs:{slot:"suffix"},on:{click:function(e){return t.addShow("exit")}},slot:"suffix"}):t._e()]):t._e()],1),i("el-form-item",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],attrs:{prop:"exits"}},["siteUpdate"===t.type||"siteadd"===t.type?i("el-input",{model:{value:t.form.exits,callback:function(e){t.$set(t.form,"exits",e)},expression:"form.exits"}}):t._e()],1),"siteinfo"===t.type?i("el-form-item",{attrs:{label:"Federation Key"}},[t.keyViewDefault?i("span",{staticClass:"info-text"},[t._v(t._s(t.form.secretInfo.key)+" "),i("img",{staticClass:"view",attrs:{src:s("901a")},on:{click:function(e){t.keyViewDefault=!t.keyViewDefault}}})]):t._e(),t.keyViewDefault?t._e():i("span",{staticClass:"info-text"},[t._v("***********************"),i("img",{staticClass:"view",attrs:{src:s("c990")},on:{click:function(e){t.keyViewDefault=!t.keyViewDefault}}})])]):t._e(),"siteinfo"===t.type?i("el-form-item",{attrs:{label:"Federation Secret"}},[t.sansViewDefault?i("span",{staticClass:"info-text"},[t._v(t._s(t.form.secretInfo.secret)+" "),i("img",{staticClass:"view",attrs:{src:s("901a")},on:{click:function(e){t.sansViewDefault=!t.sansViewDefault}}})]):t._e(),t.sansViewDefault?t._e():i("span",{staticClass:"info-text"},[t._v("***********************"),i("img",{staticClass:"view",attrs:{src:s("c990")},on:{click:function(e){t.sansViewDefault=!t.sansViewDefault}}})])]):t._e(),i("span",{staticClass:"registration-box"},[i("el-form-item",{attrs:{label:"",prop:""}},[i("span",{attrs:{slot:"label"},slot:"label"},[i("span",{staticStyle:{color:"#4E5766"}},[t._v(t._s(t.$t("Registration Link Setting")))])])]),i("el-form-item",{attrs:{label:t.$t("Link Type"),prop:"protocol"}},["siteinfo"===t.type&&t.form.protocol?i("span",{staticClass:"info-text"},[t._v(t._s("https://"===t.form.protocol?"HTTPS":"HTTP"))]):i("el-radio-group",{model:{value:t.form.protocol,callback:function(e){t.$set(t.form,"protocol",e)},expression:"form.protocol"}},[i("el-radio",{attrs:{label:"https://"}},[t._v("HTTPS")]),i("el-radio",{attrs:{label:"http://"}},[t._v("HTTP")])],1)],1),i("el-form-item",{attrs:{label:t.$t("Encryption"),prop:"encryptType"}},["siteinfo"===t.type&&t.form.encryptType?i("span",{staticClass:"info-text"},[t._v(t._s(1===t.form.encryptType?t.$t("EncryptionType"):t.$t("Unencrypted")))]):i("el-radio-group",{model:{value:t.form.encryptType,callback:function(e){t.$set(t.form,"encryptType",e)},expression:"form.encryptType"}},[i("el-radio",{attrs:{label:1}},[t._v(t._s(t.$t("EncryptionType")))]),i("el-radio",{attrs:{label:2}},[t._v(t._s(t.$t("Unencrypted")))])],1)],1),i("el-form-item",{attrs:{label:t.$t("Proxy Network Access"),prop:"network"}},["siteinfo"===t.type?i("span",{staticClass:"info-text"},[t._v(t._s(t.form.network))]):i("el-input",{model:{value:t.form.network,callback:function(e){t.$set(t.form,"network",e)},expression:"form.network"}}),"siteadd"===t.type||"siteUpdate"===t.type?i("span",{staticClass:"add-institutions",on:{click:t.toResetNetwork}},[t._v(t._s(t.$t("reset to default")))]):t._e()],1)],1),"siteinfo"===t.type?i("el-form-item",{attrs:{label:t.$t("Registration Link")}},[i("el-popover",{attrs:{placement:"top",width:"300",trigger:"hover",content:t.form.registrationLink}},[i("span",{staticClass:"link-text",staticStyle:{color:"#217AD9"},attrs:{slot:"reference"},slot:"reference"},[t._v(t._s(t.form.registrationLink))])]),i("span",{staticClass:"copy formcopy",attrs:{"data-clipboard-text":t.form.registrationLink},on:{click:function(e){return t.toCopy("from")}}},[t._v(t._s(t.$t("copy")))])],1):t._e()],1),i("div",{staticClass:"Submit"},["siteadd"===t.type?i("el-button",{attrs:{type:"primary"},on:{click:t.submitAction}},[t._v(t._s(t.$t("Submit")))]):t._e(),"siteUpdate"===t.type?i("el-button",{attrs:{type:"primary"},on:{click:t.submitAction}},[t._v(t._s(t.$t("Resubmit")))]):t._e(),"siteinfo"===t.type?i("el-button",{attrs:{type:"primary"},on:{click:t.modifyAction}},[t._v(t._s(t.$t("Modify")))]):t._e()],1)],1),i("el-dialog",{staticClass:"ok-dialog",attrs:{visible:t.okdialog,"close-on-click-modal":!1,"close-on-press-escape":!1},on:{"update:visible":function(e){t.okdialog=e}}},[i("div",{staticClass:"icon"},[i("i",{staticClass:"el-icon-success"})]),"siteadd"===t.type?i("div",{staticClass:"line-text-one"},[t._v(t._s(t.$t("Add successfully !")))]):t._e(),"siteUpdate"===t.type?i("div",{staticClass:"line-text-one"},[t._v(t._s(t.$t("Modify successfully !")))]):t._e(),i("div",{staticClass:"line-text-two"},[t._v(t._s(t.$t("the registration link has been generated as follows:")))]),i("div",{staticClass:"line-text-three"},[i("el-popover",{attrs:{placement:"top",width:"660",trigger:"hover",offset:"-30",content:t.form.registrationLink}},[i("span",{staticClass:"copy-link",attrs:{slot:"reference"},slot:"reference"},[t._v(t._s(t.form.registrationLink))])]),i("span",{staticClass:"copy dialogcopy",attrs:{"data-clipboard-text":t.form.registrationLink},on:{click:function(e){return t.toCopy("tooltip")}}},[t._v(t._s(t.$t("copy")))])],1),i("div",{staticClass:"dialog-footer"},[i("el-button",{staticClass:"ok-btn",attrs:{type:"primary"},on:{click:t.okAction}},[t._v(t._s(t.$t("OK")))])],1)]),i("el-dialog",{staticClass:"site-toleave-dialog",attrs:{visible:t.isleavedialog,width:"700px"},on:{"update:visible":function(e){t.isleavedialog=e}}},[i("div",{staticClass:"line-text-one"},[t._v(t._s(t.$t("Are you sure you want to leave this page ?")))]),i("div",{staticClass:"line-text-two"},[t._v(t._s(t.$t("Your information will not be saved.")))]),i("div",{staticClass:"dialog-footer"},[i("el-button",{staticClass:"sure-btn",attrs:{type:"primary"},on:{click:t.sureLeave}},[t._v(t._s(t.$t("Sure")))]),i("el-button",{staticClass:"sure-btn",attrs:{type:"info"},on:{click:t.cancelLeave}},[t._v(t._s(t.$t("Cancel")))])],1)]),i("siteaddip",{ref:"siteaddip"})],1)},a=[],n=(s("5df3"),s("4f7f"),s("75fc")),o=s("cebc"),r=(s("7f7f"),s("28a5"),s("ac6a"),s("3b2b"),s("c6a8")),c=s("34c7"),l=s("b311"),d=s.n(l),u=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("el-dialog",{staticClass:"add-dialog",attrs:{visible:t.adddialog,"close-on-click-modal":!1,"close-on-press-escape":!1,width:"520px"},on:{"update:visible":function(e){t.adddialog=e}}},[i("div",{staticClass:"add-dialog-head"},[i("el-button",{staticClass:"addUrl",attrs:{disabled:t.addDisabled,type:"text"},on:{click:t.addentrancesSelect}},[i("i",{staticClass:"el-icon-circle-plus"}),i("span",[t._v(t._s(t.$t("add")))])]),i("el-button",{staticClass:"deleteAll",attrs:{type:"text"},on:{click:t.deleteAll}},[i("i",{staticClass:"el-icon-delete-solid"}),i("span",[t._v(t._s(t.$t("delete")))])]),i("span",{staticClass:"total"},[t._v(t._s(t.$t("total"))+":"+t._s(t.addtotal))])],1),i("div",{staticClass:"add-dialog-body"},[i("div",{staticClass:"line-box"},t._l(t.entrancesSelect,function(e,s){return i("div",{key:s,staticClass:"line",on:{dblclick:function(e){return t.getEdit(s)}}},[e.show?t._e():i("span",[i("span",{staticClass:"network-text"},[t._v(t._s(e.ip))]),"entrances"===t.networkacesstype?i("span",{staticClass:"telent",on:{click:function(e){return t.testTelent(s)}}},[t._v(t._s(t.$t("telnet")))]):t._e(),i("i",{staticClass:"el-icon-close del",on:{click:function(e){return t.deleteEntrances(s)}}})]),e.show?i("el-input",{staticClass:"input-show",attrs:{autocomplete:"off",id:"close",placeholder:t.$t("The type like")+": 127.0.0.1:8080"},on:{blur:function(e){return t.closeEntrances(s)}},model:{value:t.entrancesInput,callback:function(e){t.entrancesInput=e},expression:"entrancesInput"}},[i("i",{staticClass:"el-icon-check check",attrs:{slot:"suffix"},on:{blur:function(e){return t.closeEntrances(s)}},slot:"suffix"}),i("i",{staticClass:"el-icon-close del",staticStyle:{right:"2px"},attrs:{slot:"suffix"},on:{click:function(e){return t.deleteEntrances(s)},mousedown:t.mouseDown},slot:"suffix"})]):t._e()],1)}),0),i("div",{staticClass:"message-add",style:{opacity:t.showMes,transition:"all 0.2s ease"}},[t.telnetsuccess?i("span",{staticClass:"tips"},[i("img",{attrs:{src:s("65823")}}),i("span",[t._v(t._s(t.$t("Telnet success"))+"!\n                        "),i("span",{staticStyle:{color:"#4AA2FF"}},[t._v(t._s(t.ipPost))])])]):t._e(),t.invalidsuccess?i("span",{staticClass:"tips"},[i("img",{attrs:{src:s("98a8")}}),i("span",[t._v(t._s(t.$t("Invalid input"))+"!")])]):t._e(),t.telnetfail?i("span",{staticClass:"tips"},[i("img",{attrs:{src:s("98a8")}}),i("span",[t._v(t._s(t.$t("Unable to connect"))+"!\n                        "),i("span",{staticStyle:{color:"#4AA2FF"}},[t._v(t._s(t.ipPost))])])]):t._e()])]),i("div",{staticClass:"add-dialog-footer"},[i("el-button",{staticClass:"save-btn",attrs:{disabled:t.saveDisabled,type:"primary"},on:{click:t.saveAction}},[t._v("Save")]),i("el-button",{staticClass:"cancel-btn",attrs:{type:"info"},on:{click:t.cancelAction}},[t._v(" Cancel ")])],1)])],1)},p=[],f={zh:{add:"添加",delete:"删除",telnet:"测试连接",total:"总共","The type like":"输入网关地址如","Telnet success":"测试连接通过","Invalid input":"地址输入不正确","Unable to connect":"无法连接至"},en:{add:"add",delete:"delete",telnet:"telnet",total:"total","The type like":"The type like","Telnet success":"Telnet success","Invalid input":"Invalid input","Unable to connect":"Unable to connect"}},h={name:"siteAddIp",components:{},data:function(){return{adddialog:!1,entrancesInput:"",networkacesstype:"",showMes:0,timeLess:null,entrancesSelect:[],addtotal:"",telnetsuccess:!1,telnetfail:!1,invalidsuccess:!1,saveDisabled:!1,addDisabled:!1,canEdit:!0,ipPost:"",verifyPromise:null}},watch:{entrancesSelect:{handler:function(t){this.addtotal=t.length,t.length>=20?this.addDisabled=!0:this.saveDisabled||(this.addDisabled=!1),t.length>=20||0===t.length?this.saveDisabled=!0:this.saveDisabled=!1},deep:!0,immediate:!0}},created:function(){this.$i18n.mergeLocaleMessage("en",f.en),this.$i18n.mergeLocaleMessage("zh",f.zh)},methods:{addentrancesSelect:function(){this.entrancesSelect.push({ip:"",show:!1,checked:!1}),this.canEdit=!0,this.getEdit(this.entrancesSelect.length-1)},deleteEntrances:function(t){this.entrancesInput="",this.entrancesSelect.splice(t,1),this.saveDisabled=!1,this.addDisabled=!1,this.canEdit=!0},deleteAll:function(){this.entrancesSelect=this.entrancesSelect.filter(function(t){return!t.checked})},getEdit:function(t){this.canEdit&&(this.entrancesSelect[t].show=!0,this.entrancesInput=this.entrancesSelect[t].ip,this.entrancesindex=t,this.canEdit=!1,this.addDisabled=!0,this.saveDisabled=!0,this.$nextTick(function(){var t=document.querySelector("#close");t.focus()}))},closeEntrances:function(t){var e=this,s=this.entrancesInput.split(":"),i=new RegExp(/^(\d|[1-9]\d|1\d{2}|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d{2}|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d{2}|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d{2}|2[0-4]\d|25[0-5])$/),a=new RegExp(/^([0-9]|[1-9]\d{1,3}|[1-5]\d{4}|6[0-4]\d{4}|65[0-4]\d{2}|655[0-2]\d|6553[0-5])$/);""===this.entrancesInput?this.deleteEntrances(t):a.test(s[1])&&i.test(s[0])?(this.entrancesSelect[this.entrancesindex].show=!1,this.entrancesSelect[this.entrancesindex].ip=this.entrancesInput,this.saveDisabled=!1,this.addDisabled=!1,this.canEdit=!0):(this.saveDisabled=!0,this.addDisabled=!0,this.invalidsuccess=!0,this.showMes=.8,setTimeout(function(){e.showMes=0,e.invalidsuccess=!1},2e3))},saveAction:function(){var t=Object(n["a"])(new Set(this.entrancesSelect.map(function(t){return"".concat(t.ip,";")})));"entrances"===this.networkacesstype?(this.$parent.form.networkAccessEntrances=t.join(""),this.$parent.$refs["infoform"].validateField("networkAccessEntrances",function(t){}),this.entrancesSelect=[]):"exit"===this.networkacesstype&&(this.$parent.form.networkAccessExits=t.join(""),this.$parent.$refs["infoform"].validateField("networkAccessExits",function(t){}),this.entrancesSelect=[]),this.adddialog=!1},mouseDown:function(t){t.preventDefault()},cancelAction:function(){this.showMes=0,this.entrancesSelect=[],this.saveDisabled=!1,this.addDisabled=!1,this.adddialog=!1},testTelent:function(t){var e=this,s={ip:this.entrancesSelect[t].ip.split(":")[0],port:parseInt(this.entrancesSelect[t].ip.split(":")[1])};this.ipPost=this.entrancesSelect[t].ip,Object(r["M"])(s).then(function(t){0===t.code&&(e.telnetsuccess=!0,e.showMes=.8,setTimeout(function(){e.telnetsuccess=!1,e.showMes=0},2e3))}).catch(function(t){109===t.code&&(e.telnetfail=!0,e.showMes=.8,setTimeout(function(){e.telnetfail=!1,e.showMes=0},2e3))})}}},m=h,y=(s("a8b2"),s("2877")),v=Object(y["a"])(m,u,p,!1,null,null,null),g=v.exports,A={zh:{"Add a site":"添加站点","Waiting for site activation...":"待激活...","Site Update":"站点信息更改","Site Name":"站点名称","Maximum of 20 chatacters":"不超过20个字符",Institution:"站点机构","Choose Institutions":"选择机构",add:"添加",Role:"站点角色","Choose Role":"选择角色","Party ID":"站点ID","choose an ID Group":"选择ID分组","Type the Party ID":"输入ID","Network Acess Entrances":"网关入口","Network Acess Exits":"网关出口","Registration Link Setting":"注册连接设置","Registration Link":"注册链接","Link Type":"链接类型",Encryption:"链接加密",EncryptionType:"已加密",Unencrypted:"未加密","Proxy Network Access":"代理网关",Submit:"提交",Resubmit:"重新提交",Modify:"修改信息","Are you sure you want to leave this page ?":"确定要离开此页吗 ?","Your information will not be saved.":"填写的信息将不会被保存。","Add successfully !":"添加成功 !","Modify successfully !":"修改成功 !","the registration link has been generated as follows:":"注册链接已经生成:","reset to default":"恢复默认"},en:{"Add a site":"Add a site","Waiting for site activation...":"Waiting for site activation...","Site Update":"Site Update","Site Name":"Site Name","Maximum of 20 chatacters":"Maximum of 20 chatacters",Institution:"Institution","Choose Institutions":"Choose Institutions",add:"add",Role:"Role","Choose Role":"Choose Role","Party ID":"Party ID","choose an ID Group":"choose an ID Group","Type the Party ID":"Type the Party ID","Network Acess Entrances":"Network Acess Entrances","Network Acess Exits":"Network Acess Exits","Registration Link Setting":"Registration Link Setting","Registration Link":"Registration Link","Link Type":"Link Type",Encryption:"Encryption",EncryptionType:"Encryption",Unencrypted:"Unencrypted","Proxy Network Access":"Proxy Network Access",Resubmit:"Resubmit",Modify:"Modify","Are you sure you want to leave this page ?":"Are you sure you want to leave this page ?","Your information will not be saved.":"Your information will not be saved.","Add successfully !":"Add successfully !","Modify successfully !":"Modify successfully !","the registration link has been generated as follows:":"the registration link has been generated as follows:","reset to default":"reset to default"}},k={name:"siteadd",components:{siteaddip:g},data:function(){var t=this;return{type:this.$route.query.type,id:"",isleave:!1,isleavedialog:!1,leaveRouteName:"",sansViewDefault:!1,keyViewDefault:!1,partyidname:[],partyidSelect:"",partyIdPostPass:!0,groupRange:"",okdialog:!1,downshow:!1,siteNameExists:!1,institutionsdownList:[],form:{groupId:"",siteName:"",institutions:"",role:"",partyId:"",network:"",networkAccessEntrances:"",networkAccessExits:"",secretInfo:{key:"",secret:""},exits:"",protocol:"https://",encryptType:1,registrationLink:""},roleOp:[{value:1,label:"Guest"},{value:2,label:"Host"}],rules:{siteName:[{required:!0,trigger:"change",validator:function(e,s,i){var a=s.trim();a?a.length>20?i(new Error("The Site Name cannot exceed 20 characters.")):t.siteNameExists?i(new Error("This site name already exists")):i():i(new Error("The Site Name field is required."))}}],institutions:[{required:!0,message:"Institution field is required.",trigger:"bulr"}],role:[{required:!0,message:"Role field is required.",trigger:"bulr"}],partyId:[{required:!0,trigger:"blur",validator:function(e,s,i){var a=new RegExp(/^-?[1-9]\d*$/),n=!0;t.groupRange.split(";").forEach(function(t){var e=t.split(/~|-/).map(function(t){return parseInt(t)}),i=parseInt(s);e&&e.length>1?e[0]<=i&&e[1]>=i&&(n=!1):e&&1===e.length&&e[0]===i&&(n=!1)}),s?n||!a.test(s)?i(new Error("Invalid Party ID.")):t.partyIdPostPass?i():i(new Error("This Party ID has been used, please reassign.")):i(new Error("Party ID field is required."))}}],networkAccessEntrances:[{required:!0,message:"Network Acess Entrances field is required.",trigger:"bulr"}],networkAccessExits:[{required:!0,message:"Network Acess Exit field is required.",trigger:"bulr"}],network:[{required:!0,message:"Proxy Network Access field is required.",trigger:"bulr"}]}}},watch:{},computed:{},created:function(){var t=this;"siteinfo"===this.type&&(this.isleave=!0),this.$route.query.id&&this.getKeySansLink(),Object(r["a"])().then(function(e){e.data.forEach(function(e,s){var i={};i.value=e,i.label=e,t.institutionsdownList.push(i)})}),this.$i18n.mergeLocaleMessage("en",A.en),this.$i18n.mergeLocaleMessage("zh",A.zh)},beforeDestroy:function(){},mounted:function(){var t=this;this.$router.beforeEach(function(e,s,i){t.leaveRouteName=e.name,t.isleave?i():(t.isleavedialog=!0,i(!1))})},methods:{toCheckSiteName:function(){var t=this;if(this.form.siteName){var e={siteName:this.form.siteName.trim(),id:this.$route.query.id};Object(r["i"])(e).then(function(e){0===e.code&&(t.siteNameExists=!1,t.$refs["infoform"].validateField("siteName"))}).catch(function(e){122===e.code&&(t.siteNameExists=!0,t.$refs["infoform"].validateField("siteName"))})}},tocheckPartyid:function(){var t=this;this.$refs["infoform"].validateField("partyId",function(e){if("Invalid Party ID"!==e&&"Party ID field is required"!==e){var s={id:t.$route.query.id,partyId:t.form.partyId,rangeInfo:Object(c["a"])(t.groupRange)};Object(r["h"])(s).then(function(e){0===e.code&&(t.partyIdPostPass=!0,t.$refs["infoform"].validateField("partyId",function(t){}))}).catch(function(e){103===e.code&&(t.partyIdPostPass=!1,t.$refs["infoform"].validateField("partyId",function(t){}))})}})},submitAction:function(){var t=this;this.form.siteName=this.form.siteName.trim(),"siteadd"===this.type?this.$refs["infoform"].validate(function(e){if(e){var s=Object(o["a"])({},t.form);Object(r["H"])(s).then(function(e){0===e.code&&(t.isleave=!0,t.id=e.data,t.okdialog=!0,setTimeout(function(){t.getKeySansLink()},300))})}}):"siteUpdate"===this.type&&this.$refs["infoform"].validate(function(e){if(e){var s=Object(o["a"])({},t.form);Object(r["K"])(s).then(function(e){0===e.code&&(t.isleave=!0,t.id=t.$route.query.id,t.okdialog=!0,setTimeout(function(){t.getKeySansLink()},300))})}})},modifyAction:function(){this.type="siteUpdate",this.isleave=!1},okAction:function(){this.okdialog=!1,this.$router.push({name:"Site Manage"})},sureLeave:function(){this.isleave=!0,this.isleavedialog=!1;var t="Admin Access"===this.leaveRouteName?{type:"FATEManager"}:"";this.$router.push({name:this.leaveRouteName,query:t})},cancelLeave:function(){this.isleavedialog=!1},addShow:function(t){if(this.$refs["siteaddip"].networkacesstype=t,this.$refs["siteaddip"].adddialog=!0,"entrances"===t)if(this.form.networkAccessEntrances){var e=[];this.form.networkAccessEntrances.split(";").forEach(function(t){if(t){var s={};s.ip=t,s.show=!1,s.checked=!1,e.push(s)}}),this.$refs["siteaddip"].entrancesSelect=Object(n["a"])(new Set(e))}else this.$refs["siteaddip"].entrancesSelect=[];else if("exit"===t)if(this.form.networkAccessExits){var s=[];this.form.networkAccessExits.split(";").forEach(function(t){if(t){var e={};e.ip=t,e.show=!1,e.checked=!1,s.push(e)}}),this.$refs["siteaddip"].entrancesSelect=Object(n["a"])(new Set(s))}else this.$refs["siteaddip"].entrancesSelect=[]},toPartyid:function(){this.$router.push({name:"Party ID"})},getPartyid:function(t){var e=this,s={pageNum:1,pageSize:100,role:t};this.partyidname=[],"siteadd"!==this.type&&"siteUpdate"!==this.type||(this.partyidSelect="",this.form.partyId=""),Object(r["p"])(s).then(function(t){t.data.list.forEach(function(t){var s={};s.value=t.groupName,s.label=t.groupName,s.rangeInfo=Object(c["b"])(t.federatedGroupDetailDos),s.groupId=t.groupId,e.partyidname.push(s)})})},selectPartyid:function(t){var e=this;this.partyidname.forEach(function(s){t===s.value&&(e.groupRange=s.rangeInfo,e.form.groupId=s.groupId)})},getKeySansLink:function(){var t=this,e={id:this.id?parseInt(this.id):parseInt(this.$route.query.id)};Object(r["s"])(e).then(function(e){if("siteinfo"===t.type){var s=Object(o["a"])({},e.data);e.data.protocol||e.data.encryptType||(s.protocol="https://",s.encryptType=1),t.form=Object(o["a"])({},s)}else t.form.registrationLink=e.data.registrationLink;t.partyidSelect=e.data.groupName,t.getPartyid(e.data.role),setTimeout(function(){t.selectPartyid(e.data.groupName)},500)})},toCopy:function(t){var e=this;if("tooltip"===t){var s=new d.a(".dialogcopy");s.on("success",function(t){e.$message({type:"success",message:"Success!"}),s.destroy()})}if("from"===t){var i=new d.a(".formcopy");i.on("success",function(t){e.$message({type:"success",message:"Success!"}),i.destroy()})}},cancelValid:function(t){this.$refs["infoform"].clearValidate(t),this["".concat(t,"warnshow")]=!1},toAddInstitutions:function(){this.$router.push({name:"Admin Access",query:{type:"FATE Manager"}})},toResetNetwork:function(){var t=this;Object(r["E"])().then(function(e){t.form.network=e.data.network})}}},w=k,b=(s("a14e"),Object(y["a"])(w,i,a,!1,null,null,null));e["default"]=b.exports},c990:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAASCAYAAABWzo5XAAAABHNCSVQICAgIfAhkiAAAAVNJREFUOE/VkzFSwlAURe/9kVDKDoQduAOxdcYxFI6lWFCrKxBXoLZSiKVaGIcZW+MO2AFhB1gSzHvOj3wMoDijNKRL/nvn33tfHrGkh0viYEVAO/uNTc/gGECZYNXaV2gEIE4FV88Pre5sJFPWgqBeSouFR9f8U34W6g1HtTBsD1zNBGRVrBEvIEvuUIFTb5i07Xta9OsELnLw+F205tRlIKtE/EJvFqKUrlFzY2uEcmTEVEGcTWCqA5OMKlZZBto9aIQE9/JWDE0l1TQiuDH+HhuabVHp5etUEXbur2sLQSLSBbE+Drvv0avOgaBPnbtWkLPmx64pu1FxLkYiKrOMlFqft4Y3kyTliTVb+Bk2oxlY0xhzm2Ukcgii+TUI7aeCYCpsd5iN3y+EJLcWrY6qvnrJKPh2/PnGsboThZYd1DYTjN9VL3/9If+zwCuytH+x+AEzK5sT5xPjdwAAAABJRU5ErkJggg=="}}]);